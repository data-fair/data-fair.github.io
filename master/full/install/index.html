<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>Data Fair - Installation et configuration</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="application" name="application-name" content="DataFair"><meta data-n-head="ssr" data-hid="description" name="description" content="DataFair - Documentation"><base href="/master/"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:300,400,500,700,400italic|Material+Icons"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="favicon.ico"><link data-n-head="ssr" rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:100,300,400,500,700,900&display=swap"><link data-n-head="ssr" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css"><style data-n-head="vuetify" type="text/css" id="vuetify-theme-stylesheet" nonce="undefined">.v-application a{color:#1e88e5}.v-application .primary{background-color:#1e88e5!important;border-color:#1e88e5!important}.v-application .primary--text{color:#1e88e5!important;caret-color:#1e88e5!important}.v-application .primary.lighten-5{background-color:#cfffff!important;border-color:#cfffff!important}.v-application .primary--text.text--lighten-5{color:#cfffff!important;caret-color:#cfffff!important}.v-application .primary.lighten-4{background-color:#b0f5ff!important;border-color:#b0f5ff!important}.v-application .primary--text.text--lighten-4{color:#b0f5ff!important;caret-color:#b0f5ff!important}.v-application .primary.lighten-3{background-color:#91d8ff!important;border-color:#91d8ff!important}.v-application .primary--text.text--lighten-3{color:#91d8ff!important;caret-color:#91d8ff!important}.v-application .primary.lighten-2{background-color:#70bdff!important;border-color:#70bdff!important}.v-application .primary--text.text--lighten-2{color:#70bdff!important;caret-color:#70bdff!important}.v-application .primary.lighten-1{background-color:#4da2ff!important;border-color:#4da2ff!important}.v-application .primary--text.text--lighten-1{color:#4da2ff!important;caret-color:#4da2ff!important}.v-application .primary.darken-1{background-color:#006fc9!important;border-color:#006fc9!important}.v-application .primary--text.text--darken-1{color:#006fc9!important;caret-color:#006fc9!important}.v-application .primary.darken-2{background-color:#0057ad!important;border-color:#0057ad!important}.v-application .primary--text.text--darken-2{color:#0057ad!important;caret-color:#0057ad!important}.v-application .primary.darken-3{background-color:#004092!important;border-color:#004092!important}.v-application .primary--text.text--darken-3{color:#004092!important;caret-color:#004092!important}.v-application .primary.darken-4{background-color:#002b78!important;border-color:#002b78!important}.v-application .primary--text.text--darken-4{color:#002b78!important;caret-color:#002b78!important}.v-application .secondary{background-color:#42a5f5!important;border-color:#42a5f5!important}.v-application .secondary--text{color:#42a5f5!important;caret-color:#42a5f5!important}.v-application .secondary.lighten-5{background-color:#e4ffff!important;border-color:#e4ffff!important}.v-application .secondary--text.text--lighten-5{color:#e4ffff!important;caret-color:#e4ffff!important}.v-application .secondary.lighten-4{background-color:#c5ffff!important;border-color:#c5ffff!important}.v-application .secondary--text.text--lighten-4{color:#c5ffff!important;caret-color:#c5ffff!important}.v-application .secondary.lighten-3{background-color:#a6f8ff!important;border-color:#a6f8ff!important}.v-application .secondary--text.text--lighten-3{color:#a6f8ff!important;caret-color:#a6f8ff!important}.v-application .secondary.lighten-2{background-color:#87dcff!important;border-color:#87dcff!important}.v-application .secondary--text.text--lighten-2{color:#87dcff!important;caret-color:#87dcff!important}.v-application .secondary.lighten-1{background-color:#66c0ff!important;border-color:#66c0ff!important}.v-application .secondary--text.text--lighten-1{color:#66c0ff!important;caret-color:#66c0ff!important}.v-application .secondary.darken-1{background-color:#018bd8!important;border-color:#018bd8!important}.v-application .secondary--text.text--darken-1{color:#018bd8!important;caret-color:#018bd8!important}.v-application .secondary.darken-2{background-color:#0072bc!important;border-color:#0072bc!important}.v-application .secondary--text.text--darken-2{color:#0072bc!important;caret-color:#0072bc!important}.v-application .secondary.darken-3{background-color:#0059a1!important;border-color:#0059a1!important}.v-application .secondary--text.text--darken-3{color:#0059a1!important;caret-color:#0059a1!important}.v-application .secondary.darken-4{background-color:#004286!important;border-color:#004286!important}.v-application .secondary--text.text--darken-4{color:#004286!important;caret-color:#004286!important}.v-application .accent{background-color:#ff9800!important;border-color:#ff9800!important}.v-application .accent--text{color:#ff9800!important;caret-color:#ff9800!important}.v-application .accent.lighten-5{background-color:#ffffa2!important;border-color:#ffffa2!important}.v-application .accent--text.text--lighten-5{color:#ffffa2!important;caret-color:#ffffa2!important}.v-application .accent.lighten-4{background-color:#ffff85!important;border-color:#ffff85!important}.v-application .accent--text.text--lighten-4{color:#ffff85!important;caret-color:#ffff85!important}.v-application .accent.lighten-3{background-color:#ffeb69!important;border-color:#ffeb69!important}.v-application .accent--text.text--lighten-3{color:#ffeb69!important;caret-color:#ffeb69!important}.v-application .accent.lighten-2{background-color:#ffcf4d!important;border-color:#ffcf4d!important}.v-application .accent--text.text--lighten-2{color:#ffcf4d!important;caret-color:#ffcf4d!important}.v-application .accent.lighten-1{background-color:#ffb32f!important;border-color:#ffb32f!important}.v-application .accent--text.text--lighten-1{color:#ffb32f!important;caret-color:#ffb32f!important}.v-application .accent.darken-1{background-color:#df7e00!important;border-color:#df7e00!important}.v-application .accent--text.text--darken-1{color:#df7e00!important;caret-color:#df7e00!important}.v-application .accent.darken-2{background-color:#bf6400!important;border-color:#bf6400!important}.v-application .accent--text.text--darken-2{color:#bf6400!important;caret-color:#bf6400!important}.v-application .accent.darken-3{background-color:#a14c00!important;border-color:#a14c00!important}.v-application .accent--text.text--darken-3{color:#a14c00!important;caret-color:#a14c00!important}.v-application .accent.darken-4{background-color:#843300!important;border-color:#843300!important}.v-application .accent--text.text--darken-4{color:#843300!important;caret-color:#843300!important}.v-application .error{background-color:#ff5252!important;border-color:#ff5252!important}.v-application .error--text{color:#ff5252!important;caret-color:#ff5252!important}.v-application .error.lighten-5{background-color:#ffe4d5!important;border-color:#ffe4d5!important}.v-application .error--text.text--lighten-5{color:#ffe4d5!important;caret-color:#ffe4d5!important}.v-application .error.lighten-4{background-color:#ffc6b9!important;border-color:#ffc6b9!important}.v-application .error--text.text--lighten-4{color:#ffc6b9!important;caret-color:#ffc6b9!important}.v-application .error.lighten-3{background-color:#ffa99e!important;border-color:#ffa99e!important}.v-application .error--text.text--lighten-3{color:#ffa99e!important;caret-color:#ffa99e!important}.v-application .error.lighten-2{background-color:#ff8c84!important;border-color:#ff8c84!important}.v-application .error--text.text--lighten-2{color:#ff8c84!important;caret-color:#ff8c84!important}.v-application .error.lighten-1{background-color:#ff6f6a!important;border-color:#ff6f6a!important}.v-application .error--text.text--lighten-1{color:#ff6f6a!important;caret-color:#ff6f6a!important}.v-application .error.darken-1{background-color:#df323b!important;border-color:#df323b!important}.v-application .error--text.text--darken-1{color:#df323b!important;caret-color:#df323b!important}.v-application .error.darken-2{background-color:#bf0025!important;border-color:#bf0025!important}.v-application .error--text.text--darken-2{color:#bf0025!important;caret-color:#bf0025!important}.v-application .error.darken-3{background-color:#9f0010!important;border-color:#9f0010!important}.v-application .error--text.text--darken-3{color:#9f0010!important;caret-color:#9f0010!important}.v-application .error.darken-4{background-color:maroon!important;border-color:maroon!important}.v-application .error--text.text--darken-4{color:maroon!important;caret-color:maroon!important}.v-application .info{background-color:#2196f3!important;border-color:#2196f3!important}.v-application .info--text{color:#2196f3!important;caret-color:#2196f3!important}.v-application .info.lighten-5{background-color:#d4ffff!important;border-color:#d4ffff!important}.v-application .info--text.text--lighten-5{color:#d4ffff!important;caret-color:#d4ffff!important}.v-application .info.lighten-4{background-color:#b5ffff!important;border-color:#b5ffff!important}.v-application .info--text.text--lighten-4{color:#b5ffff!important;caret-color:#b5ffff!important}.v-application .info.lighten-3{background-color:#95e8ff!important;border-color:#95e8ff!important}.v-application .info--text.text--lighten-3{color:#95e8ff!important;caret-color:#95e8ff!important}.v-application .info.lighten-2{background-color:#75ccff!important;border-color:#75ccff!important}.v-application .info--text.text--lighten-2{color:#75ccff!important;caret-color:#75ccff!important}.v-application .info.lighten-1{background-color:#51b0ff!important;border-color:#51b0ff!important}.v-application .info--text.text--lighten-1{color:#51b0ff!important;caret-color:#51b0ff!important}.v-application .info.darken-1{background-color:#007cd6!important;border-color:#007cd6!important}.v-application .info--text.text--darken-1{color:#007cd6!important;caret-color:#007cd6!important}.v-application .info.darken-2{background-color:#0064ba!important;border-color:#0064ba!important}.v-application .info--text.text--darken-2{color:#0064ba!important;caret-color:#0064ba!important}.v-application .info.darken-3{background-color:#004d9f!important;border-color:#004d9f!important}.v-application .info--text.text--darken-3{color:#004d9f!important;caret-color:#004d9f!important}.v-application .info.darken-4{background-color:#003784!important;border-color:#003784!important}.v-application .info--text.text--darken-4{color:#003784!important;caret-color:#003784!important}.v-application .success{background-color:#4caf50!important;border-color:#4caf50!important}.v-application .success--text{color:#4caf50!important;caret-color:#4caf50!important}.v-application .success.lighten-5{background-color:#dcffd6!important;border-color:#dcffd6!important}.v-application .success--text.text--lighten-5{color:#dcffd6!important;caret-color:#dcffd6!important}.v-application .success.lighten-4{background-color:#beffba!important;border-color:#beffba!important}.v-application .success--text.text--lighten-4{color:#beffba!important;caret-color:#beffba!important}.v-application .success.lighten-3{background-color:#a2ff9e!important;border-color:#a2ff9e!important}.v-application .success--text.text--lighten-3{color:#a2ff9e!important;caret-color:#a2ff9e!important}.v-application .success.lighten-2{background-color:#85e783!important;border-color:#85e783!important}.v-application .success--text.text--lighten-2{color:#85e783!important;caret-color:#85e783!important}.v-application .success.lighten-1{background-color:#69cb69!important;border-color:#69cb69!important}.v-application .success--text.text--lighten-1{color:#69cb69!important;caret-color:#69cb69!important}.v-application .success.darken-1{background-color:#2d9437!important;border-color:#2d9437!important}.v-application .success--text.text--darken-1{color:#2d9437!important;caret-color:#2d9437!important}.v-application .success.darken-2{background-color:#00791e!important;border-color:#00791e!important}.v-application .success--text.text--darken-2{color:#00791e!important;caret-color:#00791e!important}.v-application .success.darken-3{background-color:#006000!important;border-color:#006000!important}.v-application .success--text.text--darken-3{color:#006000!important;caret-color:#006000!important}.v-application .success.darken-4{background-color:#004700!important;border-color:#004700!important}.v-application .success--text.text--darken-4{color:#004700!important;caret-color:#004700!important}.v-application .warning{background-color:#e91e63!important;border-color:#e91e63!important}.v-application .warning--text{color:#e91e63!important;caret-color:#e91e63!important}.v-application .warning.lighten-5{background-color:#ffc0e7!important;border-color:#ffc0e7!important}.v-application .warning--text.text--lighten-5{color:#ffc0e7!important;caret-color:#ffc0e7!important}.v-application .warning.lighten-4{background-color:#ffa3cb!important;border-color:#ffa3cb!important}.v-application .warning--text.text--lighten-4{color:#ffa3cb!important;caret-color:#ffa3cb!important}.v-application .warning.lighten-3{background-color:#ff85b0!important;border-color:#ff85b0!important}.v-application .warning--text.text--lighten-3{color:#ff85b0!important;caret-color:#ff85b0!important}.v-application .warning.lighten-2{background-color:#ff6795!important;border-color:#ff6795!important}.v-application .warning--text.text--lighten-2{color:#ff6795!important;caret-color:#ff6795!important}.v-application .warning.lighten-1{background-color:#ff467c!important;border-color:#ff467c!important}.v-application .warning--text.text--lighten-1{color:#ff467c!important;caret-color:#ff467c!important}.v-application .warning.darken-1{background-color:#c9004b!important;border-color:#c9004b!important}.v-application .warning--text.text--darken-1{color:#c9004b!important;caret-color:#c9004b!important}.v-application .warning.darken-2{background-color:#aa0035!important;border-color:#aa0035!important}.v-application .warning--text.text--darken-2{color:#aa0035!important;caret-color:#aa0035!important}.v-application .warning.darken-3{background-color:#8b0021!important;border-color:#8b0021!important}.v-application .warning--text.text--darken-3{color:#8b0021!important;caret-color:#8b0021!important}.v-application .warning.darken-4{background-color:#6c000a!important;border-color:#6c000a!important}.v-application .warning--text.text--darken-4{color:#6c000a!important;caret-color:#6c000a!important}.v-application .admin{background-color:#e53935!important;border-color:#e53935!important}.v-application .admin--text{color:#e53935!important;caret-color:#e53935!important}.v-application .admin.lighten-5{background-color:#ffccb3!important;border-color:#ffccb3!important}.v-application .admin--text.text--lighten-5{color:#ffccb3!important;caret-color:#ffccb3!important}.v-application .admin.lighten-4{background-color:#ffaf98!important;border-color:#ffaf98!important}.v-application .admin--text.text--lighten-4{color:#ffaf98!important;caret-color:#ffaf98!important}.v-application .admin.lighten-3{background-color:#ff927e!important;border-color:#ff927e!important}.v-application .admin--text.text--lighten-3{color:#ff927e!important;caret-color:#ff927e!important}.v-application .admin.lighten-2{background-color:#ff7565!important;border-color:#ff7565!important}.v-application .admin--text.text--lighten-2{color:#ff7565!important;caret-color:#ff7565!important}.v-application .admin.lighten-1{background-color:#ff584c!important;border-color:#ff584c!important}.v-application .admin--text.text--lighten-1{color:#ff584c!important;caret-color:#ff584c!important}.v-application .admin.darken-1{background-color:#c50f1f!important;border-color:#c50f1f!important}.v-application .admin--text.text--darken-1{color:#c50f1f!important;caret-color:#c50f1f!important}.v-application .admin.darken-2{background-color:#a50009!important;border-color:#a50009!important}.v-application .admin--text.text--darken-2{color:#a50009!important;caret-color:#a50009!important}.v-application .admin.darken-3{background-color:#860000!important;border-color:#860000!important}.v-application .admin--text.text--darken-3{color:#860000!important;caret-color:#860000!important}.v-application .admin.darken-4{background-color:#690000!important;border-color:#690000!important}.v-application .admin--text.text--darken-4{color:#690000!important;caret-color:#690000!important}</style><link rel="preload" href="/master/_nuxt/65d700a.js" as="script"><link rel="preload" href="/master/_nuxt/49cccad.js" as="script"><link rel="preload" href="/master/_nuxt/css/6277c2a.css" as="style"><link rel="preload" href="/master/_nuxt/6667918.js" as="script"><link rel="preload" href="/master/_nuxt/css/5c9a69b.css" as="style"><link rel="preload" href="/master/_nuxt/8a5fb45.js" as="script"><link rel="preload" href="/master/_nuxt/css/e272f13.css" as="style"><link rel="preload" href="/master/_nuxt/1bb5a98.js" as="script"><link rel="preload" href="/master/_nuxt/css/8604506.css" as="style"><link rel="preload" href="/master/_nuxt/c8933ce.js" as="script"><link rel="stylesheet" href="/master/_nuxt/css/6277c2a.css"><link rel="stylesheet" href="/master/_nuxt/css/5c9a69b.css"><link rel="stylesheet" href="/master/_nuxt/css/e272f13.css"><link rel="stylesheet" href="/master/_nuxt/css/8604506.css"><link rel="preload" href="/master/_nuxt/static/1651682272/full/install/state.js" as="script"><link rel="preload" href="/master/_nuxt/static/1651682272/full/install/payload.js" as="script"><link rel="preload" href="/master/_nuxt/static/1651682272/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-app="true" id="app" class="v-application v-application--is-ltr theme--light"><div class="v-application--wrap"><main class="v-main" style="padding-top:0;padding-right:0;padding-bottom:0;padding-left:0"><div class="v-main__wrap"><div class="full-chapter"><div class="mt-6 pt-6 text-center col"><div class="v-image v-responsive my-6 theme--light" style="height:160px"><div class="v-image__image v-image__image--preload v-image__image--contain" style="background-position:center center"></div><div class="v-responsive__content"></div></div> <h1 class="text-h3 grey--text text--darken-3">
      Data Fair
    </h1> <h4>
      Version 3.20.1
    </h4> <h1 class="text-h3 grey--text text--darken-3" style="margin-top:200px">Installation et configuration</h1> <h4 style="margin-top:200px!important">
      04 mai 2022<br></h4></div> <div class="page-break"></div> <div class="row mt-4 justify-center"><div><h2 class="text-h4 my-4 grey--text text--darken-3">Table des matières</h2> <h4><a href="#install">1 - Installation</a> <!----></h4><h4><a href="#config">2 - Configuration</a> <!----></h4></div></div> <div class="page-break"></div> <div class="page-break"></div> <h2 id="install" class="text-h4 my-4 grey--text text--darken-3 section-title">
      1 - Installation
      <!----></h2> <div class="container doc-page"><div class="row"><div class="col"><!----> <!----> <!----> <!----> <div cols="12" style="display:none"><p>A complete Data Fair installation is constitued of multiple Web services, to understand how it works please read about the <a href="%7B%7BDOC_BASE%7D%7Dtechnical-architecture/">technical architecture</a>.</p>
<p>The recommended installation is based on <a href="https://docker.com">Docker</a> containers, and <a href="https://github.com/data-fair/data-fair/pkgs/container/data-fair">this image</a> in particular.</p>
<h2 id="requisites">Requisites</h2>
<h3 id="hardware-setup">Hardware setup</h3>
<p>This documentation was written using Linux (Ubuntu 20.04), but any Linux running a recent Docker service should work the same. Minimal recommended configuration is as follow:</p>
<ul>
<li>At least 2 cores, 4 is better if mongodb and elasticsearch are deployed too</li>
<li>4 Gb of memory, 16 if mongodb and elasticsearch are deployed too</li>
<li>50 Gb of SSD hard drive</li>
<li>100 Mbits of up and down bandwidth</li>
</ul>
<h3 id="docker">Docker</h3>
<p>Install Docker following the <a href="https://docs.docker.com/engine/installation/">official documentation</a>.</p>
<p>To use the standard installation recipes install Docker Compose following the <a href="https://docs.docker.com/compose/install/">official documentation</a>.</p>
<h3 id="mongodb">MongoDB</h3>
<p>Data Fair requires MongoDB 4.x. It can be <a href="https://docs.mongodb.com/v4.4/installation/">installed in various ways</a>.</p>
<p><strong>Manual installation of MongoDB is optional</strong>, you can install it alongside Data Fair Web services using the Docker Compose recipes below.</p>
<h3 id="elasticsearch">ElasticSearch</h3>
<p>Data Fair requires ElasticSearch 7.x with the ingest-attachment plugin. See <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.0/install-elasticsearch.html">installation instructions here</a>.</p>
<p><strong>Manual installation of ElasticSearch is optional</strong>, you can install it alongside Data Fair Web services using the Docker Compose recipes below.</p>
<h2 id="recipe-1--simple-local-installation">Recipe 1 : simple local installation</h2>
<p>This recipe runs Data Fair and its most important dependencies locally on your computer.</p>
<ul>
<li>download files <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/local/data-fair.env">data-fair.env</a>, <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/local/default.conf">default.conf</a> and <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/local/docker-compose.yaml">docker-compose.yaml</a> next to each other in a directory.</li>
<li>run <code>docker-compose --env-file data-fair.env up -d</code> in the directory</li>
<li>check that all containers are up with <code>docker-compose ps</code></li>
<li>you should be able to open <a href="http://localhost">http://localhost</a></li>
<li>the superadmin user is <em><a href="mailto:admin@test.com">admin@test.com</a></em> on the login page you can click on <em>Renew the password</em> then on <em>Open the development mail box</em> to define its password then use it to login</li>
</ul>
<h2 id="recipe-2--full-installation">Recipe 2 : full installation</h2>
<p>This recipe can run Data Fair on a virtual machine exposed to the internet.</p>
<ul>
<li>download files <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/full/data-fair.env">data-fair.env</a>, <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/full/default.conf">default.conf</a> and <a href="%7B%7BDOC_BASE%7D%7Dinstall-resources/full/docker-compose.yaml">docker-compose.yaml</a> next to each other in a directory.</li>
<li>carefully read and edit the <em>.env</em> file</li>
<li>edit the line <em>server_name</em> in default.conf</li>
<li>run <code>docker-compose --env-file data-fair.env up -d</code> in the directory</li>
<li>check that all containers are up with <code>docker-compose ps</code></li>
<li>check that the reverse proxy is attempting to create a certificate with <code>docker-compose logs nginx</code></li>
<li>you should be able to open data-fair in your browser using your domain name</li>
</ul>
<p>This recipe completes the previous one in many ways that you can chose to use or not by tinkering with the files. These improvements are detailed below.</p>
<h3 id="mails-transport-configuration">Mails transport configuration</h3>
<p>By changing the MAILS_TRANSPORT and MAILDEV_ACTIVE variables you can switch from the temporary maildev solution to a proper mail transport. Please note that this element of the configuration should be managed quite early as it is unsafe to expose maildev to the internet.</p>
<h3 id="https-using-letsencrypt-certificate">HTTPS using letsencrypt certificate</h3>
<p>The nginx reverse proxy is configured to expose every services over the HTTPS, this will improve security. The certificate provider is letsencrypt and the certificate is automatically generated which requires that the domain name and the machine are available from the internet.</p>
<p>The related changes are:</p>
<ul>
<li>the use of another image for the nginx container (jonasal/nginx-certbot)</li>
<li>the new volume nginx-letsencrypt</li>
<li>variable BASE_URL in data-fair.env</li>
<li>the whole beginning of the server block in default.conf.</li>
</ul>
<h3 id="reverse-proxy-cache">Reverse proxy cache</h3>
<p>The nginx reverse proxy is configured to act as a cache for Data Fair, this will improve response times and limit the load on the service. It is mostly important when exposing Data Fair to the internet and creating public datasets.</p>
<p>The related changes are:</p>
<ul>
<li>the definition of data-fair-cache in default.conf</li>
<li>the new volume nginx-cache in docker-compose.yaml</li>
</ul>
<h3 id="server--worker-separation">Server / worker separation</h3>
<p>The <em>data-fair</em> service has a new MODE=server variable and there is a new service <em>data-fair-worker</em>. This will improve the responsiveness of the HTTP server when there is heavy work going on in the worker (files parsing, etc).</p>
<h3 id="portals">Portals</h3>
<p>Portals is a companion service to Data Fair that lets you create private or open data portals using Data Fair as a backend. Look at the new left navigation items (as normal user and as super admin).</p>
<p>The related changes are:</p>
<ul>
<li>the new service <em>portals</em></li>
<li>the new volume <em>portals-data</em></li>
<li>a new location rule in default.conf</li>
<li>the new variables EXTRA_NAV_ITEMS and EXTRA_ADMIN_NAV_ITEMS in data-fair.env and the <em>data-fair</em> service</li>
</ul>
<h3 id="processings">Processings</h3>
<p>Processings is a companion service to Data Fair that lets you define and run tasks based on plugins published on npm. Look at the new left navigation items (as normal user and as super admin).</p>
<p>The related changes are:</p>
<ul>
<li>the new services <em>processings</em> and <em>processings-worker</em></li>
<li>the new volume <em>processings-data</em></li>
<li>a new location rule in default.conf</li>
<li>the new variables EXTRA_NAV_ITEMS and EXTRA_ADMIN_NAV_ITEMS in data-fair.env and the <em>data-fair</em> service</li>
</ul>
<h3 id="metrics">Metrics</h3>
<p>Metrics is a companion service to Data Fair that can receive logs over UDP from the reverse proxy to store aggregated usage metrics of your datasets. Look at the new left navigation item.</p>
<p>The related changes are:</p>
<ul>
<li>the new service <em>metrics</em></li>
<li>a new location rule in default.conf</li>
<li>the new <em>log_format</em> and <em>access_log</em> rules in default.conf</li>
<li>the new variables EXTRA_NAV_ITEMS and EXTRA_ADMIN_NAV_ITEMS in data-fair.env and the <em>data-fair</em> service</li>
</ul>
<h3 id="backup">Backup</h3>
<p><strong>TODO</strong></p>
</div></div></div></div><div class="page-break"></div> <h2 id="config" class="text-h4 my-4 grey--text text--darken-3 section-title">
      2 - Configuration
      <!----></h2> <div class="container doc-page"><div class="row"><div class="col"><!----> <!----> <!----> <!----> <div cols="12" style="display:none"><h3 id="variables">Variables</h3>
<p><em>Data Fair</em> supports quite a large number of parameters that are documented below. We try as much as possible to define sensible default values, still some parameters will almost always need to be overridden, these parameters have <strong>IMPORTANT</strong> in their descriptions.</p>
<p>Parameters can be overridden by directly modifying the files, but the recommanded way is to use environment variables.</p>
<p>{{CONFIG_VARS}}</p>
</div></div></div></div></div></div></main></div></div></div></div><script defer src="/master/_nuxt/static/1651682272/full/install/state.js"></script><script src="/master/_nuxt/65d700a.js" defer></script><script src="/master/_nuxt/1bb5a98.js" defer></script><script src="/master/_nuxt/c8933ce.js" defer></script><script src="/master/_nuxt/49cccad.js" defer></script><script src="/master/_nuxt/6667918.js" defer></script><script src="/master/_nuxt/8a5fb45.js" defer></script>
  </body>
</html>
