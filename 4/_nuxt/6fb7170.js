(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1220:function(t,e,n){"use strict";n(1221)},1221:function(t,e,n){"use strict";var r=n(5),c=n(18);r({global:!0,forced:c.globalThis!==c},{globalThis:c})},1226:function(t,e,n){"use strict";var r=n(853),c=n(863);var o=t=>{const{r:e,g:g,b:b}=c.a.parse(t),n=.2126*r.a.channel.toLinear(e)+.7152*r.a.channel.toLinear(g)+.0722*r.a.channel.toLinear(b);return r.a.lang.round(n)};var l=t=>o(t)>=.5;e.a=t=>!l(t)},1238:function(t,e,n){"use strict";n.r(e),n.d(e,"diagram",(function(){return U}));var r=n(9),c=(n(89),n(23),n(56),n(35),n(960),n(79),n(82),n(27),n(187),n(1220),n(95),n(6),n(235),n(957),n(958),n(959),n(10),n(49),n(461),n(463),n(13),n(12),n(11),n(41),n(36),n(24),n(50),n(43),n(57),n(976)),o=n(851),l=n(1226),h=n(1234),d=n(1233);n(917),n(918),n(919),n(920),n(886),n(848),n(944),n(938),n(845),n(885),n(872),n(868),n(933),n(934),n(935);function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,c=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw c}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var m=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,26,27,28],c=[1,15],o=[1,16],l=[1,17],h=[1,18],d=[1,19],y=[1,23],f=[1,24],m=[1,27],v=[4,6,9,11,17,18,20,22,23,26,27,28],_={trace:function(){},yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,period_statement:24,event_statement:25,period:26,event:27,open_directive:28,type_directive:29,arg_directive:30,close_directive:31,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",26:"period",27:"event",28:"open_directive",29:"type_directive",30:"arg_directive",31:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[24,1],[25,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,c,o,l){var h=o.length-1;switch(c){case 1:return o[h-1];case 3:case 7:case 8:this.$=[];break;case 4:o[h-1].push(o[h]),this.$=o[h-1];break;case 5:case 6:this.$=o[h];break;case 11:r.getCommonDb().setDiagramTitle(o[h].substr(6)),this.$=o[h].substr(6);break;case 12:this.$=o[h].trim(),r.getCommonDb().setAccTitle(this.$);break;case 13:case 14:this.$=o[h].trim(),r.getCommonDb().setAccDescription(this.$);break;case 15:r.addSection(o[h].substr(8)),this.$=o[h].substr(8);break;case 19:r.addTask(o[h],0,""),this.$=o[h];break;case 20:r.addEvent(o[h].substr(2)),this.$=o[h];break;case 21:r.parseDirective("%%{","open_directive");break;case 22:r.parseDirective(o[h],"type_directive");break;case 23:o[h]=o[h].trim().replace(/'/g,'"'),r.parseDirective(o[h],"arg_directive");break;case 24:r.parseDirective("}%%","close_directive","timeline")}},table:[{3:1,4:e,7:3,12:4,28:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,28:n},{13:8,29:[1,9]},{29:[2,21]},{6:[1,10],7:22,8:11,9:[1,12],10:13,11:[1,14],12:4,17:c,18:o,20:l,22:h,23:d,24:20,25:21,26:y,27:f,28:n},{1:[2,2]},{14:25,15:[1,26],31:m},t([15,31],[2,22]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:22,10:28,12:4,17:c,18:o,20:l,22:h,23:d,24:20,25:21,26:y,27:f,28:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,29]},{21:[1,30]},t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(r,[2,19]),t(r,[2,20]),{11:[1,31]},{16:32,30:[1,33]},{11:[2,24]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(v,[2,9]),{14:34,31:m},{31:[2,23]},{11:[1,35]},t(v,[2,10])],defaultActions:{5:[2,21],7:[2,2],27:[2,24],33:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(input){var t=this,e=[0],n=[],r=[null],c=[],table=this.table,o="",l=0,h=0,d=c.slice.call(arguments,1),y=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);y.setInput(input,f.yy),f.yy.lexer=y,f.yy.parser=this,void 0===y.yylloc&&(y.yylloc={});var v=y.yylloc;c.push(v);var _=y.options&&y.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,x,k,w,p,S,E,O,j,I={};;){if(x=e[e.length-1],this.defaultActions[x]?k=this.defaultActions[x]:(null==symbol&&(j=void 0,"number"!=typeof(j=n.pop()||y.lex()||1)&&(j instanceof Array&&(j=(n=j).pop()),j=t.symbols_[j]||j),symbol=j),k=table[x]&&table[x][symbol]),void 0===k||!k.length||!k[0]){var T="";for(p in O=[],table[x])this.terminals_[p]&&p>2&&O.push("'"+this.terminals_[p]+"'");T=y.showPosition?"Parse error on line "+(l+1)+":\n"+y.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(T,{text:y.match,token:this.terminals_[symbol]||symbol,line:y.yylineno,loc:v,expected:O})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+symbol);switch(k[0]){case 1:e.push(symbol),r.push(y.yytext),c.push(y.yylloc),e.push(k[1]),symbol=null,h=y.yyleng,o=y.yytext,l=y.yylineno,v=y.yylloc;break;case 2:if(S=this.productions_[k[1]][1],I.$=r[r.length-S],I._$={first_line:c[c.length-(S||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(S||1)].first_column,last_column:c[c.length-1].last_column},_&&(I._$.range=[c[c.length-(S||1)].range[0],c[c.length-1].range[1]]),void 0!==(w=this.performAction.apply(I,[o,h,l,f.yy,k[1],r,c].concat(d))))return w;S&&(e=e.slice(0,-1*S*2),r=r.slice(0,-1*S),c=c.slice(0,-1*S)),e.push(this.productions_[k[1]][0]),r.push(I.$),c.push(I._$),E=table[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(input,t){return this.yy=t||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var c=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),t=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+t+"^"},test_match:function(t,e){var n,r,c;if(this.options.backtrack_lexer&&(c={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(c.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in c)this[o]=c[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var c=this._currentRules(),i=0;i<c.length;i++)if((n=this._input.match(this.rules[c[i]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,c[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,c[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),28;case 1:return this.begin("type_directive"),29;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),31;case 4:return 30;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 27;case 21:return 26;case 22:return 6;case 23:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?::\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23],inclusive:!0}}};function k(){this.yy={}}return _.lexer=x,k.prototype=_,_.Parser=k,new k}();m.parser=m;var v=m,_="",x=0,k=[],w=[],S=[],E=function(){return c.j},O=function(t,e,n){Object(c.k)(globalThis,t,e,n)},j=function(){k.length=0,w.length=0,_="",S.length=0,Object(c.m)()},I=function(t){_=t,k.push(t)},T=function(){return k},A=function(){for(var t=C(),e=0;!t&&e<100;)t=C(),e++;return w.push.apply(w,S),w},D=function(t,e,n){var r={id:x++,section:_,type:_,task:t,score:e||0,events:n?[n]:[]};S.push(r)},L=function(t){S.find((function(t){return t.id===x-1})).events.push(t)},M=function(t){var e={section:_,type:_,description:t,task:t,classes:[]};w.push(e)},C=function(){var t,e=!0,n=y(S.entries());try{for(n.s();!(t=n.n()).done;){var c=Object(r.a)(t.value,2),i=c[0],o=c[1];S[i].processed,e=e&&o.processed}}catch(t){n.e(t)}finally{n.f()}return e},$={clear:j,getCommonDb:E,addSection:I,getSections:T,getTasks:A,addTask:D,addTaskOrg:M,addEvent:L,parseDirective:O},H=Object.freeze(Object.defineProperty({__proto__:null,addEvent:L,addSection:I,addTask:D,addTaskOrg:M,clear:j,default:$,getCommonDb:E,getSections:T,getTasks:A,parseDirective:O},Symbol.toStringTag,{value:"Module"}));!function(){function t(content,g,t,e,n,c,o,l){r(g.append("text").attr("x",t+n/2).attr("y",e+c/2+5).style("font-color",l).style("text-anchor","middle").text(content),o)}function e(content,g,t,e,n,c,o,l,h){for(var d=l.taskFontSize,y=l.taskFontFamily,f=content.split(/<br\s*\/?>/gi),i=0;i<f.length;i++){var m=i*d-d*(f.length-1)/2,text=g.append("text").attr("x",t+n/2).attr("y",e).attr("fill",h).style("text-anchor","middle").style("font-size",d).style("font-family",y);text.append("tspan").attr("x",t+n/2).attr("dy",m).text(f[i]),text.attr("y",e+c/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(text,o)}}function n(content,g,t,n,c,o,l,h){var body=g.append("switch"),text=body.append("foreignObject").attr("x",t).attr("y",n).attr("width",c).attr("height",o).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");text.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(content),e(content,body,t,n,c,o,l,h),r(text,l)}function r(t,e){for(var n in e)n in e&&t.attr(n,e[n])}}();function z(text,t){text.each((function(){for(var e,n=Object(o.F)(this),r=n.text().split(/(\s+|<br>)/).reverse(),line=[],c=n.attr("y"),l=parseFloat(n.attr("dy")),tspan=n.text(null).append("tspan").attr("x",0).attr("y",c).attr("dy",l+"em"),h=0;h<r.length;h++)e=r[r.length-1-h],line.push(e),tspan.text(line.join(" ").trim()),(tspan.node().getComputedTextLength()>t||"<br>"===e)&&(line.pop(),tspan.text(line.join(" ").trim()),line="<br>"===e?[""]:[e],tspan=n.append("tspan").attr("x",0).attr("y",c).attr("dy","1.1em").text(e))}))}var P=function(t,e,section){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d","M0 ".concat(e.height-5," v").concat(10-e.height," q0,-5 5,-5 h").concat(e.width-10," q5,0 5,5 v").concat(e.height-5," H0 Z")),t.append("line").attr("class","node-line-"+section).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},F=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},N=function(t,e,n,r){var section=n%12-1,c=t.append("g");e.section=section,c.attr("class",(e.class?e.class+" ":"")+"timeline-node section-"+section);var o=c.append("g"),l=c.append("g"),h=l.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(z,e.width).node().getBBox(),d=r.fontSize&&r.fontSize.replace?r.fontSize.replace("px",""):r.fontSize;return e.height=h.height+1.1*d*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,l.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),P(o,e,section),e},W=function(t,e,n){var r=t.append("g"),c=r.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(z,e.width).node().getBBox(),o=n.fontSize&&n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;return r.remove(),c.height+1.1*o*.5+e.padding},B=function(t,e,n,r,o,l,h,d,f,m,v){var _,x=y(e);try{for(x.s();!(_=x.n()).done;){var k=_.value,w={descr:k.task,section:n,number:n,width:150,padding:20,maxHeight:l};c.l.debug("taskNode",w);var S=t.append("g").attr("class","taskWrapper"),E=N(S,w,n,h).height;if(c.l.debug("taskHeight after draw",E),S.attr("transform","translate(".concat(r,", ").concat(o,")")),l=Math.max(l,E),k.events){var O=t.append("g").attr("class","lineWrapper");o+=100,R(t,k.events,n,r,o,h),o-=100,O.append("line").attr("x1",r+95).attr("y1",o+l).attr("x2",r+95).attr("y2",o+l+(v?l:m)+f+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}r+=200,v&&!Object(c.g)().timeline.disableMulticolor&&n++}}catch(t){x.e(t)}finally{x.f()}o-=10},R=function(t,e,n,r,o,l){var h=0,d=o;o+=100;var f,m=y(e);try{for(m.s();!(f=m.n()).done;){var v={descr:f.value,section:n,number:n,width:150,padding:20,maxHeight:50};c.l.debug("eventNode",v);var _=t.append("g").attr("class","eventWrapper"),x=N(_,v,n,l).height;h+=x,_.attr("transform","translate(".concat(r,", ").concat(o,")")),o=o+10+x}}catch(t){m.e(t)}finally{m.f()}return o=d,h},U={db:H,renderer:{setConf:function(t){Object.keys(t).forEach((function(e){conf[e]=t[e]}))},draw:function(text,t,e,n){var l=Object(c.g)(),h=l.leftMargin?l.leftMargin:50;n.db.clear(),n.parser.parse(text+"\n"),c.l.debug("timeline",n.db);var d,f=l.securityLevel;"sandbox"===f&&(d=Object(o.F)("#i"+t));var svg=("sandbox"===f?Object(o.F)(d.nodes()[0].contentDocument.body):Object(o.F)("body")).select("#"+t);svg.append("g");var m=n.db.getTasks(),title=n.db.getCommonDb().getDiagramTitle();c.l.debug("task",m),F(svg);var v=n.db.getSections();c.l.debug("sections",v);var _,x=0,k=0,w=50+h,S=50;var E=0,O=!0;v.forEach((function(section){var t=W(svg,{number:E,descr:section,section:E,width:150,padding:20,maxHeight:x},l);c.l.debug("sectionHeight before draw",t),x=Math.max(x,t+20)}));var j=0,I=0;c.l.debug("tasks.length",m.length);var T,A=y(m.entries());try{for(A.s();!(T=A.n()).done;){var D=Object(r.a)(T.value,2),i=D[0],L=D[1],M={number:i,descr:L,section:L.section,width:150,padding:20,maxHeight:k},C=W(svg,M,l);c.l.debug("taskHeight before draw",C),k=Math.max(k,C+20),j=Math.max(j,L.events.length);for(var $=0,H=0;H<L.events.length;H++){var z={descr:L.events[H],section:L.section,number:L.section,width:150,padding:20,maxHeight:50};$+=W(svg,z,l)}I=Math.max(I,$)}}catch(t){A.e(t)}finally{A.f()}c.l.debug("maxSectionHeight before draw",x),c.l.debug("maxTaskHeight before draw",k),v&&v.length>0?v.forEach((function(section){var t={number:E,descr:section,section:E,width:150,padding:20,maxHeight:x};c.l.debug("sectionNode",t);var e=svg.append("g"),n=N(e,t,E,l);c.l.debug("sectionNode output",n),e.attr("transform","translate(".concat(w,", ").concat(50,")")),S+=x+50;var r=m.filter((function(t){return t.section===section}));r.length>0&&B(svg,r,E,w,S,k,l,j,I,x,!1),w+=200*Math.max(r.length,1),S=50,E++})):(O=!1,B(svg,m,E,w,S,k,l,j,I,x,!0));var P=svg.node().getBBox();c.l.debug("bounds",P),title&&svg.append("text").text(title).attr("x",P.width/2-h).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),_=O?x+k+150:k+100,svg.append("g").attr("class","lineWrapper").append("line").attr("x1",h).attr("y1",_).attr("x2",P.width+3*h).attr("y2",_).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Object(c.q)(void 0,svg,l.timeline.padding?l.timeline.padding:50,!!l.timeline.useMaxWidth&&l.timeline.useMaxWidth)}},parser:v,styles:function(t){return"\n  .edge {\n    stroke-width: 3;\n  }\n  ".concat(function(t){for(var e="",i=0;i<t.THEME_COLOR_LIMIT;i++)t["lineColor"+i]=t["lineColor"+i]||t["cScaleInv"+i],Object(l.a)(t["lineColor"+i])?t["lineColor"+i]=Object(h.a)(t["lineColor"+i],20):t["lineColor"+i]=Object(d.a)(t["lineColor"+i],20);for(var n=0;n<t.THEME_COLOR_LIMIT;n++){var r=""+(17-3*n);e+="\n    .section-".concat(n-1," rect, .section-").concat(n-1," path, .section-").concat(n-1," circle, .section-").concat(n-1," path  {\n      fill: ").concat(t["cScale"+n],";\n    }\n    .section-").concat(n-1," text {\n     fill: ").concat(t["cScaleLabel"+n],";\n    }\n    .node-icon-").concat(n-1," {\n      font-size: 40px;\n      color: ").concat(t["cScaleLabel"+n],";\n    }\n    .section-edge-").concat(n-1,"{\n      stroke: ").concat(t["cScale"+n],";\n    }\n    .edge-depth-").concat(n-1,"{\n      stroke-width: ").concat(r,";\n    }\n    .section-").concat(n-1," line {\n      stroke: ").concat(t["cScaleInv"+n]," ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ").concat(t["cScaleLabel"+n]," ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    ")}return e}(t),"\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ").concat(t.git0,";\n  }\n  .section-root text {\n    fill: ").concat(t.gitBranchLabel0,";\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n")}}}}]);