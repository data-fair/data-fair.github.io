/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{706:function(t,e,n){!function(e){if("undefined"!=typeof window){var n=!0,r="",o=0,c="",l=null,h="",f=!1,d={resize:1,click:1},y=128,m=!0,_=1,v="bodyOffset",x=v,k=!0,w="",E={},T=32,C=null,S=!1,A=!1,M="[iFrameSizer]",N=M.length,D="",O={max:1,min:1,bodyScroll:1,documentElementScroll:1},L="child",B=window.parent,I="*",F=0,R=!1,P=null,$=16,z=1,Y="scroll",j=Y,U=window,W=function(){gt("onMessage function not defined")},H=function(){},V=function(){},G={height:function(){return gt("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return gt("Custom width calculation function not defined"),document.body.scrollWidth}},X={},Z=!1;try{var Q=Object.create({},{passive:{get:function(){Z=!0}}});window.addEventListener("test",lt,Q),window.removeEventListener("test",lt,Q)}catch(t){}var K,J,tt,et,nt,it,at,ot={bodyOffset:function(){return document.body.offsetHeight+Ct("marginTop")+Ct("marginBottom")},offset:function(){return ot.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return G.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,At(ot))},min:function(){return Math.min.apply(null,At(ot))},grow:function(){return ot.max()},lowestElement:function(){return Math.max(ot.bodyOffset()||ot.documentElementOffset(),St("bottom",Nt()))},taggedElement:function(){return Mt("bottom","data-iframe-height")}},st={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return G.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(st.bodyScroll(),st.documentElementScroll())},max:function(){return Math.max.apply(null,At(st))},min:function(){return Math.min.apply(null,At(st))},rightMostElement:function(){return St("right",Nt())},taggedElement:function(){return Mt("right","data-iframe-width")}},ct=(K=Dt,nt=null,it=0,at=function(){it=Date.now(),nt=null,et=K.apply(J,tt),nt||(J=tt=null)},function(){var t=Date.now();it||(it=t);var e=$-(t-it);return J=this,tt=arguments,e<=0||e>$?(nt&&(clearTimeout(nt),nt=null),it=t,et=K.apply(J,tt),nt||(J=tt=null)):nt||(nt=setTimeout(at,e)),et});ut(window,"message",(function(e){var n={init:function(){w=e.data,B=e.source,yt(),m=!1,setTimeout((function(){k=!1}),y)},reset:function(){k?pt("Page reset ignored by init"):(pt("Page size reset by host page"),Bt("resetPage"))},resize:function(){Ot("resizeParent","Parent window requested size check")},moveToAnchor:function(){E.findTarget(o())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=o();pt("PageInfoFromParent called from parent: "+t),V(JSON.parse(t)),pt(" --")},message:function(){var t=o();pt("onMessage called from parent: "+t),W(JSON.parse(t)),pt(" --")}};function r(){return e.data.split("]")[1].split(":")[0]}function o(){return e.data.substr(e.data.indexOf(":")+1)}function c(){return e.data.split(":")[2]in{true:1,false:1}}function l(){var o=r();o in n?n[o]():!t.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||c()||gt("Unexpected message ("+e.data+")")}M===(""+e.data).substr(0,N)&&(!1===m?l():c()?n.init():pt('Ignored message of type "'+r()+'". Received before initialization.'))})),ut(window,"readystatechange",Rt),Rt()}function lt(){}function ut(t,e,n,r){t.addEventListener(e,n,!!Z&&(r||{}))}function ht(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ft(t){return M+"["+D+"] "+t}function pt(t){S&&"object"==typeof window.console&&console.log(ft(t))}function gt(t){"object"==typeof window.console&&console.warn(ft(t))}function yt(){var t;!function(){function t(t){return"true"===t}var data=w.substr(N).split(":");D=data[0],o=e!==data[1]?Number(data[1]):o,f=e!==data[2]?t(data[2]):f,S=e!==data[3]?t(data[3]):S,T=e!==data[4]?Number(data[4]):T,n=e!==data[6]?t(data[6]):n,c=data[7],x=e!==data[8]?data[8]:x,r=data[9],h=data[10],F=e!==data[11]?Number(data[11]):F,E.enable=e!==data[12]&&t(data[12]),L=e!==data[13]?data[13]:L,j=e!==data[14]?data[14]:j,A=e!==data[15]?Boolean(data[15]):A}(),pt("Initialising iFrame ("+window.location.href+")"),function(){function t(){var data=window.iFrameResizer;pt("Reading data from page: "+JSON.stringify(data)),Object.keys(data).forEach(mt,data),W="onMessage"in data?data.onMessage:W,H="onReady"in data?data.onReady:H,I="targetOrigin"in data?data.targetOrigin:I,x="heightCalculationMethod"in data?data.heightCalculationMethod:x,j="widthCalculationMethod"in data?data.widthCalculationMethod:j}function e(t,e){return"function"==typeof t&&(pt("Setup custom "+e+"CalcMethod"),G[e]=t,t="custom"),t}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(t(),x=e(x,"height"),j=e(j,"width"));pt("TargetOrigin for parent set to: "+I)}(),function(){e===c&&(c=o+"px");bt("margin",function(t,e){-1!==e.indexOf("-")&&(gt("Negative CSS value ignored for "+t),e="");return e}("margin",c))}(),bt("background",r),bt("padding",h),(t=document.createElement("div")).style.clear="both",t.style.display="block",t.style.height="0",document.body.appendChild(t),kt(),wt(),document.documentElement.style.height="",document.body.style.height="",pt('HTML & body height set to "auto"'),pt("Enable public methods"),U.parentIFrame={autoResize:function(t){return!0===t&&!1===n?(n=!0,Et()):!1===t&&!0===n&&(n=!1,vt("remove"),null!==l&&l.disconnect(),clearInterval(C)),Ft(0,0,"autoResize",JSON.stringify(n)),n},close:function(){Ft(0,0,"close")},getId:function(){return D},getPageInfo:function(t){"function"==typeof t?(V=t,Ft(0,0,"pageInfo")):(V=function(){},Ft(0,0,"pageInfoStop"))},moveToAnchor:function(t){E.findTarget(t)},reset:function(){It("parentIFrame.reset")},scrollTo:function(t,e){Ft(e,t,"scrollTo")},scrollToOffset:function(t,e){Ft(e,t,"scrollToOffset")},sendMessage:function(t,e){Ft(0,0,"message",JSON.stringify(t),e)},setHeightCalculationMethod:function(t){x=t,kt()},setWidthCalculationMethod:function(t){j=t,wt()},setTargetOrigin:function(t){pt("Set targetOrigin: "+t),I=t},size:function(t,e){Ot("size","parentIFrame.size("+(t||"")+(e?","+e:"")+")",t,e)}},function(){if(!0!==A)return;function t(t){Ft(0,0,t.type,t.screenY+":"+t.screenX)}function e(e,n){pt("Add event listener: "+n),ut(window.document,e,t)}e("mouseenter","Mouse Enter"),e("mouseleave","Mouse Leave")}(),Et(),E=function(){function t(){return{x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}}function n(e){var n=e.getBoundingClientRect(),r=t();return{x:parseInt(n.left,10)+parseInt(r.x,10),y:parseInt(n.top,10)+parseInt(r.y,10)}}function r(t){function r(t){var e=n(t);pt("Moving to in page link (#"+o+") at x: "+e.x+" y: "+e.y),Ft(e.y,e.x,"scrollToOffset")}var o=t.split("#")[1]||t,c=decodeURIComponent(o),l=document.getElementById(c)||document.getElementsByName(c)[0];e!==l?r(l):(pt("In page link (#"+o+") not found in iFrame, so sending to parent"),Ft(0,0,"inPageLink","#"+o))}function o(){var t=window.location.hash,e=window.location.href;""!==t&&"#"!==t&&r(e)}function c(){function t(t){function e(t){t.preventDefault(),r(this.getAttribute("href"))}"#"!==t.getAttribute("href")&&ut(t,"click",e)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),t)}function l(){ut(window,"hashchange",o)}function h(){setTimeout(o,y)}function f(){Array.prototype.forEach&&document.querySelectorAll?(pt("Setting up location.hash handlers"),c(),l(),h()):gt("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}E.enable?f():pt("In page linking not enabled");return{findTarget:r}}(),Ot("init","Init message from host page"),H()}function mt(t){var e=t.split("Callback");if(2===e.length){var n="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[n]=this[t],delete this[t],gt("Deprecated: '"+t+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}function bt(t,n){e!==n&&""!==n&&"null"!==n&&(document.body.style[t]=n,pt("Body "+t+' set to "'+n+'"'))}function _t(t){var e={add:function(e){function n(){Ot(t.eventName,t.eventType)}X[e]=n,ut(window,e,n,{passive:!0})},remove:function(t){var e,n,r,o=X[t];delete X[t],e=window,n=t,r=o,e.removeEventListener(n,r,!1)}};t.eventNames&&Array.prototype.map?(t.eventName=t.eventNames[0],t.eventNames.map(e[t.method])):e[t.method](t.eventName),pt(ht(t.method)+" event listener: "+t.eventType)}function vt(t){_t({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),_t({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),_t({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),_t({method:t,eventType:"Input",eventName:"input"}),_t({method:t,eventType:"Mouse Up",eventName:"mouseup"}),_t({method:t,eventType:"Mouse Down",eventName:"mousedown"}),_t({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),_t({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),_t({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),_t({method:t,eventType:"Touch Start",eventName:"touchstart"}),_t({method:t,eventType:"Touch End",eventName:"touchend"}),_t({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),_t({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),_t({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),_t({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===L&&_t({method:t,eventType:"IFrame Resized",eventName:"resize"})}function xt(t,e,n,r){return e!==t&&(t in n||(gt(t+" is not a valid option for "+r+"CalculationMethod."),t=e),pt(r+' calculation method set to "'+t+'"')),t}function kt(){x=xt(x,v,ot,"height")}function wt(){j=xt(j,Y,st,"width")}function Et(){var t;!0===n?(vt("add"),t=0>T,window.MutationObserver||window.WebKitMutationObserver?t?Tt():l=function(){function t(t){function e(element){!1===element.complete&&(pt("Attach listeners to "+element.src),element.addEventListener("load",o,!1),element.addEventListener("error",c,!1),f.push(element))}"attributes"===t.type&&"src"===t.attributeName?e(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),e)}function e(element){f.splice(f.indexOf(element),1)}function n(element){pt("Remove listeners from "+element.src),element.removeEventListener("load",o,!1),element.removeEventListener("error",c,!1),e(element)}function r(t,e,r){n(t.target),Ot(e,r+": "+t.target.src)}function o(t){r(t,"imageLoad","Image loaded")}function c(t){r(t,"imageLoadFailed","Image load failed")}function l(e){Ot("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}function h(){var t=document.querySelector("body"),e={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return y=new d(l),pt("Create body MutationObserver"),y.observe(t,e),y}var f=[],d=window.MutationObserver||window.WebKitMutationObserver,y=h();return{disconnect:function(){"disconnect"in y&&(pt("Disconnect body MutationObserver"),y.disconnect(),f.forEach(n))}}}():(pt("MutationObserver not supported in this browser!"),Tt())):pt("Auto Resize disabled")}function Tt(){0!==T&&(pt("setInterval: "+T+"ms"),C=setInterval((function(){Ot("interval","setInterval: "+T)}),Math.abs(T)))}function Ct(t,e){var n=0;return e=e||document.body,n=null!==(n=document.defaultView.getComputedStyle(e,null))?n[t]:0,parseInt(n,10)}function St(t,e){for(var n=e.length,r=0,o=0,c=ht(t),l=Date.now(),i=0;i<n;i++)(r=e[i].getBoundingClientRect()[t]+Ct("margin"+c,e[i]))>o&&(o=r);return l=Date.now()-l,pt("Parsed "+n+" HTML elements"),pt("Element position calculated in "+l+"ms"),function(t){t>$/2&&pt("Event throttle increased to "+($=2*t)+"ms")}(l),o}function At(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function Mt(t,e){var n=document.querySelectorAll("["+e+"]");return 0===n.length&&(gt("No tagged elements ("+e+") found on page"),document.querySelectorAll("body *")),St(t,n)}function Nt(){return document.querySelectorAll("body *")}function Dt(t,n,r,o){var c,l;!function(){function t(a,b){return!(Math.abs(a-b)<=F)}return c=e!==r?r:ot[x](),l=e!==o?o:st[j](),t(_,c)||f&&t(z,l)}()&&"init"!==t?!(t in{init:1,interval:1,size:1})&&(x in O||f&&j in O)?It(n):t in{interval:1}||pt("No change in size detected"):(Lt(),Ft(_=c,z=l,t))}function Ot(t,e,n,r){R&&t in d?pt("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||pt("Trigger event: "+e),"init"===t?Dt(t,e,n,r):ct(t,e,n,r))}function Lt(){R||(R=!0,pt("Trigger event lock on")),clearTimeout(P),P=setTimeout((function(){R=!1,pt("Trigger event lock off"),pt("--")}),y)}function Bt(t){_=ot[x](),z=st[j](),Ft(_,z,t)}function It(t){var e=x;x=v,pt("Reset trigger event: "+t),Lt(),Bt("reset"),x=e}function Ft(t,n,r,o,c){var l;e===c?c=I:pt("Message targetOrigin: "+c),pt("Sending message to host page ("+(l=D+":"+t+":"+n+":"+r+(e!==o?":"+o:""))+")"),B.postMessage(M+l,c)}function Rt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},707:function(t,e,n){"use strict";n.d(e,"a",(function(){return EX}));var r=Object.defineProperty,o=(t,e,n)=>(((t,e,n)=>{e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h(t){var e=t.default;if("function"==typeof e){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),n}function f(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d,y={exports:{}};(d=y).exports=function(){var t;function e(){return t.apply(null,arguments)}function i(g){return g instanceof Array||"[object Array]"===Object.prototype.toString.call(g)}function a(g){return null!=g&&"[object Object]"===Object.prototype.toString.call(g)}function s(g,t){return Object.prototype.hasOwnProperty.call(g,t)}function n(g){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(g).length;for(var t in g)if(s(g,t))return;return 1}function r(g){return void 0===g}function u(g){return"number"==typeof g||"[object Number]"===Object.prototype.toString.call(g)}function o(g){return g instanceof Date||"[object Date]"===Object.prototype.toString.call(g)}function c(g,t){for(var e=[],n=g.length,r=0;r<n;++r)e.push(t(g[r],r));return e}function l(g,t){for(var e in t)s(t,e)&&(g[e]=t[e]);return s(t,"toString")&&(g.toString=t.toString),s(t,"valueOf")&&(g.valueOf=t.valueOf),g}function p(g,t,e,n){return Oe(g,t,e,n,!0).utc()}function h(g){return null==g._pf&&(g._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),g._pf}function y(g){if(null==g._isValid){var t=h(g),e=b.call(t.parsedDateParts,(function(t){return null!=t}));if(e=!isNaN(g._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e),g._strict&&(e=e&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(g))return e;g._isValid=e}return g._isValid}function m(g){var t=p(NaN);return null!=g?l(h(t),g):h(t).userInvalidated=!0,t}var b=Array.prototype.some||function(g){for(var t=Object(this),e=t.length>>>0,n=0;n<e;n++)if(n in t&&g.call(this,t[n],n,t))return!0;return!1},_=e.momentProperties=[],v=!1;function x(g,t){var e,n,o,c=_.length;if(r(t._isAMomentObject)||(g._isAMomentObject=t._isAMomentObject),r(t._i)||(g._i=t._i),r(t._f)||(g._f=t._f),r(t._l)||(g._l=t._l),r(t._strict)||(g._strict=t._strict),r(t._tzm)||(g._tzm=t._tzm),r(t._isUTC)||(g._isUTC=t._isUTC),r(t._offset)||(g._offset=t._offset),r(t._pf)||(g._pf=h(t)),r(t._locale)||(g._locale=t._locale),0<c)for(e=0;e<c;e++)r(o=t[n=_[e]])||(g[n]=o);return g}function k(g){x(this,g),this._d=new Date(null!=g._d?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,e.updateOffset(this),v=!1)}function w(g){return g instanceof k||null!=g&&null!=g._isAMomentObject}function E(g){!1===e.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function T(g,t){var n=!0;return l((function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,g),n){for(var r,o,c=[],l=arguments.length,h=0;h<l;h++){if(r="","object"==typeof arguments[h]){for(o in r+="\n["+h+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[h];c.push(r)}E(g+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C={};function S(g,t){null!=e.deprecationHandler&&e.deprecationHandler(g,t),C[g]||(E(t),C[g]=!0)}function A(g){return typeof Function<"u"&&g instanceof Function||"[object Function]"===Object.prototype.toString.call(g)}function M(g,t){var e,n=l({},g);for(e in t)s(t,e)&&(a(g[e])&&a(t[e])?(n[e]={},l(n[e],g[e]),l(n[e],t[e])):null!=t[e]?n[e]=t[e]:delete n[e]);for(e in g)s(g,e)&&!s(t,e)&&a(g[e])&&(n[e]=l({},n[e]));return n}function N(g){null!=g&&this.set(g)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var D=Object.keys||function(g){var t,e=[];for(t in g)s(g,t)&&e.push(t);return e};function O(g,t,e){var n=""+Math.abs(g);return(0<=g?e?"+":"":"-")+Math.pow(10,Math.max(0,t-n.length)).toString().substr(1)+n}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},F={};function R(g,t,e,n){var r="string"==typeof n?function(){return this[n]()}:n;g&&(F[g]=r),t&&(F[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),e&&(F[e]=function(){return this.localeData().ordinal(r.apply(this,arguments),g)})}function P(g,t){return g.isValid()?(t=$(t,g.localeData()),I[t]=I[t]||function(t){for(var e,n=t.match(L),r=0,o=n.length;r<o;r++)F[n[r]]?n[r]=F[n[r]]:n[r]=(e=n[r]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var r="",c=0;c<o;c++)r+=A(n[c])?n[c].call(e,t):n[c];return r}}(t),I[t](g)):g.localeData().invalidDate()}function $(g,t){var e=5;function n(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;0<=e&&B.test(g);)g=g.replace(B,n),B.lastIndex=0,--e;return g}var z={};function Y(g,t){var e=g.toLowerCase();z[e]=z[e+"s"]=z[t]=g}function j(g){return"string"==typeof g?z[g]||z[g.toLowerCase()]:void 0}function U(g){var t,e,n={};for(e in g)s(g,e)&&(t=j(e))&&(n[t]=g[e]);return n}var W={};function H(g,t){W[g]=t}function V(g){return g%4==0&&g%100!=0||g%400==0}function G(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function q(t){var e=0;return 0!=(t=+t)&&isFinite(t)?G(t):e}function X(g,t){return function(n){return null!=n?(Q(this,g,n),e.updateOffset(this,t),this):Z(this,g)}}function Z(g,t){return g.isValid()?g._d["get"+(g._isUTC?"UTC":"")+t]():NaN}function Q(g,t,e){g.isValid()&&!isNaN(e)&&("FullYear"===t&&V(g.year())&&1===g.month()&&29===g.date()?(e=q(e),g._d["set"+(g._isUTC?"UTC":"")+t](e,g.month(),Lt(e,g.month()))):g._d["set"+(g._isUTC?"UTC":"")+t](e))}var K=/\d/,J=/\d\d/,tt=/\d{3}/,et=/\d{4}/,nt=/[+-]?\d{6}/,it=/\d\d?/,at=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,st=/\d{1,3}/,ct=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ut=/\d+/,ht=/[+-]?\d+/,ft=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,gt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function yt(g,t,e){_t[g]=A(t)?t:function(n,r){return n&&e?e:t}}function mt(g,t){return s(_t,g)?_t[g](t._strict,t._locale):new RegExp(bt(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,o){return e||n||r||o}))))}function bt(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _t={},vt={};function xt(g,t){var e,n,r=t;for("string"==typeof g&&(g=[g]),u(t)&&(r=function(e,n){n[t]=q(e)}),n=g.length,e=0;e<n;e++)vt[g[e]]=r}function kt(g,t){xt(g,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}var wt,Et=0,Tt=1,Ct=2,St=3,At=4,Mt=5,Nt=6,Dt=7,Ot=8;function Lt(g,t){if(isNaN(g)||isNaN(t))return NaN;var e=(t%(e=12)+e)%e;return g+=(t-e)/12,1==e?V(g)?29:28:31-e%7%2}wt=Array.prototype.indexOf||function(g){for(var t=0;t<this.length;++t)if(this[t]===g)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(g){return this.localeData().monthsShort(this,g)})),R("MMMM",0,0,(function(g){return this.localeData().months(this,g)})),Y("month","M"),H("month",8),yt("M",it),yt("MM",it,J),yt("MMM",(function(g,t){return t.monthsShortRegex(g)})),yt("MMMM",(function(g,t){return t.monthsRegex(g)})),xt(["M","MM"],(function(g,t){t[Tt]=q(g)-1})),xt(["MMM","MMMM"],(function(g,t,e,n){null!=(n=e._locale.monthsParse(g,n,e._strict))?t[Tt]=n:h(e).invalidMonth=g}));var Bt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ft=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rt=gt,Pt=gt;function $t(g,t){var e;if(g.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!u(t=g.localeData().monthsParse(t)))return;e=Math.min(g.date(),Lt(g.year(),t)),g._d["set"+(g._isUTC?"UTC":"")+"Month"](t,e)}}function zt(g){return null!=g?($t(this,g),e.updateOffset(this,!0),this):Z(this,"Month")}function Yt(){function g(t,e){return e.length-t.length}for(var t,e=[],n=[],r=[],o=0;o<12;o++)t=p([2e3,o]),e.push(this.monthsShort(t,"")),n.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(e.sort(g),n.sort(g),r.sort(g),o=0;o<12;o++)e[o]=bt(e[o]),n[o]=bt(n[o]);for(o=0;o<24;o++)r[o]=bt(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function jt(g){return V(g)?366:365}R("Y",0,0,(function(){var g=this.year();return g<=9999?O(g,4):"+"+g})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),H("year",1),yt("Y",ht),yt("YY",it,J),yt("YYYY",ct,et),yt("YYYYY",lt,nt),yt("YYYYYY",lt,nt),xt(["YYYYY","YYYYYY"],Et),xt("YYYY",(function(g,t){t[Et]=2===g.length?e.parseTwoDigitYear(g):q(g)})),xt("YY",(function(g,t){t[Et]=e.parseTwoDigitYear(g)})),xt("Y",(function(g,t){t[Et]=parseInt(g,10)})),e.parseTwoDigitYear=function(g){return q(g)+(68<q(g)?1900:2e3)};var Ut=X("FullYear",!0);function Wt(g,t,e,n,r,o,c){var l;return g<100&&0<=g?(l=new Date(g+400,t,e,n,r,o,c),isFinite(l.getFullYear())&&l.setFullYear(g)):l=new Date(g,t,e,n,r,o,c),l}function qt(g){var t;return g<100&&0<=g?((t=Array.prototype.slice.call(arguments))[0]=g+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(g)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ht(g,t,e){return(e=7+t-e)-(7+qt(g,0,e).getUTCDay()-t)%7-1}function Vt(g,t,e,n,r){var o;return e=(t=1+7*(t-1)+(7+e-n)%7+Ht(g,n,r))<=0?jt(o=g-1)+t:t>jt(g)?(o=g+1,t-jt(g)):(o=g,t),{year:o,dayOfYear:e}}function Gt(g,t,e){var n,r,o=Ht(g.year(),t,e);return(o=Math.floor((g.dayOfYear()-o-1)/7)+1)<1?n=o+Xt(r=g.year()-1,t,e):o>Xt(g.year(),t,e)?(n=o-Xt(g.year(),t,e),r=g.year()+1):(r=g.year(),n=o),{week:n,year:r}}function Xt(g,t,e){var n=Ht(g,t,e);return t=Ht(g+1,t,e),(jt(g)-n+t)/7}function Zt(g,t){return g.slice(t,7).concat(g.slice(0,t))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),H("week",5),H("isoWeek",5),yt("w",it),yt("ww",it,J),yt("W",it),yt("WW",it,J),kt(["w","ww","W","WW"],(function(g,t,e,n){t[n.substr(0,1)]=q(g)})),R("d",0,"do","day"),R("dd",0,0,(function(g){return this.localeData().weekdaysMin(this,g)})),R("ddd",0,0,(function(g){return this.localeData().weekdaysShort(this,g)})),R("dddd",0,0,(function(g){return this.localeData().weekdays(this,g)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),yt("d",it),yt("e",it),yt("E",it),yt("dd",(function(g,t){return t.weekdaysMinRegex(g)})),yt("ddd",(function(g,t){return t.weekdaysShortRegex(g)})),yt("dddd",(function(g,t){return t.weekdaysRegex(g)})),kt(["dd","ddd","dddd"],(function(g,t,e,n){null!=(n=e._locale.weekdaysParse(g,n,e._strict))?t.d=n:h(e).invalidWeekday=g})),kt(["d","e","E"],(function(g,t,e,n){t[n]=q(g)}));var Qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Kt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),te=gt,ee=gt,ne=gt;function re(){function g(t,e){return e.length-t.length}for(var t,e,n,r=[],o=[],c=[],l=[],h=0;h<7;h++)n=p([2e3,1]).day(h),t=bt(this.weekdaysMin(n,"")),e=bt(this.weekdaysShort(n,"")),n=bt(this.weekdays(n,"")),r.push(t),o.push(e),c.push(n),l.push(t),l.push(e),l.push(n);r.sort(g),o.sort(g),c.sort(g),l.sort(g),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ie(){return this.hours()%12||12}function ae(g,t){R(g,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function oe(g,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,ie),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+ie.apply(this)+O(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+ie.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),ae("a",!0),ae("A",!1),Y("hour","h"),H("hour",13),yt("a",oe),yt("A",oe),yt("H",it),yt("h",it),yt("k",it),yt("HH",it,J),yt("hh",it,J),yt("kk",it,J),yt("hmm",at),yt("hmmss",ot),yt("Hmm",at),yt("Hmmss",ot),xt(["H","HH"],St),xt(["k","kk"],(function(g,t,e){g=q(g),t[St]=24===g?0:g})),xt(["a","A"],(function(g,t,e){e._isPm=e._locale.isPM(g),e._meridiem=g})),xt(["h","hh"],(function(g,t,e){t[St]=q(g),h(e).bigHour=!0})),xt("hmm",(function(g,t,e){var n=g.length-2;t[St]=q(g.substr(0,n)),t[At]=q(g.substr(n)),h(e).bigHour=!0})),xt("hmmss",(function(g,t,e){var n=g.length-4,r=g.length-2;t[St]=q(g.substr(0,n)),t[At]=q(g.substr(n,2)),t[Mt]=q(g.substr(r)),h(e).bigHour=!0})),xt("Hmm",(function(g,t,e){var n=g.length-2;t[St]=q(g.substr(0,n)),t[At]=q(g.substr(n))})),xt("Hmmss",(function(g,t,e){var n=g.length-4,r=g.length-2;t[St]=q(g.substr(0,n)),t[At]=q(g.substr(n,2)),t[Mt]=q(g.substr(r))})),gt=X("Hours",!0);var se,ce={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Bt,monthsShort:It,week:{dow:0,doy:6},weekdays:Qt,weekdaysMin:Jt,weekdaysShort:Kt,meridiemParse:/[ap]\.?m?\.?/i},le={},ue={};function he(g){return g&&g.toLowerCase().replace("_","-")}function fe(g){for(var t,e,n,r,o=0;o<g.length;){for(t=(r=he(g[o]).split("-")).length,e=(e=he(g[o+1]))?e.split("-"):null;0<t;){if(n=de(r.slice(0,t).join("-")))return n;if(e&&e.length>=t&&function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}(r,e)>=t-1)break;t--}o++}return se}function de(g){var t;if(void 0===le[g]&&d&&d.exports&&null!=g.match("^[^/\\\\]*$"))try{t=se._abbr,f("./locale/"+g),pe(t)}catch{le[g]=null}return le[g]}function pe(g,t){return g&&((t=r(t)?ye(g):ge(g,t))?se=t:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),se._abbr}function ge(g,t){if(null===t)return delete le[g],null;var e,n=ce;if(t.abbr=g,null!=le[g])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=le[g]._config;else if(null!=t.parentLocale)if(null!=le[t.parentLocale])n=le[t.parentLocale]._config;else{if(null==(e=de(t.parentLocale)))return ue[t.parentLocale]||(ue[t.parentLocale]=[]),ue[t.parentLocale].push({name:g,config:t}),null;n=e._config}return le[g]=new N(M(n,t)),ue[g]&&ue[g].forEach((function(t){ge(t.name,t.config)})),pe(g),le[g]}function ye(g){var t;if(!(g=g&&g._locale&&g._locale._abbr?g._locale._abbr:g))return se;if(!i(g)){if(t=de(g))return t;g=[g]}return fe(g)}function me(g){var t=g._a;return t&&-2===h(g).overflow&&(t=t[Tt]<0||11<t[Tt]?Tt:t[Ct]<1||t[Ct]>Lt(t[Et],t[Tt])?Ct:t[St]<0||24<t[St]||24===t[St]&&(0!==t[At]||0!==t[Mt]||0!==t[Nt])?St:t[At]<0||59<t[At]?At:t[Mt]<0||59<t[Mt]?Mt:t[Nt]<0||999<t[Nt]?Nt:-1,h(g)._overflowDayOfYear&&(t<Et||Ct<t)&&(t=Ct),h(g)._overflowWeeks&&-1===t&&(t=Dt),h(g)._overflowWeekday&&-1===t&&(t=Ot),h(g).overflow=t),g}var be=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ke=/^\/?Date\((-?\d+)/i,we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ee={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(g){var t,e,n,r,o,c,l=g._i,f=be.exec(l)||rt.exec(l),d=(l=ve.length,xe.length);if(f){for(h(g).iso=!0,t=0,e=l;t<e;t++)if(ve[t][1].exec(f[1])){r=ve[t][0],n=!1!==ve[t][2];break}if(null==r)g._isValid=!1;else{if(f[3]){for(t=0,e=d;t<e;t++)if(xe[t][1].exec(f[3])){o=(f[2]||" ")+xe[t][0];break}if(null==o)return void(g._isValid=!1)}if(n||null==o){if(f[4]){if(!_e.exec(f[4]))return void(g._isValid=!1);c="Z"}g._f=r+(o||"")+(c||""),Ne(g)}else g._isValid=!1}}else g._isValid=!1}function Ce(g,t,e,n,r,o){return g=[(c=g,(c=parseInt(c,10))<=49?2e3+c:c<=999?1900+c:c),It.indexOf(t),parseInt(e,10),parseInt(n,10),parseInt(r,10)],o&&g.push(parseInt(o,10)),g;var c}function Se(g){var t,e,n,r,o=we.exec(g._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(n=t=Ce(o[4],o[3],o[2],o[5],o[6],o[7]),r=g,(e=o[1])&&Kt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()?(h(r).weekdayMismatch=!0,r._isValid=!1):(g._a=t,g._tzm=(e=o[8],n=o[9],r=o[10],e?Ee[e]:n?0:((e=parseInt(r,10))-(n=e%100))/100*60+n),g._d=qt.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),h(g).rfc2822=!0)):g._isValid=!1}function Ae(g,t,e){return null!=g?g:null!=t?t:e}function Me(g){var t,n,r,o,c,l,f,d,y,m,_,v=[];if(!g._d){for(r=g,o=new Date(e.now()),n=r._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],g._w&&null==g._a[Ct]&&null==g._a[Tt]&&(null!=(o=(r=g)._w).GG||null!=o.W||null!=o.E?(d=1,y=4,c=Ae(o.GG,r._a[Et],Gt(Le(),1,4).year),l=Ae(o.W,1),((f=Ae(o.E,1))<1||7<f)&&(m=!0)):(d=r._locale._week.dow,y=r._locale._week.doy,_=Gt(Le(),d,y),c=Ae(o.gg,r._a[Et],_.year),l=Ae(o.w,_.week),null!=o.d?((f=o.d)<0||6<f)&&(m=!0):null!=o.e?(f=o.e+d,(o.e<0||6<o.e)&&(m=!0)):f=d),l<1||l>Xt(c,d,y)?h(r)._overflowWeeks=!0:null!=m?h(r)._overflowWeekday=!0:(_=Vt(c,l,f,d,y),r._a[Et]=_.year,r._dayOfYear=_.dayOfYear)),null!=g._dayOfYear&&(o=Ae(g._a[Et],n[Et]),(g._dayOfYear>jt(o)||0===g._dayOfYear)&&(h(g)._overflowDayOfYear=!0),m=qt(o,0,g._dayOfYear),g._a[Tt]=m.getUTCMonth(),g._a[Ct]=m.getUTCDate()),t=0;t<3&&null==g._a[t];++t)g._a[t]=v[t]=n[t];for(;t<7;t++)g._a[t]=v[t]=null==g._a[t]?2===t?1:0:g._a[t];24===g._a[St]&&0===g._a[At]&&0===g._a[Mt]&&0===g._a[Nt]&&(g._nextDay=!0,g._a[St]=0),g._d=(g._useUTC?qt:Wt).apply(null,v),c=g._useUTC?g._d.getUTCDay():g._d.getDay(),null!=g._tzm&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[St]=24),g._w&&void 0!==g._w.d&&g._w.d!==c&&(h(g).weekdayMismatch=!0)}}function Ne(g){if(g._f===e.ISO_8601)Te(g);else if(g._f===e.RFC_2822)Se(g);else{g._a=[],h(g).empty=!0;for(var t,n,r,o,c,l=""+g._i,f=l.length,d=0,y=$(g._f,g._locale).match(L)||[],m=y.length,_=0;_<m;_++)n=y[_],(t=(l.match(mt(n,g))||[])[0])&&(0<(r=l.substr(0,l.indexOf(t))).length&&h(g).unusedInput.push(r),l=l.slice(l.indexOf(t)+t.length),d+=t.length),F[n]?(t?h(g).empty=!1:h(g).unusedTokens.push(n),r=n,c=g,null!=(o=t)&&s(vt,r)&&vt[r](o,c._a,c,r)):g._strict&&!t&&h(g).unusedTokens.push(n);h(g).charsLeftOver=f-d,0<l.length&&h(g).unusedInput.push(l),g._a[St]<=12&&!0===h(g).bigHour&&0<g._a[St]&&(h(g).bigHour=void 0),h(g).parsedDateParts=g._a.slice(0),h(g).meridiem=g._meridiem,g._a[St]=(v=g._locale,x=g._a[St],null==(k=g._meridiem)?x:null!=v.meridiemHour?v.meridiemHour(x,k):null!=v.isPM?((v=v.isPM(k))&&x<12&&(x+=12),x=v||12!==x?x:0):x),null!==(f=h(g).era)&&(g._a[Et]=g._locale.erasConvertYear(f,g._a[Et])),Me(g),me(g)}var v,x,k}function De(g){var t,n,f,d=g._i,_=g._f;return g._locale=g._locale||ye(g._l),null===d||void 0===_&&""===d?m({nullInput:!0}):("string"==typeof d&&(g._i=d=g._locale.preparse(d)),w(d)?new k(me(d)):(o(d)?g._d=d:i(_)?function(t){var e,n,r,o,c,f,d=!1,m=t._f.length;if(0===m)return h(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<m;o++)c=0,f=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ne(e),y(e)&&(f=!0),c=(c+=h(e).charsLeftOver)+10*h(e).unusedTokens.length,h(e).score=c,d?c<r&&(r=c,n=e):(null==r||c<r||f)&&(r=c,n=e,f&&(d=!0));l(t,n||e)}(g):_?Ne(g):r(_=(d=g)._i)?d._d=new Date(e.now()):o(_)?d._d=new Date(_.valueOf()):"string"==typeof _?(n=d,null!==(t=ke.exec(n._i))?n._d=new Date(+t[1]):(Te(n),!1===n._isValid&&(delete n._isValid,Se(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:e.createFromInputFallback(n))))):i(_)?(d._a=c(_.slice(0),(function(t){return parseInt(t,10)})),Me(d)):a(_)?(t=d)._d||(f=void 0===(n=U(t._i)).day?n.date:n.day,t._a=c([n.year,n.month,f,n.hour,n.minute,n.second,n.millisecond],(function(t){return t&&parseInt(t,10)})),Me(t)):u(_)?d._d=new Date(_):e.createFromInputFallback(d),y(g)||(g._d=null),g))}function Oe(g,t,e,r,o){var c={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==e&&!1!==e||(r=e,e=void 0),(a(g)&&n(g)||i(g)&&0===g.length)&&(g=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=e,c._i=g,c._f=t,c._strict=r,(o=new k(me(De(o=c))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Le(g,t,e,n){return Oe(g,t,e,n,!1)}function Be(g,t){var e,n;if(!(t=1===t.length&&i(t[0])?t[0]:t).length)return Le();for(e=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][g](e)||(e=t[n]);return e}e.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))})),e.ISO_8601=function(){},e.RFC_2822=function(){},at=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var g=Le.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:m()})),ot=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var g=Le.apply(null,arguments);return this.isValid()&&g.isValid()?this<g?this:g:m()}));var Ie=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Fe(t){var e=(t=U(t)).year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,c=t.day||0,l=t.hour||0,h=t.minute||0,f=t.second||0,d=t.millisecond||0;this._isValid=function(t){var e,n,r=!1,o=Ie.length;for(e in t)if(s(t,e)&&(-1===wt.call(Ie,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<o;++n)if(t[Ie[n]]){if(r)return!1;parseFloat(t[Ie[n]])!==q(t[Ie[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*f+6e4*h+1e3*l*60*60,this._days=+c+7*o,this._months=+r+3*n+12*e,this._data={},this._locale=ye(),this._bubble()}function Re(g){return g instanceof Fe}function Pe(g){return g<0?-1*Math.round(-1*g):Math.round(g)}function $e(g,t){R(g,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}$e("Z",":"),$e("ZZ",""),yt("Z",pt),yt("ZZ",pt),xt(["Z","ZZ"],(function(g,t,e){e._useUTC=!0,e._tzm=Ye(pt,g)}));var ze=/([\+\-]|\d\d)/gi;function Ye(g,t){return null===(t=(t||"").match(g))?null:0===(t=60*(g=((t[t.length-1]||[])+"").match(ze)||["-",0,0])[1]+q(g[2]))?0:"+"===g[0]?t:-t}function je(g,t){var n;return t._isUTC?(t=t.clone(),n=(w(g)||o(g)?g:Le(g)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),e.updateOffset(t,!1),t):Le(g).local()}function Ue(g){return-Math.round(g._d.getTimezoneOffset())}function We(){return!!this.isValid()&&this._isUTC&&0===this._offset}e.updateOffset=function(){};var qe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,He=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ve(g,t){var e,n,r,o,c=g,l=null;return Re(g)?c={ms:g._milliseconds,d:g._days,M:g._months}:u(g)||!isNaN(+g)?(c={},t?c[t]=+g:c.milliseconds=+g):(l=qe.exec(g))?(e="-"===l[1]?-1:1,c={y:0,d:q(l[Ct])*e,h:q(l[St])*e,m:q(l[At])*e,s:q(l[Mt])*e,ms:q(Pe(1e3*l[Nt]))*e}):(l=He.exec(g))?(e="-"===l[1]?-1:1,c={y:Ge(l[2],e),M:Ge(l[3],e),w:Ge(l[4],e),d:Ge(l[5],e),h:Ge(l[6],e),m:Ge(l[7],e),s:Ge(l[8],e)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(n=Le(c.from),r=Le(c.to),t=n.isValid()&&r.isValid()?(r=je(r,n),n.isBefore(r)?o=Xe(n,r):((o=Xe(r,n)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(c={}).ms=t.milliseconds,c.M=t.months),l=new Fe(c),Re(g)&&s(g,"_locale")&&(l._locale=g._locale),Re(g)&&s(g,"_isValid")&&(l._isValid=g._isValid),l}function Ge(g,t){return g=g&&parseFloat(g.replace(",",".")),(isNaN(g)?0:g)*t}function Xe(g,t){var e={};return e.months=t.month()-g.month()+12*(t.year()-g.year()),g.clone().add(e.months,"M").isAfter(t)&&--e.months,e.milliseconds=+t-+g.clone().add(e.months,"M"),e}function Ze(g,t){return function(e,n){var r;return null===n||isNaN(+n)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=e,e=n,n=r),Qe(this,Ve(e,n),g),this}}function Qe(g,t,n,r){var o=t._milliseconds,c=Pe(t._days);t=Pe(t._months),g.isValid()&&(r=null==r||r,t&&$t(g,Z(g,"Month")+t*n),c&&Q(g,"Date",Z(g,"Date")+c*n),o&&g._d.setTime(g._d.valueOf()+o*n),r&&e.updateOffset(g,c||t))}function Ke(g){return"string"==typeof g||g instanceof String}function Je(g){return w(g)||o(g)||Ke(g)||u(g)||(e=i(t=g),r=!1,e&&(r=0===t.filter((function(e){return!u(e)&&Ke(t)})).length),e&&r)||function(t){var e,r,o=a(t)&&!n(t),c=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h=l.length;for(e=0;e<h;e+=1)r=l[e],c=c||s(t,r);return o&&c}(g)||null==g;var t,e,r}function tn(g,t){if(g.date()<t.date())return-tn(t,g);var e=12*(t.year()-g.year())+(t.month()-g.month()),n=g.clone().add(e,"months");return-(e+(t=t-n<0?(t-n)/(n-g.clone().add(e-1,"months")):(t-n)/(g.clone().add(1+e,"months")-n)))||0}function en(g){return void 0===g?this._locale._abbr:(null!=(g=ye(g))&&(this._locale=g),this)}function nn(){return this._locale}Ve.fn=Fe.prototype,Ve.invalid=function(){return Ve(NaN)},Bt=Ze(1,"add"),Qt=Ze(-1,"subtract"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Jt=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(g){return void 0===g?this.localeData():this.locale(g)}));var rn,an=126227808e5;function on(g,t){return(g%t+t)%t}function sn(g,t,e){return g<100&&0<=g?new Date(g+400,t,e)-an:new Date(g,t,e).valueOf()}function cn(g,t,e){return g<100&&0<=g?Date.UTC(g+400,t,e)-an:Date.UTC(g,t,e)}function ln(g,t){return t.erasAbbrRegex(g)}function un(){for(var g=[],t=[],e=[],n=[],r=this.eras(),o=0,c=r.length;o<c;++o)t.push(bt(r[o].name)),g.push(bt(r[o].abbr)),e.push(bt(r[o].narrow)),n.push(bt(r[o].name)),n.push(bt(r[o].abbr)),n.push(bt(r[o].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+e.join("|")+")","i")}function hn(g,t){R(0,[g,g.length],0,t)}function fn(g,t,e,n,r){var o;return null==g?Gt(this,n,r).year:(o=Xt(g,n,r),function(t,e,n,r,o){return e=qt((t=Vt(t,e,n,r,o)).year,0,t.dayOfYear),this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,g,t=o<t?o:t,e,n,r))}for(R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),yt("N",ln),yt("NN",ln),yt("NNN",ln),yt("NNNN",(function(g,t){return t.erasNameRegex(g)})),yt("NNNNN",(function(g,t){return t.erasNarrowRegex(g)})),xt(["N","NN","NNN","NNNN","NNNNN"],(function(g,t,e,n){(n=e._locale.erasParse(g,n,e._strict))?h(e).era=n:h(e).invalidEra=g})),yt("y",ut),yt("yy",ut),yt("yyy",ut),yt("yyyy",ut),yt("yo",(function(g,t){return t._eraYearOrdinalRegex||ut})),xt(["y","yy","yyy","yyyy"],Et),xt(["yo"],(function(g,t,e,n){var r;e._locale._eraYearOrdinalRegex&&(r=g.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?t[Et]=e._locale.eraYearOrdinalParse(g,r):t[Et]=parseInt(g,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hn("gggg","weekYear"),hn("ggggg","weekYear"),hn("GGGG","isoWeekYear"),hn("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),yt("G",ht),yt("g",ht),yt("GG",it,J),yt("gg",it,J),yt("GGGG",ct,et),yt("gggg",ct,et),yt("GGGGG",lt,nt),yt("ggggg",lt,nt),kt(["gggg","ggggg","GGGG","GGGGG"],(function(g,t,e,n){t[n.substr(0,2)]=q(g)})),kt(["gg","GG"],(function(g,t,n,r){t[r]=e.parseTwoDigitYear(g)})),R("Q",0,"Qo","quarter"),Y("quarter","Q"),H("quarter",7),yt("Q",K),xt("Q",(function(g,t){t[Tt]=3*(q(g)-1)})),R("D",["DD",2],"Do","date"),Y("date","D"),H("date",9),yt("D",it),yt("DD",it,J),yt("Do",(function(g,t){return g?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),xt(["D","DD"],Ct),xt("Do",(function(g,t){t[Ct]=q(g.match(it)[0])})),ct=X("Date",!0),R("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),H("dayOfYear",4),yt("DDD",st),yt("DDDD",tt),xt(["DDD","DDDD"],(function(g,t,e){e._dayOfYear=q(g)})),R("m",["mm",2],0,"minute"),Y("minute","m"),H("minute",14),yt("m",it),yt("mm",it,J),xt(["m","mm"],At),et=X("Minutes",!1),R("s",["ss",2],0,"second"),Y("second","s"),H("second",15),yt("s",it),yt("ss",it,J),xt(["s","ss"],Mt),lt=X("Seconds",!1),R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),H("millisecond",16),yt("S",st,K),yt("SS",st,J),yt("SSS",st,tt),rn="SSSS";rn.length<=9;rn+="S")yt(rn,ut);function dn(g,t){t[Nt]=q(1e3*("0."+g))}for(rn="S";rn.length<=9;rn+="S")xt(rn,dn);function pn(g){return g}function gn(g,t,e,n){var r=ye();return n=p().set(n,t),r[e](n,g)}function yn(g,t,e){if(u(g)&&(t=g,g=void 0),g=g||"",null!=t)return gn(g,t,e,"month");for(var n=[],r=0;r<12;r++)n[r]=gn(g,r,e,"month");return n}function mn(g,t,e,n){"boolean"==typeof g?u(t)&&(e=t,t=void 0):(t=g,g=!1,u(e=t)&&(e=t,t=void 0)),t=t||"";var r,o=ye(),c=g?o._week.dow:0,l=[];if(null!=e)return gn(t,(e+c)%7,n,"day");for(r=0;r<7;r++)l[r]=gn(t,(r+c)%7,n,"day");return l}nt=X("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName"),(K=k.prototype).add=Bt,K.calendar=function(t,r){1===arguments.length&&(arguments[0]?Je(arguments[0])?(t=arguments[0],r=void 0):function(t){for(var e=a(t)&&!n(t),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c=0;c<o.length;c+=1)r=r||s(t,o[c]);return e&&r}(arguments[0])&&(r=arguments[0],t=void 0):r=t=void 0);var o=je(t=t||Le(),this).startOf("day");return o=e.calendarFormat(this,o)||"sameElse",r=r&&(A(r[o])?r[o].call(this,t):r[o]),this.format(r||this.localeData().calendar(o,this,Le(t)))},K.clone=function(){return new k(this)},K.diff=function(g,t,e){var n,r,o;if(!this.isValid())return NaN;if(!(n=je(g,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=j(t)){case"year":o=tn(this,n)/12;break;case"month":o=tn(this,n);break;case"quarter":o=tn(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return e?o:G(o)},K.endOf=function(g){var t,n;if(void 0===(g=j(g))||"millisecond"===g||!this.isValid())return this;switch(n=this._isUTC?cn:sn,g){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-on(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-on(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-on(t,1e3)-1}return this._d.setTime(t),e.updateOffset(this,!0),this},K.format=function(g){return g=P(this,g=g||(this.isUtc()?e.defaultFormatUtc:e.defaultFormat)),this.localeData().postformat(g)},K.from=function(g,t){return this.isValid()&&(w(g)&&g.isValid()||Le(g).isValid())?Ve({to:this,from:g}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},K.fromNow=function(g){return this.from(Le(),g)},K.to=function(g,t){return this.isValid()&&(w(g)&&g.isValid()||Le(g).isValid())?Ve({from:this,to:g}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},K.toNow=function(g){return this.to(Le(),g)},K.get=function(g){return A(this[g=j(g)])?this[g]():this},K.invalidAt=function(){return h(this).overflow},K.isAfter=function(g,t){return g=w(g)?g:Le(g),!(!this.isValid()||!g.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(t).valueOf())},K.isBefore=function(g,t){return g=w(g)?g:Le(g),!(!this.isValid()||!g.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()<g.valueOf():this.clone().endOf(t).valueOf()<g.valueOf())},K.isBetween=function(g,t,e,n){return g=w(g)?g:Le(g),t=w(t)?t:Le(t),!!(this.isValid()&&g.isValid()&&t.isValid())&&("("===(n=n||"()")[0]?this.isAfter(g,e):!this.isBefore(g,e))&&(")"===n[1]?this.isBefore(t,e):!this.isAfter(t,e))},K.isSame=function(t,e){return t=w(t)?t:Le(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},K.isSameOrAfter=function(g,t){return this.isSame(g,t)||this.isAfter(g,t)},K.isSameOrBefore=function(g,t){return this.isSame(g,t)||this.isBefore(g,t)},K.isValid=function(){return y(this)},K.lang=Jt,K.locale=en,K.localeData=nn,K.max=ot,K.min=at,K.parsingFlags=function(){return l({},h(this))},K.set=function(g,t){if("object"==typeof g)for(var e=function(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:W[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(g=U(g)),n=e.length,r=0;r<n;r++)this[e[r].unit](g[e[r].unit]);else if(A(this[g=j(g)]))return this[g](t);return this},K.startOf=function(g){var t,n;if(void 0===(g=j(g))||"millisecond"===g||!this.isValid())return this;switch(n=this._isUTC?cn:sn,g){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=on(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=on(t,6e4);break;case"second":t=this._d.valueOf(),t-=on(t,1e3)}return this._d.setTime(t),e.updateOffset(this,!0),this},K.subtract=Qt,K.toArray=function(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]},K.toObject=function(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}},K.toDate=function(){return new Date(this.valueOf())},K.toISOString=function(g){if(!this.isValid())return null;var t=(g=!0!==g)?this.clone().utc():this;return t.year()<0||9999<t.year()?P(t,g?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?g?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(t,"Z")):P(t,g?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},K.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g,t="moment",e="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+g+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},typeof Symbol<"u"&&null!=Symbol.for&&(K[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},K.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},K.eraName=function(){for(var g,t=this.localeData().eras(),e=0,n=t.length;e<n;++e)if(g=this.clone().startOf("day").valueOf(),t[e].since<=g&&g<=t[e].until||t[e].until<=g&&g<=t[e].since)return t[e].name;return""},K.eraNarrow=function(){for(var g,t=this.localeData().eras(),e=0,n=t.length;e<n;++e)if(g=this.clone().startOf("day").valueOf(),t[e].since<=g&&g<=t[e].until||t[e].until<=g&&g<=t[e].since)return t[e].narrow;return""},K.eraAbbr=function(){for(var g,t=this.localeData().eras(),e=0,n=t.length;e<n;++e)if(g=this.clone().startOf("day").valueOf(),t[e].since<=g&&g<=t[e].until||t[e].until<=g&&g<=t[e].since)return t[e].abbr;return""},K.eraYear=function(){for(var g,t,n=this.localeData().eras(),r=0,o=n.length;r<o;++r)if(g=n[r].since<=n[r].until?1:-1,t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return(this.year()-e(n[r].since).year())*g+n[r].offset;return this.year()},K.year=Ut,K.isLeapYear=function(){return V(this.year())},K.weekYear=function(g){return fn.call(this,g,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},K.isoWeekYear=function(g){return fn.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)},K.quarter=K.quarters=function(g){return null==g?Math.ceil((this.month()+1)/3):this.month(3*(g-1)+this.month()%3)},K.month=zt,K.daysInMonth=function(){return Lt(this.year(),this.month())},K.week=K.weeks=function(g){var t=this.localeData().week(this);return null==g?t:this.add(7*(g-t),"d")},K.isoWeek=K.isoWeeks=function(g){var t=Gt(this,1,4).week;return null==g?t:this.add(7*(g-t),"d")},K.weeksInYear=function(){var g=this.localeData()._week;return Xt(this.year(),g.dow,g.doy)},K.weeksInWeekYear=function(){var g=this.localeData()._week;return Xt(this.weekYear(),g.dow,g.doy)},K.isoWeeksInYear=function(){return Xt(this.year(),1,4)},K.isoWeeksInISOWeekYear=function(){return Xt(this.isoWeekYear(),1,4)},K.date=ct,K.day=K.days=function(g){if(!this.isValid())return null!=g?this:NaN;var t,e,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=g?(t=g,e=this.localeData(),g="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10),this.add(g-n,"d")):n},K.weekday=function(g){if(!this.isValid())return null!=g?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==g?t:this.add(g-t,"d")},K.isoWeekday=function(g){return this.isValid()?null!=g?(t=g,e=this.localeData(),e="string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?e:e-7)):this.day()||7:null!=g?this:NaN;var t,e},K.dayOfYear=function(g){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==g?t:this.add(g-t,"d")},K.hour=K.hours=gt,K.minute=K.minutes=et,K.second=K.seconds=lt,K.millisecond=K.milliseconds=nt,K.utcOffset=function(g,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=g?this:NaN;if(null==g)return this._isUTC?o:Ue(this);if("string"==typeof g){if(null===(g=Ye(pt,g)))return this}else Math.abs(g)<16&&!n&&(g*=60);return!this._isUTC&&t&&(r=Ue(this)),this._offset=g,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==g&&(!t||this._changeInProgress?Qe(this,Ve(g-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this},K.utc=function(g){return this.utcOffset(0,g)},K.local=function(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(Ue(this),"m")),this},K.parseZone=function(){var g;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(g=Ye(ft,this._i))?this.utcOffset(g):this.utcOffset(0,!0)),this},K.hasAlignedHourOffset=function(g){return!!this.isValid()&&(g=g?Le(g).utcOffset():0,(this.utcOffset()-g)%60==0)},K.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},K.isLocal=function(){return!!this.isValid()&&!this._isUTC},K.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},K.isUtc=We,K.isUTC=We,K.zoneAbbr=function(){return this._isUTC?"UTC":""},K.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},K.dates=T("dates accessor is deprecated. Use date instead.",ct),K.months=T("months accessor is deprecated. Use month instead",zt),K.years=T("years accessor is deprecated. Use year instead",Ut),K.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(g,t){return null!=g?(this.utcOffset(g="string"!=typeof g?-g:g,t),this):-this.utcOffset()})),K.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var g,t={};return x(t,this),(t=De(t))._a?(g=(t._isUTC?p:Le)(t._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),c=0,l=0;l<r;l++)(n&&t[l]!==e[l]||!n&&q(t[l])!==q(e[l]))&&c++;return c+o}(t._a,g.toArray())):this._isDSTShifted=!1,this._isDSTShifted})),(J=N.prototype).calendar=function(g,t,e){return A(g=this._calendar[g]||this._calendar.sameElse)?g.call(t,e):g},J.longDateFormat=function(g){var t=this._longDateFormat[g],e=this._longDateFormat[g.toUpperCase()];return t||!e?t:(this._longDateFormat[g]=e.match(L).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[g])},J.invalidDate=function(){return this._invalidDate},J.ordinal=function(g){return this._ordinal.replace("%d",g)},J.preparse=pn,J.postformat=pn,J.relativeTime=function(g,t,e,n){var r=this._relativeTime[e];return A(r)?r(g,t,e,n):r.replace(/%d/i,g)},J.pastFuture=function(g,t){return A(g=this._relativeTime[0<g?"future":"past"])?g(t):g.replace(/%s/i,t)},J.set=function(g){var t,e;for(e in g)s(g,e)&&(A(t=g[e])?this[e]=t:this["_"+e]=t);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},J.eras=function(g,t){for(var n,r=this._eras||ye("en")._eras,o=0,c=r.length;o<c;++o)switch("string"==typeof r[o].since&&(n=e(r[o].since).startOf("day"),r[o].since=n.valueOf()),typeof r[o].until){case"undefined":r[o].until=1/0;break;case"string":n=e(r[o].until).startOf("day").valueOf(),r[o].until=n.valueOf()}return r},J.erasParse=function(g,t,e){var n,r,o,c,l,h=this.eras();for(g=g.toUpperCase(),n=0,r=h.length;n<r;++n)if(o=h[n].name.toUpperCase(),c=h[n].abbr.toUpperCase(),l=h[n].narrow.toUpperCase(),e)switch(t){case"N":case"NN":case"NNN":if(c===g)return h[n];break;case"NNNN":if(o===g)return h[n];break;case"NNNNN":if(l===g)return h[n]}else if(0<=[o,c,l].indexOf(g))return h[n]},J.erasConvertYear=function(g,t){var n=g.since<=g.until?1:-1;return void 0===t?e(g.since).year():e(g.since).year()+(t-g.offset)*n},J.erasAbbrRegex=function(g){return s(this,"_erasAbbrRegex")||un.call(this),g?this._erasAbbrRegex:this._erasRegex},J.erasNameRegex=function(g){return s(this,"_erasNameRegex")||un.call(this),g?this._erasNameRegex:this._erasRegex},J.erasNarrowRegex=function(g){return s(this,"_erasNarrowRegex")||un.call(this),g?this._erasNarrowRegex:this._erasRegex},J.months=function(g,t){return g?(i(this._months)?this._months:this._months[(this._months.isFormat||Ft).test(t)?"format":"standalone"])[g.month()]:i(this._months)?this._months:this._months.standalone},J.monthsShort=function(g,t){return g?(i(this._monthsShort)?this._monthsShort:this._monthsShort[Ft.test(t)?"format":"standalone"])[g.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},J.monthsParse=function(g,t,e){var n,r;if(this._monthsParseExact)return function(t,e,n){var r,o,c;if(t=t.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)c=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(c,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=wt.call(this._shortMonthsParse,t))?o:null:-1!==(o=wt.call(this._longMonthsParse,t))?o:null:"MMM"===e?-1!==(o=wt.call(this._shortMonthsParse,t))||-1!==(o=wt.call(this._longMonthsParse,t))?o:null:-1!==(o=wt.call(this._longMonthsParse,t))||-1!==(o=wt.call(this._shortMonthsParse,t))?o:null}.call(this,g,t,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++)if(r=p([2e3,n]),e&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),e||this._monthsParse[n]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),e&&"MMMM"===t&&this._longMonthsParse[n].test(g)||e&&"MMM"===t&&this._shortMonthsParse[n].test(g)||!e&&this._monthsParse[n].test(g))return n},J.monthsRegex=function(g){return this._monthsParseExact?(s(this,"_monthsRegex")||Yt.call(this),g?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)},J.monthsShortRegex=function(g){return this._monthsParseExact?(s(this,"_monthsRegex")||Yt.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)},J.week=function(g){return Gt(g,this._week.dow,this._week.doy).week},J.firstDayOfYear=function(){return this._week.doy},J.firstDayOfWeek=function(){return this._week.dow},J.weekdays=function(g,t){return t=i(this._weekdays)?this._weekdays:this._weekdays[g&&!0!==g&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===g?Zt(t,this._week.dow):g?t[g.day()]:t},J.weekdaysMin=function(g){return!0===g?Zt(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin},J.weekdaysShort=function(g){return!0===g?Zt(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort},J.weekdaysParse=function(g,t,e){var n,r;if(this._weekdaysParseExact)return function(t,e,n){var r,o,c;if(t=t.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)c=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(c,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=wt.call(this._weekdaysParse,t))?o:null:"ddd"===e?-1!==(o=wt.call(this._shortWeekdaysParse,t))?o:null:-1!==(o=wt.call(this._minWeekdaysParse,t))?o:null:"dddd"===e?-1!==(o=wt.call(this._weekdaysParse,t))||-1!==(o=wt.call(this._shortWeekdaysParse,t))||-1!==(o=wt.call(this._minWeekdaysParse,t))?o:null:"ddd"===e?-1!==(o=wt.call(this._shortWeekdaysParse,t))||-1!==(o=wt.call(this._weekdaysParse,t))||-1!==(o=wt.call(this._minWeekdaysParse,t))?o:null:-1!==(o=wt.call(this._minWeekdaysParse,t))||-1!==(o=wt.call(this._weekdaysParse,t))||-1!==(o=wt.call(this._shortWeekdaysParse,t))?o:null}.call(this,g,t,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++)if(r=p([2e3,1]).day(n),e&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),e&&"dddd"===t&&this._fullWeekdaysParse[n].test(g)||e&&"ddd"===t&&this._shortWeekdaysParse[n].test(g)||e&&"dd"===t&&this._minWeekdaysParse[n].test(g)||!e&&this._weekdaysParse[n].test(g))return n},J.weekdaysRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||re.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=te),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)},J.weekdaysShortRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||re.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ee),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},J.weekdaysMinRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||re.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ne),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},J.isPM=function(g){return"p"===(g+"").toLowerCase().charAt(0)},J.meridiem=function(g,t,e){return 11<g?e?"pm":"PM":e?"am":"AM"},pe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var t=g%10;return g+(1===q(g%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),e.lang=T("moment.lang is deprecated. Use moment.locale instead.",pe),e.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ye);var bn=Math.abs;function _n(g,t,e,n){return t=Ve(t,e),g._milliseconds+=n*t._milliseconds,g._days+=n*t._days,g._months+=n*t._months,g._bubble()}function vn(g){return g<0?Math.floor(g):Math.ceil(g)}function xn(g){return 4800*g/146097}function kn(g){return 146097*g/4800}function wn(g){return function(){return this.as(g)}}function En(g){return function(){return this.isValid()?this._data[g]:NaN}}st=wn("ms"),tt=wn("s"),Bt=wn("m"),ot=wn("h"),at=wn("d"),Qt=wn("w"),gt=wn("M"),et=wn("Q"),lt=wn("y"),nt=En("milliseconds"),ct=En("seconds"),Ut=En("minutes"),J=En("hours");var Tn=En("days"),Cn=En("months"),Sn=En("years"),An=Math.round,Mn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Nn(g,t,e,n){var r=Ve(g).abs(),o=An(r.as("s")),c=An(r.as("m")),l=An(r.as("h")),h=An(r.as("d")),f=An(r.as("M")),d=An(r.as("w"));return r=An(r.as("y")),o=(o<=e.ss?["s",o]:o<e.s&&["ss",o])||c<=1&&["m"]||c<e.m&&["mm",c]||l<=1&&["h"]||l<e.h&&["hh",l]||h<=1&&["d"]||h<e.d&&["dd",h],(o=(o=null!=e.w?o||d<=1&&["w"]||d<e.w&&["ww",d]:o)||f<=1&&["M"]||f<e.M&&["MM",f]||r<=1&&["y"]||["yy",r])[2]=t,o[3]=0<+g,o[4]=n,function(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}.apply(null,o)}var Dn=Math.abs;function On(g){return(0<g)-(g<0)||+g}function Ln(){if(!this.isValid())return this.localeData().invalidDate();var g,t,e,n,r,o,c,l=Dn(this._milliseconds)/1e3,h=Dn(this._days),f=Dn(this._months),d=this.asSeconds();return d?(g=G(l/60),t=G(g/60),l%=60,g%=60,e=G(f/12),f%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=On(this._months)!==On(d)?"-":"",o=On(this._days)!==On(d)?"-":"",c=On(this._milliseconds)!==On(d)?"-":"",(d<0?"-":"")+"P"+(e?r+e+"Y":"")+(f?r+f+"M":"")+(h?o+h+"D":"")+(t||g||l?"T":"")+(t?c+t+"H":"")+(g?c+g+"M":"")+(l?c+n+"S":"")):"P0D"}var Bn=Fe.prototype;return Bn.isValid=function(){return this._isValid},Bn.abs=function(){var g=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),g.milliseconds=bn(g.milliseconds),g.seconds=bn(g.seconds),g.minutes=bn(g.minutes),g.hours=bn(g.hours),g.months=bn(g.months),g.years=bn(g.years),this},Bn.add=function(g,t){return _n(this,g,t,1)},Bn.subtract=function(g,t){return _n(this,g,t,-1)},Bn.as=function(g){if(!this.isValid())return NaN;var t,e,n=this._milliseconds;if("month"===(g=j(g))||"quarter"===g||"year"===g)switch(t=this._days+n/864e5,e=this._months+xn(t),g){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(t=this._days+Math.round(kn(this._months)),g){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+g)}},Bn.asMilliseconds=st,Bn.asSeconds=tt,Bn.asMinutes=Bt,Bn.asHours=ot,Bn.asDays=at,Bn.asWeeks=Qt,Bn.asMonths=gt,Bn.asQuarters=et,Bn.asYears=lt,Bn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},Bn._bubble=function(){var g=this._milliseconds,t=this._days,e=this._months,n=this._data;return 0<=g&&0<=t&&0<=e||g<=0&&t<=0&&e<=0||(g+=864e5*vn(kn(e)+t),e=t=0),n.milliseconds=g%1e3,g=G(g/1e3),n.seconds=g%60,g=G(g/60),n.minutes=g%60,g=G(g/60),n.hours=g%24,t+=G(g/24),e+=g=G(xn(t)),t-=vn(kn(g)),g=G(e/12),e%=12,n.days=t,n.months=e,n.years=g,this},Bn.clone=function(){return Ve(this)},Bn.get=function(g){return g=j(g),this.isValid()?this[g+"s"]():NaN},Bn.milliseconds=nt,Bn.seconds=ct,Bn.minutes=Ut,Bn.hours=J,Bn.days=Tn,Bn.weeks=function(){return G(this.days()/7)},Bn.months=Cn,Bn.years=Sn,Bn.humanize=function(g,t){if(!this.isValid())return this.localeData().invalidDate();var e=!1,n=Mn;return"object"==typeof g&&(t=g,g=!1),"boolean"==typeof g&&(e=g),"object"==typeof t&&(n=Object.assign({},Mn,t),null!=t.s&&null==t.ss&&(n.ss=t.s-1)),t=Nn(this,!e,n,g=this.localeData()),e&&(t=g.pastFuture(+this,t)),g.postformat(t)},Bn.toISOString=Ln,Bn.toString=Ln,Bn.toJSON=Ln,Bn.locale=en,Bn.localeData=nn,Bn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ln),Bn.lang=Jt,R("X",0,0,"unix"),R("x",0,0,"valueOf"),yt("x",ht),yt("X",/[+-]?\d+(\.\d{1,3})?/),xt("X",(function(g,t,e){e._d=new Date(1e3*parseFloat(g))})),xt("x",(function(g,t,e){e._d=new Date(q(g))})),e.version="2.29.4",t=Le,e.fn=K,e.min=function(){return Be("isBefore",[].slice.call(arguments,0))},e.max=function(){return Be("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=p,e.unix=function(g){return Le(1e3*g)},e.months=function(g,t){return yn(g,t,"months")},e.isDate=o,e.locale=pe,e.invalid=m,e.duration=Ve,e.isMoment=w,e.weekdays=function(g,t,e){return mn(g,t,e,"weekdays")},e.parseZone=function(){return Le.apply(null,arguments).parseZone()},e.localeData=ye,e.isDuration=Re,e.monthsShort=function(g,t){return yn(g,t,"monthsShort")},e.weekdaysMin=function(g,t,e){return mn(g,t,e,"weekdaysMin")},e.defineLocale=ge,e.updateLocale=function(g,t){var e,n;return null!=t?(n=ce,null!=le[g]&&null!=le[g].parentLocale?le[g].set(M(le[g]._config,t)):(t=M(n=null!=(e=de(g))?e._config:n,t),null==e&&(t.abbr=g),(n=new N(t)).parentLocale=le[g],le[g]=n),pe(g)):null!=le[g]&&(null!=le[g].parentLocale?(le[g]=le[g].parentLocale,g===pe()&&pe(g)):null!=le[g]&&delete le[g]),le[g]},e.locales=function(){return D(le)},e.weekdaysShort=function(g,t,e){return mn(g,t,e,"weekdaysShort")},e.normalizeUnits=j,e.relativeTimeRounding=function(g){return void 0===g?An:"function"==typeof g&&(An=g,!0)},e.relativeTimeThreshold=function(g,t){return void 0!==Mn[g]&&(void 0===t?Mn[g]:(Mn[g]=t,"s"===g&&(Mn.ss=t-1),!0))},e.calendarFormat=function(g,t){return(g=g.diff(t,"days",!0))<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"},e.prototype=K,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}();const m=y.exports,_={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},v={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},x=function(t="fatal"){let e=_.fatal;"string"==typeof t?(t=t.toLowerCase())in _&&(e=_[t]):"number"==typeof t&&(e=t),v.trace=()=>{},v.debug=()=>{},v.info=()=>{},v.warn=()=>{},v.error=()=>{},v.fatal=()=>{},e<=_.fatal&&(v.fatal=console.error?console.error.bind(console,k("FATAL"),"color: orange"):console.log.bind(console,"[35m",k("FATAL"))),e<=_.error&&(v.error=console.error?console.error.bind(console,k("ERROR"),"color: orange"):console.log.bind(console,"[31m",k("ERROR"))),e<=_.warn&&(v.warn=console.warn?console.warn.bind(console,k("WARN"),"color: orange"):console.log.bind(console,"[33m",k("WARN"))),e<=_.info&&(v.info=console.info?console.info.bind(console,k("INFO"),"color: lightblue"):console.log.bind(console,"[34m",k("INFO"))),e<=_.debug&&(v.debug=console.debug?console.debug.bind(console,k("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",k("DEBUG"))),e<=_.trace&&(v.trace=console.debug?console.debug.bind(console,k("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",k("TRACE")))},k=t=>`%c${m().format("ss.SSS")} : ${t} : `;var w={};Object.defineProperty(w,"__esModule",{value:!0});var E=w.sanitizeUrl=void 0,T=/^([^\w]*)(javascript|data|vbscript)/im,C=/&#(\w+)(^\w|;)?/g,S=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,A=/^([^:]+):/gm,M=[".","/"];function N(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O(t){let e,n,r;function i(t,r,u=0,o=t.length){if(u<o){if(0!==e(r,r))return o;do{const e=u+o>>>1;n(t[e],r)<0?u=e+1:o=e}while(u<o)}return u}return 2!==t.length?(e=N,n=(e,n)=>N(t(e),n),r=(e,n)=>t(e)-n):(e=t===N||t===D?t:L,n=t,r=t),{left:i,center:function(t,e,u=0,n=t.length){const o=i(t,e,u,n-1);return o>u&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,u=0,o=t.length){if(u<o){if(0!==e(r,r))return o;do{const e=u+o>>>1;n(t[e],r)<=0?u=e+1:o=e}while(u<o)}return u}}}function L(){return 0}function B(t){return null===t?NaN:+t}function*I(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}E=w.sanitizeUrl=function(t){var e=function(t){return t.replace(C,(function(t,e){return String.fromCharCode(e)}))}(t||"").replace(S,"").trim();if(!e)return"about:blank";if(function(t){return M.indexOf(t[0])>-1}(e))return e;var n=e.match(A);if(!n)return e;var r=n[0];return T.test(r)?"about:blank":e};const F=O(N),R=F.right,P=F.left,$=O(B).center,z=R;const Y=U(V),j=U((function(t){const e=V(t);return(t,n,i,a,s)=>{e(t,n,(i<<=2)+0,(a<<=2)+0,s<<=2),e(t,n,i+1,a+1,s),e(t,n,i+2,a+2,s),e(t,n,i+3,a+3,s)}}));function U(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:s}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(void 0!==s?s:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!s||!n&&!r)return e;const o=n&&t(n),c=r&&t(r),u=i.slice();return o&&c?(W(o,u,i,a,s),W(o,i,u,a,s),W(o,u,i,a,s),H(c,i,u,a,s),H(c,u,i,a,s),H(c,i,u,a,s)):o?(W(o,i,u,a,s),W(o,u,i,a,s),W(o,i,u,a,s)):c&&(H(c,i,u,a,s),H(c,u,i,a,s),H(c,i,u,a,s)),e}}function W(t,e,n,r,i){for(let a=0,s=r*i;a<s;)t(e,n,a,a+=r,1)}function H(t,e,n,r,i){for(let a=0,s=r*i;a<r;++a)t(e,n,a,a+s,r)}function V(t){const e=Math.floor(t);if(e===t)return function(t){const e=2*t+1;return(n,r,i,a,s)=>{if(!((a-=s)>=i))return;let o=t*r[i];const c=s*t;for(let u=i,t=i+c;u<t;u+=s)o+=r[Math.min(a,u)];for(let u=i,t=a;u<=t;u+=s)o+=r[Math.min(a,u+c)],n[u]=o/e,o-=r[Math.max(i,u-c)]}}(t);const n=t-e,r=2*t+1;return(i,a,s,t,o)=>{if(!((t-=o)>=s))return;let u=e*a[s];const c=o*e,l=c+o;for(let e=s,p=s+c;e<p;e+=o)u+=a[Math.min(t,e)];for(let e=s,p=t;e<=p;e+=o)u+=a[Math.min(t,e+c)],i[e]=(u+n*(a[Math.max(s,e-l)]+a[Math.min(t,e+l)]))/r,u-=a[Math.max(s,e-c)]}}function h1(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function G(t){return 0|t.length}function X(t){return!(t>0)}function Z(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function Q(t,e){let n,r=0,i=0,a=0;if(void 0===e)for(let s of t)null!=s&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i));else{let s=-1;for(let o of t)null!=(o=e(o,++s,t))&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i))}if(r>1)return a/(r-1)}function K(t,e){const n=Q(t,e);return n&&Math.sqrt(n)}function J(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class tt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],s=t+a,r=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);r&&(e[n++]=r),t=s}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,i,a,n=this._n,s=0;if(n>0){for(s=t[--n];n>0&&(e=s,i=t[--n],s=e+i,a=i-(s-e),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=2*a,e=s+i,i==e-s&&(s=e))}return s}}class et extends Map{constructor(t,e=st){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get(it(this,t))}has(t){return super.has(it(this,t))}set(t,e){return super.set(at(this,t),e)}delete(t){return super.delete(ot(this,t))}}class nt extends Set{constructor(t,e=st){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(it(this,t))}add(t){return super.add(at(this,t))}delete(t){return super.delete(ot(this,t))}}function it({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function at({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ot({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function st(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ct(t){return t}function lt(t,...e){return yt(t,ct,ct,e)}function ut(t,...e){return yt(t,Array.from,ct,e)}function ht(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((i=>i.pop().map((([a,s])=>[...i,a,s]))));return t}function ft(t,e,...n){return yt(t,ct,e,n)}function pt(t,e,...n){return yt(t,Array.from,e,n)}function gt(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function yt(t,e,n,r){return function i(a,s){if(s>=r.length)return n(a);const t=new et,o=r[s++];let u=-1;for(const e of a){const n=o(e,++u,a),r=t.get(n);r?r.push(e):t.set(n,[e])}for(const[e,n]of t)t.set(e,i(n,s));return e(t)}(t,0)}function mt(t,e){return Array.from(e,(e=>t[e]))}function bt(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((i,a)=>a));return e.length>1?(e=e.map((i=>t.map(i))),r.sort(((i,a)=>{for(const s of e){const t=vt(s[i],s[a]);if(t)return t}}))):(n=t.map(n),r.sort(((i,a)=>vt(n[i],n[a])))),mt(t,r)}return t.sort(_t(n))}function _t(t=N){if(t===N)return vt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function vt(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var xt=Array.prototype.slice;function kt(t){return()=>t}var wt=Math.sqrt(50),Et=Math.sqrt(10),Tt=Math.sqrt(2);function Ct(t,e,n){var r,a,s,o,i=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=St(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),u=Math.round(e/o);for(n*o<t&&++n,u*o>e&&--u,s=new Array(a=u-n+1);++i<a;)s[i]=(n+i)*o}else{o=-o;let n=Math.round(t*o),u=Math.round(e*o);for(n/o<t&&++n,u/o>e&&--u,s=new Array(a=u-n+1);++i<a;)s[i]=(n+i)/o}return r&&s.reverse(),s}function St(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=wt?10:a>=Et?5:a>=Tt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=wt?10:a>=Et?5:a>=Tt?2:1)}function At(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=wt?i*=10:a>=Et?i*=5:a>=Tt&&(i*=2),e<t?-i:i}function Mt(t,e,n){let r;for(;;){const i=St(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Nt(t){return Math.ceil(Math.log(h1(t))/Math.LN2)+1}function Dt(){var t=ct,e=J,n=Nt;function r(i){Array.isArray(i)||(i=Array.from(i));var a,r,o,s=i.length,u=new Array(s);for(a=0;a<s;++a)u[a]=t(i[a],a,i);var c=e(u),l=c[0],h=c[1],p=n(u,l,h);if(!Array.isArray(p)){const b=h,t=+p;if(e===J&&([l,h]=Mt(l,h,t)),(p=Ct(l,h,t))[0]<=l&&(o=St(l,h,t)),p[p.length-1]>=h)if(b>=h&&e===J){const e=St(l,h,t);isFinite(e)&&(e>0?h=(Math.floor(h/e)+1)*e:e<0&&(h=(Math.ceil(h*-e)+1)/-e))}else p.pop()}for(var f=p.length;p[0]<=l;)p.shift(),--f;for(;p[f-1]>h;)p.pop(),--f;var d,y=new Array(f+1);for(a=0;a<=f;++a)(d=y[a]=[]).x0=a>0?p[a-1]:l,d.x1=a<f?p[a]:h;if(isFinite(o)){if(o>0)for(a=0;a<s;++a)null!=(r=u[a])&&l<=r&&r<=h&&y[Math.min(f,Math.floor((r-l)/o))].push(i[a]);else if(o<0)for(a=0;a<s;++a)if(null!=(r=u[a])&&l<=r&&r<=h){const b=Math.floor((l-r)*o);y[Math.min(f,b+(p[b]<=r))].push(i[a])}}else for(a=0;a<s;++a)null!=(r=u[a])&&l<=r&&r<=h&&y[z(p,r,0,f)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t="function"==typeof i?i:kt(i),r):t},r.domain=function(i){return arguments.length?(e="function"==typeof i?i:kt([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n="function"==typeof i?i:Array.isArray(i)?kt(xt.call(i)):kt(i),r):n},r}function Ot(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Lt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const a of t)++i,null!=a&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of t)null!=(a=e(a,++i,t))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function Bt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function It(t,e){let n,r=-1,i=-1;if(void 0===e)for(const a of t)++i,null!=a&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);else for(let a of t)null!=(a=e(a,++i,t))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function Ft(t,e,n=0,r=t.length-1,i){for(i=void 0===i?vt:_t(i);r>n;){if(r-n>600){const o=r-n+1,u=e-n+1,c=Math.log(o),l=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*l*(o-l)/o)*(u-o/2<0?-1:1);Ft(t,e,Math.max(n,Math.floor(e-u*l/o+h)),Math.min(r,Math.floor(e+(o-u)*l/o+h)),i)}const a=t[e];let s=n,o=r;for(Rt(t,n,e),i(t[r],a)>0&&Rt(t,n,r);s<o;){for(Rt(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}0===i(t[n],a)?Rt(t,n,o):(++o,Rt(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Rt(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pt(t,e=N){let n,r=!1;if(1===e.length){let i;for(const a of t){const s=e(a);(r?N(s,i)>0:0===N(s,s))&&(n=a,i=s,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function $t(t,e,n){if(r=(t=Float64Array.from(I(t,n))).length){if((e=+e)<=0||r<2)return Bt(t);if(e>=1)return Ot(t);var r,i=(r-1)*e,a=Math.floor(i),s=Ot(Ft(t,a).subarray(0,a+1));return s+(Bt(t.subarray(a+1))-s)*(i-a)}}function zt(t,e,n=B){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(i-a)}}function Yt(t,e,n){if(r=(t=Float64Array.from(I(t,n))).length){if((e=+e)<=0||r<2)return It(t);if(e>=1)return Lt(t);var r,i=Math.floor((r-1)*e);return Pt(Ft(Uint32Array.from(t,((t,e)=>e)),i,0,r-1,((e,n)=>vt(t[e],t[n]))).subarray(0,i+1),(e=>t[e]))}}function jt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function Ut(t,e){return[t,e]}function Wt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function qt(t,e=N){if(1===e.length)return It(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?0===e(a,a):e(a,n)<0)&&(n=a,r=i);return r}const Ht=Vt(Math.random);function Vt(t){return function(e,n=0,i=e.length){let a=i-(n=+n);for(;a;){const s=t()*a--|0,r=e[a+n];e[a+n]=e[s+n],e[s+n]=r}return e}}function Gt(t){if(!(a=t.length))return[];for(var e=-1,n=Bt(t,Xt),r=new Array(n);++e<n;)for(var a,i=-1,s=r[e]=new Array(a);++i<a;)s[i]=t[i][e];return r}function Xt(t){return t.length}function Zt(t){return t instanceof nt?t:new nt(t)}function Qt(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const a=Kt(i);if(r.has(a))continue;let s,t;for(;({value:s,done:t}=n.next());){if(t)return!1;const e=Kt(s);if(r.add(e),Object.is(a,e))break}}return!0}function Kt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Jt(t){return t}var te=1e-6;function ee(t){return"translate("+t+",0)"}function ne(t){return"translate(0,"+t+")"}function re(t){return e=>+t(e)}function ie(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ae(){return!this.__axis}function oe(t,e){var n=[],r=null,i=null,a=6,s=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",h=1===t||3===t?ee:ne;function f(p){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):Jt:i,y=Math.max(a,0)+o,b=e.range(),m=+b[0]+c,_=+b[b.length-1]+c,v=(e.bandwidth?ie:re)(e.copy(),c),x=p.selection?p.selection():p,k=x.selectAll(".domain").data([null]),w=x.selectAll(".tick").data(f,e).order(),E=w.exit(),T=w.enter().append("g").attr("class","tick"),C=w.select("line"),S=w.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(T),C=C.merge(T.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),S=S.merge(T.append("text").attr("fill","currentColor").attr(l,u*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),p!==x&&(k=k.transition(p),w=w.transition(p),C=C.transition(p),S=S.transition(p),E=E.transition(p).attr("opacity",te).attr("transform",(function(t){return isFinite(t=v(t))?h(t+c):this.getAttribute("transform")})),T.attr("opacity",te).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:v(t))+c)}))),E.remove(),k.attr("d",4===t||2===t?s?"M"+u*s+","+m+"H"+c+"V"+_+"H"+u*s:"M"+c+","+m+"V"+_:s?"M"+m+","+u*s+"V"+c+"H"+_+"V"+u*s:"M"+m+","+c+"H"+_),w.attr("opacity",1).attr("transform",(function(t){return h(v(t)+c)})),C.attr(l+"2",u*a),S.attr(l,u*y).text(d),x.filter(ae).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),x.each((function(){this.__axis=v}))}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=null==p?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=null==p?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(a=s=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(o=+p,f):o},f.offset=function(p){return arguments.length?(c=+p,f):c},f}function se(t){return oe(1,t)}function ce(t){return oe(3,t)}var le={value:()=>{}};function ue(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new he(r)}function he(t){this._=t}function fe(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function de(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function pe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=le,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}he.prototype=ue.prototype={constructor:he,on:function(t,e){var i,n=this._,r=fe(t+"",n),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=pe(n[i],t.name,e);else if(null==e)for(i in n)n[i]=pe(n[i],t.name,null);return this}for(;++a<s;)if((i=(t=r[a]).type)&&(i=de(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new he(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,a,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(a=this._[t]).length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var ge="http://www.w3.org/1999/xhtml";const ye={svg:"http://www.w3.org/2000/svg",xhtml:ge,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function me(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ye.hasOwnProperty(e)?{space:ye[e],local:t}:t}function be(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ge&&e.documentElement.namespaceURI===ge?e.createElement(t):e.createElementNS(n,t)}}function _e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ve(t){var e=me(t);return(e.local?_e:be)(e)}function xe(){}function ke(t){return null==t?xe:function(){return this.querySelector(t)}}function we(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ee(){return[]}function Te(t){return null==t?Ee:function(){return this.querySelectorAll(t)}}function Ce(t){return function(){return this.matches(t)}}function Se(t){return function(e){return e.matches(t)}}var Ae=Array.prototype.find;function Me(){return this.firstElementChild}var Ne=Array.prototype.filter;function De(){return Array.from(this.children)}function Oe(t){return new Array(t.length)}function Le(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Be(t){return function(){return t}}function Ie(t,e,n,r,i,a){for(var o,s=0,c=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Le(t,a[s]);for(;s<c;++s)(o=e[s])&&(i[s]=o)}function Fe(t,e,n,r,i,a,s){var o,c,p,u=new Map,l=e.length,h=a.length,f=new Array(l);for(o=0;o<l;++o)(c=e[o])&&(f[o]=p=s.call(c,c.__data__,o,e)+"",u.has(p)?i[o]=c:u.set(p,c));for(o=0;o<h;++o)p=s.call(t,a[o],o,a)+"",(c=u.get(p))?(r[o]=c,c.__data__=a[o],u.delete(p)):n[o]=new Le(t,a[o]);for(o=0;o<l;++o)(c=e[o])&&u.get(f[o])===c&&(i[o]=c)}function Re(t){return t.__data__}function Pe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function $e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ze(t){return function(){this.removeAttribute(t)}}function Ye(t){return function(){this.removeAttributeNS(t.space,t.local)}}function je(t,e){return function(){this.setAttribute(t,e)}}function Ue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function We(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function qe(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function He(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ve(t){return function(){this.style.removeProperty(t)}}function Ge(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xe(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ze(t,e){return t.style.getPropertyValue(e)||He(t).getComputedStyle(t,null).getPropertyValue(e)}function Qe(t){return function(){delete this[t]}}function Ke(t,e){return function(){this[t]=e}}function Je(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function tn(t){return t.trim().split(/^|\s+/)}function en(t){return t.classList||new nn(t)}function nn(t){this._node=t,this._names=tn(t.getAttribute("class")||"")}function rn(t,e){for(var n=en(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function an(t,e){for(var n=en(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function on(t){return function(){rn(this,t)}}function sn(t){return function(){an(this,t)}}function cn(t,e){return function(){(e.apply(this,arguments)?rn:an)(this,t)}}function ln(){this.textContent=""}function un(t){return function(){this.textContent=t}}function hn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function fn(){this.innerHTML=""}function dn(t){return function(){this.innerHTML=t}}function pn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function gn(){this.nextSibling&&this.parentNode.appendChild(this)}function yn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mn(){return null}function bn(){var t=this.parentNode;t&&t.removeChild(this)}function _n(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function kn(t){return function(){var e=this.__on;if(e){for(var a,n=0,r=-1,i=e.length;n<i;++n)a=e[n],t.type&&a.type!==t.type||a.name!==t.name?e[++r]=a:this.removeEventListener(a.type,a.listener,a.options);++r?e.length=r:delete this.__on}}}function wn(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function En(t,e,n){var r=He(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Tn(t,e){return function(){return En(this,t,e)}}function Cn(t,e){return function(){return En(this,t,e.apply(this,arguments))}}Le.prototype={constructor:Le,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},nn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Sn=[null];function An(t,e){this._groups=t,this._parents=e}function Mn(){return new An([[document.documentElement]],Sn)}function Nn(t){return"string"==typeof t?new An([[document.querySelector(t)]],[document.documentElement]):new An([[t]],Sn)}An.prototype=Mn.prototype={constructor:An,select:function(t){"function"!=typeof t&&(t=ke(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],s=a.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),c[l]=u);return new An(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return we(t.apply(this,arguments))}}(t):Te(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new An(r,i)},selectChild:function(t){return this.select(null==t?Me:function(t){return function(){return Ae.call(this.children,t)}}("function"==typeof t?t:Se(t)))},selectChildren:function(t){return this.selectAll(null==t?De:function(t){return function(){return Ne.call(this.children,t)}}("function"==typeof t?t:Se(t)))},filter:function(t){"function"!=typeof t&&(t=Ce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new An(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Re);var n=e?Fe:Ie,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Be(t));for(var a=i.length,s=new Array(a),o=new Array(a),c=new Array(a),u=0;u<a;++u){var l=r[u],h=i[u],f=h.length,p=Pe(t.call(l,l&&l.__data__,u,r)),d=p.length,y=o[u]=new Array(d),m=s[u]=new Array(d),b=c[u]=new Array(f);n(l,h,y,m,b,p,e);for(var _,v,x=0,k=0;x<d;++x)if(_=y[x]){for(x>=k&&(k=x+1);!(v=m[k])&&++k<d;);_._next=v||null}}return(s=new An(s,r))._enter=o,s._exit=c,s},enter:function(){return new An(this._enter||this._groups.map(Oe),this._parents)},exit:function(){return new An(this._exit||this._groups.map(Oe),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&((i=e(i))&&(i=i.selection())),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),c=0;c<s;++c)for(var p,u=n[c],l=r[c],h=u.length,f=o[c]=new Array(h),d=0;d<h;++d)(p=u[d]||l[d])&&(f[d]=p);for(;c<i;++c)o[c]=n[c];return new An(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s,r=t[e],i=r.length-1,a=r[i];--i>=0;)(s=r[i])&&(a&&4^s.compareDocumentPosition(a)&&a.parentNode.insertBefore(s,a),a=s);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=$e);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var u,s=n[a],o=s.length,c=i[a]=new Array(o),l=0;l<o;++l)(u=s[l])&&(c[l]=u);c.sort(e)}return new An(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=me(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ye:ze:"function"==typeof e?n.local?qe:We:n.local?Ue:je)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ve:"function"==typeof e?Xe:Ge)(t,e,null==n?"":n)):Ze(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Qe:"function"==typeof e?Je:Ke)(t,e)):this.node()[t]},classed:function(t,e){var n=tn(t+"");if(arguments.length<2){for(var r=en(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?cn:e?on:sn)(n,e))},text:function(t){return arguments.length?this.each(null==t?ln:("function"==typeof t?hn:un)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?fn:("function"==typeof t?pn:dn)(t)):this.node().innerHTML},raise:function(){return this.each(gn)},lower:function(){return this.each(yn)},append:function(t){var e="function"==typeof t?t:ve(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ve(t),r=null==e?mn:"function"==typeof e?e:ke(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bn)},clone:function(t){return this.select(t?vn:_n)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,s,r=xn(t+""),a=r.length;if(!(arguments.length<2)){for(o=e?wn:kn,i=0;i<a;++i)this.each(o(r[i],e,n));return this}var o=this.node().__on;if(o)for(var c,l=0,u=o.length;l<u;++l)for(i=0,c=o[l];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Cn:Tn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s,r=t[e],i=0,a=r.length;i<a;++i)(s=r[i])&&(yield s)}};var Dn=0;function On(){return new Ln}function Ln(){this._="@"+(++Dn).toString(36)}function Bn(t){let e;for(;e=t.sourceEvent;)t=e;return t}function In(t,e){if(t=Bn(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Fn(t){return"string"==typeof t?new An([document.querySelectorAll(t)],[document.documentElement]):new An([we(t)],Sn)}Ln.prototype=On.prototype={constructor:Ln,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const Rn={passive:!1},Pn={capture:!0,passive:!1};function $n(t){t.stopImmediatePropagation()}function zn(t){t.preventDefault(),t.stopImmediatePropagation()}function Yn(t){var e=t.document.documentElement,n=Nn(t).on("dragstart.drag",zn,Pn);"onselectstart"in e?n.on("selectstart.drag",zn,Pn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function jn(t,e){var n=t.document.documentElement,r=Nn(t).on("dragstart.drag",null);e&&(r.on("click.drag",zn,Pn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Un=t=>()=>t;function Wn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}function qn(t){return!t.ctrlKey&&!t.button}function Hn(){return this.parentNode}function Vn(t,e){return null==e?{x:t.x,y:t.y}:e}function Gn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qn(){}Wn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Kn=.7,Jn=1/Kn,er="\\s*([+-]?\\d+)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ir=/^#([0-9a-f]{3,8})$/,ar=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),or=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),sr=new RegExp(`^rgba\\(${er},${er},${er},${nr}\\)$`),cr=new RegExp(`^rgba\\(${rr},${rr},${rr},${nr}\\)$`),lr=new RegExp(`^hsl\\(${nr},${rr},${rr}\\)$`),ur=new RegExp(`^hsla\\(${nr},${rr},${rr},${nr}\\)$`),fr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dr(){return this.rgb().formatHex()}function pr(){return this.rgb().formatRgb()}function gr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ir.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?yr(e):3===n?new xr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?mr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?mr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ar.exec(t))?new xr(e[1],e[2],e[3],1):(e=or.exec(t))?new xr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=sr.exec(t))?mr(e[1],e[2],e[3],e[4]):(e=cr.exec(t))?mr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=lr.exec(t))?Sr(e[1],e[2]/100,e[3]/100,1):(e=ur.exec(t))?Sr(e[1],e[2]/100,e[3]/100,e[4]):fr.hasOwnProperty(t)?yr(fr[t]):"transparent"===t?new xr(NaN,NaN,NaN,0):null}function yr(t){return new xr(t>>16&255,t>>8&255,255&t,1)}function mr(t,e,n,r){return r<=0&&(t=e=n=NaN),new xr(t,e,n,r)}function _r(t){return t instanceof Qn||(t=gr(t)),t?new xr((t=t.rgb()).r,t.g,t.b,t.opacity):new xr}function vr(t,e,n,r){return 1===arguments.length?_r(t):new xr(t,e,n,null==r?1:r)}function xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function kr(){return`#${Cr(this.r)}${Cr(this.g)}${Cr(this.b)}`}function wr(){const t=Er(this.opacity);return`${1===t?"rgb(":"rgba("}${Tr(this.r)}, ${Tr(this.g)}, ${Tr(this.b)}${1===t?")":`, ${t})`}`}function Er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cr(t){return((t=Tr(t))<16?"0":"")+t.toString(16)}function Sr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nr(t,e,n,r)}function Ar(t){if(t instanceof Nr)return new Nr(t.h,t.s,t.l,t.opacity);if(t instanceof Qn||(t=gr(t)),!t)return new Nr;if(t instanceof Nr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,c=(a+i)/2;return o?(s=e===a?(n-r)/o+6*(n<r):n===a?(r-e)/o+2:(e-n)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Nr(s,o,c,t.opacity)}function Mr(t,e,n,r){return 1===arguments.length?Ar(t):new Nr(t,e,n,null==r?1:r)}function Nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Dr(t){return(t=(t||0)%360)<0?t+360:t}function Or(t){return Math.max(0,Math.min(1,t||0))}function Lr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xn(Qn,gr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dr,formatHex:dr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ar(this).formatHsl()},formatRgb:pr,toString:pr}),Xn(xr,vr,Zn(Qn,{brighter(t){return t=null==t?Jn:Math.pow(Jn,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Kn:Math.pow(Kn,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Tr(this.r),Tr(this.g),Tr(this.b),Er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kr,formatHex:kr,formatHex8:function(){return`#${Cr(this.r)}${Cr(this.g)}${Cr(this.b)}${Cr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wr,toString:wr})),Xn(Nr,Mr,Zn(Qn,{brighter(t){return t=null==t?Jn:Math.pow(Jn,t),new Nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Kn:Math.pow(Kn,t),new Nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xr(Lr(t>=240?t-240:t+120,i,r),Lr(t,i,r),Lr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nr(Dr(this.h),Or(this.s),Or(this.l),Er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Er(this.opacity);return`${1===t?"hsl(":"hsla("}${Dr(this.h)}, ${100*Or(this.s)}%, ${100*Or(this.l)}%${1===t?")":`, ${t})`}`}}));const Br=Math.PI/180,Ir=180/Math.PI,Fr=.96422,Rr=.82521,Pr=4/29,$r=6/29,zr=3*$r*$r;function Yr(t){if(t instanceof Ur)return new Ur(t.l,t.a,t.b,t.opacity);if(t instanceof Zr)return Qr(t);t instanceof xr||(t=_r(t));var a,s,e=Vr(t.r),n=Vr(t.g),r=Vr(t.b),i=Wr((.2225045*e+.7168786*n+.0606169*r)/1);return e===n&&n===r?a=s=i:(a=Wr((.4360747*e+.3850649*n+.1430804*r)/Fr),s=Wr((.0139322*e+.0971045*n+.7141733*r)/Rr)),new Ur(116*i-16,500*(a-i),200*(i-s),t.opacity)}function jr(t,e,n,r){return 1===arguments.length?Yr(t):new Ur(t,e,n,null==r?1:r)}function Ur(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Wr(t){return t>.008856451679035631?Math.pow(t,1/3):t/zr+Pr}function qr(t){return t>$r?t*t*t:zr*(t-Pr)}function Hr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Vr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gr(t){if(t instanceof Zr)return new Zr(t.h,t.c,t.l,t.opacity);if(t instanceof Ur||(t=Yr(t)),0===t.a&&0===t.b)return new Zr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ir;return new Zr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xr(t,e,n,r){return 1===arguments.length?Gr(t):new Zr(t,e,n,null==r?1:r)}function Zr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qr(t){if(isNaN(t.h))return new Ur(t.l,0,0,t.opacity);var e=t.h*Br;return new Ur(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Xn(Ur,jr,Zn(Qn,{brighter(t){return new Ur(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Ur(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new xr(Hr(3.1338561*(e=Fr*qr(e))-1.6168667*(t=1*qr(t))-.4906146*(n=Rr*qr(n))),Hr(-.9787684*e+1.9161415*t+.033454*n),Hr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Xn(Zr,Xr,Zn(Qn,{brighter(t){return new Zr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Zr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Qr(this).rgb()}}));var Kr=-.14861,Jr=1.78277,ti=-.29227,ei=-.90649,ni=1.97294,ri=ni*ei,ii=ni*Jr,ai=Jr*ti-ei*Kr;function oi(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);t instanceof xr||(t=_r(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ai*r+ri*e-ii*n)/(ai+ri-ii),a=r-i,s=(ni*(n-i)-ti*a)/ei,o=Math.sqrt(s*s+a*a)/(ni*i*(1-i)),c=o?Math.atan2(s,a)*Ir-120:NaN;return new ci(c<0?c+360:c,o,i,t.opacity)}function si(t,e,n,r){return 1===arguments.length?oi(t):new ci(t,e,n,null==r?1:r)}function ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ui(t,e,n,r,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*r+s*i)/6}function hi(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],s=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return ui((n-r/e)*e,s,i,a,o)}}function fi(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],o=t[(r+2)%e];return ui((n-r/e)*e,i,a,s,o)}}Xn(ci,si,Zn(Qn,{brighter(t){return t=null==t?Jn:Math.pow(Jn,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Kn:Math.pow(Kn,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Br,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new xr(255*(e+n*(Kr*r+Jr*i)),255*(e+n*(ti*r+ei*i)),255*(e+n*(ni*r)),this.opacity)}}));const di=t=>()=>t;function pi(t,e){return function(n){return t+n*e}}function gi(t,e){var n=e-t;return n?pi(t,n>180||n<-180?n-360*Math.round(n/360):n):di(isNaN(t)?e:t)}function yi(t){return 1==(t=+t)?mi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):di(isNaN(e)?n:e)}}function mi(t,e){var n=e-t;return n?pi(t,n):di(isNaN(t)?e:t)}const bi=function t(e){var n=yi(e);function r(i,a){var s=n((i=vr(i)).r,(a=vr(a)).r),t=n(i.g,a.g),e=n(i.b,a.b),u=mi(i.opacity,a.opacity);return function(n){return i.r=s(n),i.g=t(n),i.b=e(n),i.opacity=u(n),i+""}}return r.gamma=t,r}(1);function _i(t){return function(e){var s,n,r=e.length,o=new Array(r),i=new Array(r),a=new Array(r);for(s=0;s<r;++s)n=vr(e[s]),o[s]=n.r||0,i[s]=n.g||0,a[s]=n.b||0;return o=t(o),i=t(i),a=t(a),n.opacity=1,function(t){return n.r=o(t),n.g=i(t),n.b=a(t),n+""}}}var vi=_i(hi),xi=_i(fi);function ki(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ei(t,e){var s,n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n);for(s=0;s<r;++s)i[s]=Di(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(t){for(s=0;s<r;++s)a[s]=i[s](t);return a}}function Ti(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Si(t,e){var i,n={},r={};for(i in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)i in t?n[i]=Di(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Ai.source,"g");function Ni(t,e){var n,i,a,r=Ai.lastIndex=Mi.lastIndex=0,s=-1,o=[],c=[];for(t+="",e+="";(n=Ai.exec(t))&&(i=Mi.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Ci(n,i)})),r=Mi.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(u){for(var t,n=0;n<e;++n)o[(t=c[n]).i]=t.x(u);return o.join("")})}function Di(t,e){var n,r=typeof e;return null==e||"boolean"===r?di(e):("number"===r?Ci:"string"===r?(n=gr(e))?(e=n,bi):Ni:e instanceof gr?bi:e instanceof Date?Ti:wi(e)?ki:Array.isArray(e)?Ei:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Si:Ci)(t,e)}function Oi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Li,Bi=180/Math.PI,Ii={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fi(t,e,n,r,i,a){var s,o,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Bi,skewX:Math.atan(c)*Bi,scaleX:s,scaleY:o}}function Ri(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}return function(u,o){var c=[],l=[];return u=t(u),o=t(o),function(u,t,r,o,p,c){if(u!==r||t!==o){var l=p.push("translate(",null,e,null,n);c.push({i:l-4,x:Ci(u,r)},{i:l-2,x:Ci(t,o)})}else(r||o)&&p.push("translate("+r+e+o+n)}(u.translateX,u.translateY,o.translateX,o.translateY,c,l),function(u,t,e,n){u!==t?(u-t>180?t+=360:t-u>180&&(u+=360),n.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ci(u,t)})):t&&e.push(i(e)+"rotate("+t+r)}(u.rotate,o.rotate,c,l),function(u,t,e,n){u!==t?n.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ci(u,t)}):t&&e.push(i(e)+"skewX("+t+r)}(u.skewX,o.skewX,c,l),function(u,t,e,n,p,r){if(u!==e||t!==n){var o=p.push(i(p)+"scale(",null,",",null,")");r.push({i:o-4,x:Ci(u,e)},{i:o-2,x:Ci(t,n)})}else(1!==e||1!==n)&&p.push(i(p)+"scale("+e+","+n+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,c,l),u=o=null,function(p){for(var t,e=-1,n=l.length;++e<n;)c[(t=l[e]).i]=t.x(p);return c.join("")}}}var Pi=Ri((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ii:Fi(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),$i=Ri((function(t){return null!=t&&(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),t=Li.transform.baseVal.consolidate())?Fi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ii}),", ",")",")");function zi(t){return((t=Math.exp(t))+1/t)/2}const Yi=function t(e,n,r){function i(a,s){var t,b,o=a[0],c=a[1],u=a[2],l=s[0],h=s[1],f=s[2],p=l-o,d=h-c,y=p*p+d*d;if(y<1e-12)b=Math.log(f/u)/e,t=function(t){return[o+t*p,c+t*d,u*Math.exp(e*t*b)]};else{var m=Math.sqrt(y),_=(f*f-u*u+r*y)/(2*u*n*m),v=(f*f-u*u-r*y)/(2*f*n*m),x=Math.log(Math.sqrt(_*_+1)-_),k=Math.log(Math.sqrt(v*v+1)-v);b=(k-x)/e,t=function(t){var r=t*b,l=zi(x),h=u/(n*m)*(l*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+x)-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[o+h*p,c+h*d,u*l/zi(e*r+x)]}}return t.duration=1e3*b*e/Math.SQRT2,t}return i.rho=function(a){var s=Math.max(.001,+a),e=s*s;return t(s,e,e*e)},i}(Math.SQRT2,2,4);function ji(t){return function(e,n){var r=t((e=Mr(e)).h,(n=Mr(n)).h),i=mi(e.s,n.s),a=mi(e.l,n.l),s=mi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=s(t),e+""}}}const Ui=ji(gi);var Wi=ji(mi);function qi(t){return function(e,n){var r=t((e=Xr(e)).h,(n=Xr(n)).h),i=mi(e.c,n.c),a=mi(e.l,n.l),s=mi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=s(t),e+""}}}const Hi=qi(gi);var Vi=qi(mi);function Gi(t){return function e(n){function r(i,a){var s=t((i=si(i)).h,(a=si(a)).h),e=mi(i.s,a.s),r=mi(i.l,a.l),u=mi(i.opacity,a.opacity);return function(t){return i.h=s(t),i.s=e(t),i.l=r(Math.pow(t,n)),i.opacity=u(t),i+""}}return n=+n,r.gamma=e,r}(1)}const Xi=Gi(gi);var Zi=Gi(mi);function Qi(t,e){void 0===e&&(e=t,t=Di);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var t=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[t](s-t)}}var Ki,Ji,ta=0,ea=0,na=0,ra=0,ia=0,aa=0,oa="object"==typeof performance&&performance.now?performance:Date,sa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ca(){return ia||(sa(la),ia=oa.now()+aa)}function la(){ia=0}function ua(){this._call=this._time=this._next=null}function ha(t,e,n){var r=new ua;return r.restart(t,e,n),r}function fa(){ca(),++ta;for(var t,e=Ki;e;)(t=ia-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ta}function da(){ia=(ra=oa.now())+aa,ta=ea=0;try{fa()}finally{ta=0,function(){for(var t,e,n=Ki,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ki=e);Ji=t,ga(r)}(),ia=0}}function pa(){var t=oa.now(),e=t-ra;e>1e3&&(aa-=e,ra=t)}function ga(t){ta||(ea&&(ea=clearTimeout(ea)),t-ia>24?(t<1/0&&(ea=setTimeout(da,t-oa.now()-aa)),na&&(na=clearInterval(na))):(na||(ra=oa.now(),na=setInterval(pa,1e3)),ta=1,sa(da)))}function ya(t,e,n){var r=new ua;return e=null==e?0:+e,r.restart((i=>{r.stop(),t(i+e)}),e,n),r}ua.prototype=ha.prototype={constructor:ua,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ca():+n)+(null==e?0:+e),!this._next&&Ji!==this&&(Ji?Ji._next=this:Ki=this,Ji=this),this._call=t,this._time=n,ga()},stop:function(){this._call&&(this._call=null,this._time=1/0,ga())}};var ma=ue("start","end","cancel","interrupt"),ba=[];function _a(t,e,n,r,i,a){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(u){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,h,f,p;if(1!==n.state)return c();for(l in r)if((p=r[l]).name===n.name){if(3===p.state)return ya(s);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[l]):+l<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[l])}if(ya((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function o(u){for(var e=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=5,1),r=-1,o=i.length;++r<o;)i[r].call(t,e);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var u in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=ha(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:ma,tween:ba,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function va(t,e){var n=ka(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function xa(t,e){var n=ka(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ka(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wa(t,e){var n,i,s,r=t.__transition,a=!0;if(r){for(s in e=null==e?null:e+"",r)(n=r[s]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]):a=!1;a&&delete t.__transition}}function Ea(t,e){var n,r;return function(){var i=xa(this,t),a=i.tween;if(a!==n)for(var s=0,o=(r=n=a).length;s<o;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Ta(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=xa(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=o;break}c===u&&i.push(o)}a.tween=i}}function Ca(t,e,n){var r=t._id;return t.each((function(){var i=xa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)})),function(i){return ka(i,r).value[e]}}function Sa(t,e){var n;return("number"==typeof e?Ci:e instanceof gr?bi:(n=gr(e))?(e=n,bi):Ni)(t,e)}function Aa(t){return function(){this.removeAttribute(t)}}function Ma(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Na(t,e,n){var r,a,i=n+"";return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function Da(t,e,n){var r,a,i=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function Oa(t,e,n){var r,i,a;return function(){var s,o,c=n(this);return null==c?void this.removeAttribute(t):(s=this.getAttribute(t))===(o=c+"")?null:s===r&&o===i?a:(i=o,a=e(r=s,c))}}function La(t,e,n){var r,i,a;return function(){var s,o,c=n(this);return null==c?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(o=c+"")?null:s===r&&o===i?a:(i=o,a=e(r=s,c))}}function Ba(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ia(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fa(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ia(t,a)),n}return i._value=e,i}function Ra(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ba(t,a)),n}return i._value=e,i}function Pa(t,e){return function(){va(this,t).delay=+e.apply(this,arguments)}}function $a(t,e){return e=+e,function(){va(this,t).delay=e}}function za(t,e){return function(){xa(this,t).duration=+e.apply(this,arguments)}}function Ya(t,e){return e=+e,function(){xa(this,t).duration=e}}function ja(t,e){if("function"!=typeof e)throw new Error;return function(){xa(this,t).ease=e}}function Ua(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?va:xa;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}var Wa=Mn.prototype.constructor;function qa(t){return function(){this.style.removeProperty(t)}}function Ha(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Va(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Ha(t,s,n)),r}return a._value=e,a}function Ga(t){return function(e){this.textContent=t.call(this,e)}}function Xa(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ga(i)),e}return r._value=t,r}var Za=0;function Qa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ka(t){return Mn().transition(t)}function Ja(){return++Za}var to=Mn.prototype;Qa.prototype=Ka.prototype={constructor:Qa,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ke(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o,c,l=r[s],h=l.length,u=a[s]=new Array(h),f=0;f<h;++f)(o=l[f])&&(c=t.call(o,o.__data__,f,l))&&("__data__"in o&&(c.__data__=o.__data__),u[f]=c,_a(u[f],e,n,f,u,ka(o,n)));return new Qa(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Te(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var c,l=r[o],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var p,f=t.call(c,c.__data__,h,l),d=ka(c,n),y=0,m=f.length;y<m;++y)(p=f[y])&&_a(p,e,n,y,f,d);a.push(f),s.push(c)}return new Qa(a,s,e,n)},selectChild:to.selectChild,selectChildren:to.selectChildren,filter:function(t){"function"!=typeof t&&(t=Ce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Qa(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var c,l=e[o],u=n[o],h=l.length,f=s[o]=new Array(h),p=0;p<h;++p)(c=l[p]||u[p])&&(f[p]=c);for(;o<r;++o)s[o]=e[o];return new Qa(s,this._parents,this._name,this._id)},selection:function(){return new Wa(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ja(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var l=ka(o,e);_a(o,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Qa(r,this._parents,t,n)},call:to.call,nodes:to.nodes,node:to.node,size:to.size,empty:to.empty,each:to.each,on:function(t,e){var n=this._id;return arguments.length<2?ka(this.node(),n).on.on(t):this.each(Ua(n,t,e))},attr:function(t,e){var n=me(t),r="transform"===n?$i:Sa;return this.attrTween(t,"function"==typeof e?(n.local?La:Oa)(n,r,Ca(this,"attr."+t,e)):null==e?(n.local?Ma:Aa)(n):(n.local?Da:Na)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=me(t);return this.tween(n,(r.local?Fa:Ra)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Pi:Sa;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Ze(this,t),s=(this.style.removeProperty(t),Ze(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}(t,r)).on("end.style."+t,qa(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var s=Ze(this,t),o=n(this),c=o+"";return null==o&&(this.style.removeProperty(t),c=o=Ze(this,t)),s===c?null:s===r&&c===i?a:(i=c,a=e(r=s,o))}}(t,r,Ca(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=xa(this,t),u=c.on,l=null==c.value[a]?o||(o=qa(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(s,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var s=Ze(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Va(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ca(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Xa(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s,r=ka(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((null==e?Ea:Ta)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pa:$a)(e,t)):ka(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?za:Ya)(e,t)):ka(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ja(e,t)):ka(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;xa(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,s){var o={value:s},c={value:function(){0==--i&&a()}};n.each((function(){var u=xa(this,r),n=u.on;n!==t&&((e=(t=n).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),u.on=e})),0===i&&a()}))},[Symbol.iterator]:to[Symbol.iterator]};function eo(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function no(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ro=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),io=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),ao=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),oo=Math.PI,so=oo/2;function co(t){return(1-Math.cos(oo*t))/2}function lo(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function uo(t){return((t*=2)<=1?lo(1-t):2-lo(t-1))/2}function ho(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var fo=4/11,po=7.5625;function go(t){return(t=+t)<fo?po*t*t:t<.7272727272727273?po*(t-=.5454545454545454)*t+.75:t<.9090909090909091?po*(t-=.8181818181818182)*t+.9375:po*(t-=.9545454545454546)*t+.984375}var yo=1.70158,mo=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(yo),bo=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(yo),_o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(yo),vo=2*Math.PI,xo=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=vo);function i(a){return e*lo(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*vo)},i.period=function(a){return t(e,a)},i}(1,.3),ko=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=vo);function i(a){return 1-e*lo(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*vo)},i.period=function(a){return t(e,a)},i}(1,.3),wo=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=vo);function i(a){return((a=2*a-1)<0?e*lo(-a)*Math.sin((r-a)/n):2-e*lo(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*vo)},i.period=function(a){return t(e,a)},i}(1,.3),Eo={time:null,delay:0,duration:250,ease:no};function To(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Mn.prototype.interrupt=function(t){return this.each((function(){wa(this,t)}))},Mn.prototype.transition=function(t){var e,n;t instanceof Qa?(e=t._id,t=t._name):(e=Ja(),(n=Eo).time=ca(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,u=0;u<c;++u)(o=s[u])&&_a(o,t,e,u,s,n||To(o,e));return new Qa(r,this._parents,t,e)};var Co=[null];const So=t=>()=>t;function Ao(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Mo(t){t.stopImmediatePropagation()}function No(t){t.preventDefault(),t.stopImmediatePropagation()}var Do={name:"drag"},Oo={name:"space"},Lo={name:"handle"},Bo={name:"center"};const{abs:Io,max:Fo,min:Ro}=Math;function Po(t){return[+t[0],+t[1]]}function $o(t){return[Po(t[0]),Po(t[1])]}var zo={name:"x",handles:["w","e"].map(Go),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Yo={name:"y",handles:["n","s"].map(Go),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},jo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Go),input:function(t){return null==t?null:$o(t)},output:function(t){return t}},Uo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},qo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ho={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Vo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Go(t){return{type:t}}function Xo(t){return!t.ctrlKey&&!t.button}function Zo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Qo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ko(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ts(t){var e,n=Zo,r=Xo,o=Qo,i=!0,a=ue("start","brush","end"),s=6;function c(e){var b=e.property("__brush",y).selectAll(".overlay").data([Go("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Uo.overlay).merge(b).each((function(){var t=Ko(this).extent;Nn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Go("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Uo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));n.exit().remove(),n.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Uo[t.type]})),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(o).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Nn(this),b=Ko(this).selection;b?(t.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?b[1][0]-s/2:b[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?b[1][1]-s/2:b[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?b[1][0]-b[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?b[1][1]-b[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,b,e){var n=t.__brush.emitter;return!n||e&&n.clean?new h(t,b,e):n}function h(t,b,e){this.that=t,this.args=b,this.state=t.__brush,this.active=0,this.clean=e}function f(n){if((!e||n.touches)&&r.apply(this,arguments)){var o,c,h,f,d,y,m,_,v,x,k,b=this,w=n.target.__data__.type,E="selection"===(i&&n.metaKey?w="overlay":w)?Do:i&&n.altKey?Bo:Lo,T=t===Yo?null:Ho[w],C=t===zo?null:Vo[w],S=Ko(b),A=S.extent,M=S.selection,N=A[0][0],D=A[0][1],O=A[1][0],L=A[1][1],B=0,I=0,F=T&&C&&i&&n.shiftKey,R=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=In(t,b)).point0=t.slice(),t.identifier=e,t}));wa(b);var P=l(b,arguments,!0).beforestart();if("overlay"===w){M&&(v=!0);const e=[R[0],R[1]||R[0]];S.selection=M=[[o=t===Yo?N:Ro(e[0][0],e[1][0]),h=t===zo?D:Ro(e[0][1],e[1][1])],[d=t===Yo?O:Fo(e[0][0],e[1][0]),m=t===zo?L:Fo(e[0][1],e[1][1])]],R.length>1&&j(n)}else o=M[0][0],h=M[0][1],d=M[1][0],m=M[1][1];c=o,f=h,y=d,_=m;var $=Nn(b).attr("pointer-events","none"),z=$.selectAll(".overlay").attr("cursor",Uo[w]);if(n.touches)P.moved=Y,P.ended=U;else{var q=Nn(n.view).on("mousemove.brush",Y,!0).on("mouseup.brush",U,!0);i&&q.on("keydown.brush",W,!0).on("keyup.brush",H,!0),Yn(n.view)}u.call(b),P.start(n,E.name)}function Y(t){for(const e of t.changedTouches||[t])for(const t of R)t.identifier===e.identifier&&(t.cur=In(e,b));if(F&&!x&&!k&&1===R.length){const t=R[0];Io(t.cur[0]-t[0])>Io(t.cur[1]-t[1])?k=!0:x=!0}for(const t of R)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);v=!0,No(t),j(t)}function j(t){const e=R[0],n=e.point0;var r;switch(B=e[0]-n[0],I=e[1]-n[1],E){case Oo:case Do:T&&(B=Fo(N-o,Ro(O-d,B)),c=o+B,y=d+B),C&&(I=Fo(D-h,Ro(L-m,I)),f=h+I,_=m+I);break;case Lo:R[1]?(T&&(c=Fo(N,Ro(O,R[0][0])),y=Fo(N,Ro(O,R[1][0])),T=1),C&&(f=Fo(D,Ro(L,R[0][1])),_=Fo(D,Ro(L,R[1][1])),C=1)):(T<0?(B=Fo(N-o,Ro(O-o,B)),c=o+B,y=d):T>0&&(B=Fo(N-d,Ro(O-d,B)),c=o,y=d+B),C<0?(I=Fo(D-h,Ro(L-h,I)),f=h+I,_=m):C>0&&(I=Fo(D-m,Ro(L-m,I)),f=h,_=m+I));break;case Bo:T&&(c=Fo(N,Ro(O,o-B*T)),y=Fo(N,Ro(O,d+B*T))),C&&(f=Fo(D,Ro(L,h-I*C)),_=Fo(D,Ro(L,m+I*C)))}y<c&&(T*=-1,r=o,o=d,d=r,r=c,c=y,y=r,w in Wo&&z.attr("cursor",Uo[w=Wo[w]])),_<f&&(C*=-1,r=h,h=m,m=r,r=f,f=_,_=r,w in qo&&z.attr("cursor",Uo[w=qo[w]])),S.selection&&(M=S.selection),x&&(c=M[0][0],y=M[1][0]),k&&(f=M[0][1],_=M[1][1]),(M[0][0]!==c||M[0][1]!==f||M[1][0]!==y||M[1][1]!==_)&&(S.selection=[[c,f],[y,_]],u.call(b),P.brush(t,E.name))}function U(t){if(Mo(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else jn(t.view,v),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);$.attr("pointer-events","all"),z.attr("cursor",Uo.overlay),S.selection&&(M=S.selection),Jo(M)&&(S.selection=null,u.call(b)),P.end(t,E.name)}function W(t){switch(t.keyCode){case 16:F=T&&C;break;case 18:E===Lo&&(T&&(d=y-B*T,o=c+B*T),C&&(m=_-I*C,h=f+I*C),E=Bo,j(t));break;case 32:(E===Lo||E===Bo)&&(T<0?d=y-B:T>0&&(o=c-B),C<0?m=_-I:C>0&&(h=f-I),E=Oo,z.attr("cursor",Uo.selection),j(t));break;default:return}No(t)}function H(t){switch(t.keyCode){case 16:F&&(x=k=F=!1,j(t));break;case 18:E===Bo&&(T<0?d=y:T>0&&(o=c),C<0?m=_:C>0&&(h=f),E=Lo,j(t));break;case 32:E===Oo&&(t.altKey?(T&&(d=y-B*T,o=c+B*T),C&&(m=_-I*C,h=f+I*C),E=Bo):(T<0?d=y:T>0&&(o=c),C<0?m=_:C>0&&(h=f),E=Lo),z.attr("cursor",Uo[w]),j(t));break;default:return}No(t)}}function p(t){l(this,arguments).moved(t)}function d(t){l(this,arguments).ended(t)}function y(){var e=this.__brush||{selection:null};return e.extent=$o(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,b,n){e.tween?e.on("start.brush",(function(t){l(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){l(this,arguments).end(t)})).tween("brush",(function(){var e=this,n=e.__brush,r=l(e,arguments),o=n.selection,c=t.input("function"==typeof b?b.apply(this,arguments):b,n.extent),h=Di(o,c);function f(t){n.selection=1===t&&null===c?null:h(t),u.call(e),r.brush()}return null!==o&&null!==c?f:f(1)})):e.each((function(){var e=this,r=arguments,o=e.__brush,c=t.input("function"==typeof b?b.apply(e,r):b,o.extent),h=l(e,r).beforestart();wa(e),o.selection=null===c?null:c,u.call(e),h.start(n).brush(n).end(n)}))},c.clear=function(t,b){c.move(t,null,b)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,b){return this.starting?(this.starting=!1,this.emit("start",t,b)):this.emit("brush",t),this},brush:function(t,b){return this.emit("brush",t,b),this},end:function(t,b){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,b)),this},emit:function(e,b,n){var r=Nn(this.that).datum();a.call(e,this.that,new Ao(e,{sourceEvent:b,target:c,selection:t.output(this.state.selection),mode:n,dispatch:a}),r)}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:So($o(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:So(!!t),c):r},c.touchable=function(t){return arguments.length?(o="function"==typeof t?t:So(!!t),c):o},c.handleSize=function(t){return arguments.length?(s=+t,c):s},c.keyModifiers=function(t){return arguments.length?(i=!!t,c):i},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var es=Math.abs,ns=Math.cos,rs=Math.sin,is=Math.PI,as=is/2,os=2*is,ss=Math.max,cs=1e-12;function td(t,e){return Array.from({length:e-t},((e,n)=>t+n))}function ls(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function us(t,e){var n=0,r=null,i=null,a=null;function s(o){var c,l=o.length,u=new Array(l),h=td(0,l),f=new Array(l*l),d=new Array(l),p=0;o=Float64Array.from({length:l*l},e?(t,e)=>o[e%l][e/l|0]:(t,e)=>o[e/l|0][e%l]);for(let e=0;e<l;++e){let n=0;for(let b=0;b<l;++b)n+=o[e*l+b]+t*o[b*l+e];p+=u[e]=n}c=(p=ss(0,os-n*l)/p)?n:os/l;{let e=0;r&&h.sort(((t,b)=>r(u[t],u[b])));for(const n of h){const b=e;if(t){const t=td(1+~l,l).filter((t=>t<0?o[~t*l+n]:o[n*l+t]));i&&t.sort(((t,e)=>i(t<0?-o[~t*l+n]:o[n*l+t],e<0?-o[~e*l+n]:o[n*l+e])));for(const r of t)if(r<0){(f[~r*l+n]||(f[~r*l+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=o[~r*l+n]*p,value:o[~r*l+n]}}else{(f[n*l+r]||(f[n*l+r]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=o[n*l+r]*p,value:o[n*l+r]}}d[n]={index:n,startAngle:b,endAngle:e,value:u[n]}}else{const t=td(0,l).filter((t=>o[n*l+t]||o[t*l+n]));i&&t.sort(((t,e)=>i(o[n*l+t],o[n*l+e])));for(const r of t){let t;if(n<r?(t=f[n*l+r]||(f[n*l+r]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=o[n*l+r]*p,value:o[n*l+r]}):(t=f[r*l+n]||(f[r*l+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=o[n*l+r]*p,value:o[n*l+r]},n===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}d[n]={index:n,startAngle:b,endAngle:e,value:u[n]}}e+=c}}return(f=Object.values(f)).groups=d,a?f.sort(a):f}return s.padAngle=function(t){return arguments.length?(n=ss(0,t),s):n},s.sortGroups=function(t){return arguments.length?(r=t,s):r},s.sortSubgroups=function(t){return arguments.length?(i=t,s):i},s.sortChords=function(t){return arguments.length?(null==t?a=null:(a=ls(t))._=t,s):a&&a._},s}const hs=Math.PI,fs=2*hs,ds=1e-6,ps=fs-ds;function gs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ys(){return new gs}gs.prototype=ys.prototype={constructor:gs,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,o=n-t,c=r-e,u=a-t,l=s-e,h=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>ds)if(Math.abs(l*o-c*u)>ds&&i){var f=n-a,p=r-s,d=o*o+c*c,y=f*f+p*p,m=Math.sqrt(d),b=Math.sqrt(h),_=i*Math.tan((hs-Math.acos((d+h-y)/(2*m*b)))/2),v=_/b,x=_/m;Math.abs(v-1)>ds&&(this._+="L"+(t+v*u)+","+(e+v*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>u*p)+","+(this._x1=t+x*o)+","+(this._y1=e+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var s=(n=+n)*Math.cos(r),o=n*Math.sin(r),c=t+s,u=e+o,l=1^a,h=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>ds||Math.abs(this._y1-u)>ds)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%fs+fs),h>ps?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-o)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):h>ds&&(this._+="A"+n+","+n+",0,"+ +(h>=hs)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ms=Array.prototype.slice;function bs(t){return function(){return t}}function _s(t){return t.source}function vs(t){return t.target}function h5(t){return t.radius}function xs(t){return t.startAngle}function ks(t){return t.endAngle}function ws(){return 0}function Es(){return 10}function Ts(t){var e=_s,n=vs,r=h5,i=h5,a=xs,s=ks,o=ws,c=null;function u(){var l,h=e.apply(this,arguments),f=n.apply(this,arguments),p=o.apply(this,arguments)/2,d=ms.call(arguments),y=+r.apply(this,(d[0]=h,d)),m=a.apply(this,d)-as,b=s.apply(this,d)-as,_=+i.apply(this,(d[0]=f,d)),v=a.apply(this,d)-as,x=s.apply(this,d)-as;if(c||(c=l=ys()),p>cs&&(es(b-m)>2*p+cs?b>m?(m+=p,b-=p):(m-=p,b+=p):m=b=(m+b)/2,es(x-v)>2*p+cs?x>v?(v+=p,x-=p):(v-=p,x+=p):v=x=(v+x)/2),c.moveTo(y*ns(m),y*rs(m)),c.arc(0,0,y,m,b),m!==v||b!==x)if(t){var k=+t.apply(this,arguments),w=_-k,E=(v+x)/2;c.quadraticCurveTo(0,0,w*ns(v),w*rs(v)),c.lineTo(_*ns(E),_*rs(E)),c.lineTo(w*ns(x),w*rs(x))}else c.quadraticCurveTo(0,0,_*ns(v),_*rs(v)),c.arc(0,0,_,v,x);if(c.quadraticCurveTo(0,0,y*ns(m),y*rs(m)),c.closePath(),l)return c=null,l+""||null}return t&&(u.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:bs(+e),u):t}),u.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:bs(+t),u):r},u.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:bs(+t),u):r},u.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:bs(+t),u):i},u.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:bs(+t),u):a},u.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:bs(+t),u):s},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:bs(+t),u):o},u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(c=null==t?null:t,u):c},u}var Cs=Array.prototype.slice;function Ss(t,e){return t-e}const As=t=>()=>t;function Ms(t,e){for(var i,n=-1,r=e.length;++n<r;)if(i=Ns(t,e[n]))return i;return 0}function Ns(t,e){for(var n=e[0],r=e[1],i=-1,a=0,s=t.length,o=s-1;a<s;o=a++){var c=t[a],u=c[0],l=c[1],h=t[o],f=h[0],p=h[1];if(Ds(c,h,e))return 0;l>r!=p>r&&n<(f-u)*(r-l)/(p-l)+u&&(i=-i)}return i}function Ds(t,e,n){var r;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[r=+(t[0]===e[0])],n[r],e[r])}function Os(){}var Ls=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Bs(){var t=1,e=1,n=Nt,r=c;function i(u){var t=n(u);if(Array.isArray(t))t=t.slice().sort(Ss);else{const e=J(u),n=At(e[0],e[1],t);t=Ct(Math.floor(e[0]/n)*n,Math.floor(e[1]/n-1)*n,t)}return t.map((t=>a(u,t)))}function a(u,n){var c=[],l=[];return function(u,n,r){var c,l,h,b,f,d,y=new Array,p=new Array;for(c=l=-1,b=u[0]>=n,Ls[b<<1].forEach(m);++c<t-1;)h=b,b=u[c+1]>=n,Ls[h|b<<1].forEach(m);for(Ls[b<<0].forEach(m);++l<e-1;){for(c=-1,b=u[l*t+t]>=n,f=u[l*t]>=n,Ls[b<<1|f<<2].forEach(m);++c<t-1;)h=b,b=u[l*t+t+c+1]>=n,d=f,f=u[l*t+c+1]>=n,Ls[h|b<<1|f<<2|d<<3].forEach(m);Ls[b|f<<3].forEach(m)}for(c=-1,f=u[l*t]>=n,Ls[f<<2].forEach(m);++c<t-1;)d=f,f=u[l*t+c+1]>=n,Ls[f<<2|d<<3].forEach(m);function m(t){var e,n,h=[t[0][0]+c,t[0][1]+l],f=[t[1][0]+c,t[1][1]+l],d=o(h),m=o(f);(e=p[d])?(n=y[m])?(delete p[e.end],delete y[n.start],e===n?(e.ring.push(f),r(e.ring)):y[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(f),p[e.end=m]=e):(e=y[m])?(n=p[d])?(delete y[e.start],delete p[n.end],e===n?(e.ring.push(f),r(e.ring)):y[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete y[e.start],e.ring.unshift(h),y[e.start=d]=e):y[d]=p[m]={start:d,end:m,ring:[h,f]}}Ls[f<<3].forEach(m)}(u,n,(function(p){r(p,u,n),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(p)>0?c.push([p]):l.push(p)})),l.forEach((function(p){for(var t,e=0,n=c.length;e<n;++e)if(-1!==Ms((t=c[e])[0],p))return void t.push(p)})),{type:"MultiPolygon",value:n,coordinates:c}}function o(u){return 2*u[0]+u[1]*(t+1)*4}function c(u,n,r){u.forEach((function(o){var b,p=o[0],c=o[1],l=0|p,h=0|c,f=n[h*t+l];p>0&&p<t&&l===p&&(b=n[h*t+l-1],o[0]=p+(r-b)/(f-b)-.5),c>0&&c<e&&h===c&&(b=n[(h-1)*t+l],o[1]=c+(r-b)/(f-b)-.5)}))}return i.contour=a,i.size=function(u){if(!arguments.length)return[t,e];var n=Math.floor(u[0]),r=Math.floor(u[1]);if(!(n>=0&&r>=0))throw new Error("invalid size");return t=n,e=r,i},i.thresholds=function(u){return arguments.length?(n="function"==typeof u?u:Array.isArray(u)?As(Cs.call(u)):As(u),i):n},i.smooth=function(u){return arguments.length?(r=u?c:Os,i):r===c},i}function Is(t){return t[0]}function Fs(t){return t[1]}function Rs(){return 1}const Ps=134217729;function $s(t,e,n,r,i){let a,s,o,c,u=e[0],l=r[0],h=0,f=0;l>u==l>-u?(a=u,u=e[++h]):(a=l,l=r[++f]);let p=0;if(h<t&&f<n)for(l>u==l>-u?(s=u+a,o=a-(s-u),u=e[++h]):(s=l+a,o=a-(s-l),l=r[++f]),a=s,0!==o&&(i[p++]=o);h<t&&f<n;)l>u==l>-u?(s=a+u,c=s-a,o=a-(s-c)+(u-c),u=e[++h]):(s=a+l,c=s-a,o=a-(s-c)+(l-c),l=r[++f]),a=s,0!==o&&(i[p++]=o);for(;h<t;)s=a+u,c=s-a,o=a-(s-c)+(u-c),u=e[++h],a=s,0!==o&&(i[p++]=o);for(;f<n;)s=a+l,c=s-a,o=a-(s-c)+(l-c),l=r[++f],a=s,0!==o&&(i[p++]=o);return(0!==a||0===p)&&(i[p++]=a),p}function zs(t){return new Float64Array(t)}const Ys=zs(4),js=zs(8),Us=zs(12),Ws=zs(16),qs=zs(4);function Hs(t,e,n,r,i,a){const s=(e-a)*(n-i),o=(t-i)*(r-a),c=s-o;if(0===s||0===o||s>0!=o>0)return c;const u=Math.abs(s+o);return Math.abs(c)>=33306690738754716e-32*u?c:-function(t,e,n,r,i,a,s){let o,c,u,l,h,f,p,d,y,m,b,_,v,x,k,w,E,T;const C=t-i,S=n-i,A=e-a,M=r-a;x=C*M,f=Ps*C,p=f-(f-C),d=C-p,f=Ps*M,y=f-(f-M),m=M-y,k=d*m-(x-p*y-d*y-p*m),w=A*S,f=Ps*A,p=f-(f-A),d=A-p,f=Ps*S,y=f-(f-S),m=S-y,E=d*m-(w-p*y-d*y-p*m),b=k-E,h=k-b,Ys[0]=k-(b+h)+(h-E),_=x+b,h=_-x,v=x-(_-h)+(b-h),b=v-w,h=v-b,Ys[1]=v-(b+h)+(h-w),T=_+b,h=T-_,Ys[2]=_-(T-h)+(b-h),Ys[3]=T;let N=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,Ys),D=22204460492503146e-32*s;if(N>=D||-N>=D||(h=t-C,o=t-(C+h)+(h-i),h=n-S,u=n-(S+h)+(h-i),h=e-A,c=e-(A+h)+(h-a),h=r-M,l=r-(M+h)+(h-a),0===o&&0===c&&0===u&&0===l)||(D=11093356479670487e-47*s+33306690738754706e-32*Math.abs(N),N+=C*l+M*o-(A*u+S*c),N>=D||-N>=D))return N;x=o*M,f=Ps*o,p=f-(f-o),d=o-p,f=Ps*M,y=f-(f-M),m=M-y,k=d*m-(x-p*y-d*y-p*m),w=c*S,f=Ps*c,p=f-(f-c),d=c-p,f=Ps*S,y=f-(f-S),m=S-y,E=d*m-(w-p*y-d*y-p*m),b=k-E,h=k-b,qs[0]=k-(b+h)+(h-E),_=x+b,h=_-x,v=x-(_-h)+(b-h),b=v-w,h=v-b,qs[1]=v-(b+h)+(h-w),T=_+b,h=T-_,qs[2]=_-(T-h)+(b-h),qs[3]=T;const O=$s(4,Ys,4,qs,js);x=C*l,f=Ps*C,p=f-(f-C),d=C-p,f=Ps*l,y=f-(f-l),m=l-y,k=d*m-(x-p*y-d*y-p*m),w=A*u,f=Ps*A,p=f-(f-A),d=A-p,f=Ps*u,y=f-(f-u),m=u-y,E=d*m-(w-p*y-d*y-p*m),b=k-E,h=k-b,qs[0]=k-(b+h)+(h-E),_=x+b,h=_-x,v=x-(_-h)+(b-h),b=v-w,h=v-b,qs[1]=v-(b+h)+(h-w),T=_+b,h=T-_,qs[2]=_-(T-h)+(b-h),qs[3]=T;const L=$s(O,js,4,qs,Us);x=o*l,f=Ps*o,p=f-(f-o),d=o-p,f=Ps*l,y=f-(f-l),m=l-y,k=d*m-(x-p*y-d*y-p*m),w=c*u,f=Ps*c,p=f-(f-c),d=c-p,f=Ps*u,y=f-(f-u),m=u-y,E=d*m-(w-p*y-d*y-p*m),b=k-E,h=k-b,qs[0]=k-(b+h)+(h-E),_=x+b,h=_-x,v=x-(_-h)+(b-h),b=v-w,h=v-b,qs[1]=v-(b+h)+(h-w),T=_+b,h=T-_,qs[2]=_-(T-h)+(b-h),qs[3]=T;const B=$s(L,Us,4,qs,Ws);return Ws[B-1]}(t,e,n,r,i,a,u)}const Vs=Math.pow(2,-52),Gs=new Uint32Array(512);class Xs{static from(t,e=ec,n=nc){const i=t.length,a=new Float64Array(2*i);for(let s=0;s<i;s++){const r=t[s];a[2*s]=e(r),a[2*s+1]=n(r)}return new Xs(a)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:i,_hullHash:a}=this,s=t.length>>1;let r=1/0,o=1/0,u=-1/0,c=-1/0;for(let e=0;e<s;e++){const n=t[2*e],l=t[2*e+1];n<r&&(r=n),l<o&&(o=l),n>u&&(u=n),l>c&&(c=l),this._ids[e]=e}const l=(r+u)/2,h=(o+c)/2;let f,d,y,p=1/0;for(let e=0;e<s;e++){const n=Zs(l,h,t[2*e],t[2*e+1]);n<p&&(f=e,p=n)}const b=t[2*f],m=t[2*f+1];p=1/0;for(let e=0;e<s;e++){if(e===f)continue;const n=Zs(b,m,t[2*e],t[2*e+1]);n<p&&n>0&&(d=e,p=n)}let _=t[2*d],v=t[2*d+1],x=1/0;for(let e=0;e<s;e++){if(e===f||e===d)continue;const n=Ks(b,m,_,v,t[2*e],t[2*e+1]);n<x&&(y=e,x=n)}let k=t[2*y],w=t[2*y+1];if(x===1/0){for(let e=0;e<s;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Js(this._ids,this._dists,0,s-1);const e=new Uint32Array(s);let n=0;for(let t=0,r=-1/0;t<s;t++){const o=this._ids[t];this._dists[o]>r&&(e[n++]=o,r=this._dists[o])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Hs(b,m,_,v,k,w)<0){const t=d,e=_,n=v;d=y,_=k,v=w,y=t,k=e,w=n}const E=function(t,e,n,r,i,a){const s=n-t,o=r-e,c=i-t,u=a-e,l=s*s+o*o,h=c*c+u*u,f=.5/(s*u-o*c);return{x:t+(u*l-o*h)*f,y:e+(s*h-c*l)*f}}(b,m,_,v,k,w);this._cx=E.x,this._cy=E.y;for(let e=0;e<s;e++)this._dists[e]=Zs(t[2*e],t[2*e+1],E.x,E.y);Js(this._ids,this._dists,0,s-1),this._hullStart=f;let T=3;n[f]=e[y]=d,n[d]=e[f]=y,n[y]=e[d]=f,i[f]=0,i[d]=1,i[y]=2,a.fill(-1),a[this._hashKey(b,m)]=f,a[this._hashKey(_,v)]=d,a[this._hashKey(k,w)]=y,this.trianglesLen=0,this._addTriangle(f,d,y,-1,-1,-1);for(let r,o,c=0;c<this._ids.length;c++){const l=this._ids[c],h=t[2*l],m=t[2*l+1];if(c>0&&Math.abs(h-r)<=Vs&&Math.abs(m-o)<=Vs||(r=h,o=m,l===f||l===d||l===y))continue;let _=0;for(let t=0,e=this._hashKey(h,m);t<this._hashSize&&(_=a[(e+t)%this._hashSize],-1===_||_===n[_]);t++);_=e[_];let v,x=_;for(;v=n[x],Hs(h,m,t[2*x],t[2*x+1],t[2*v],t[2*v+1])>=0;)if(x=v,x===_){x=-1;break}if(-1===x)continue;let k=this._addTriangle(x,l,n[x],-1,-1,i[x]);i[l]=this._legalize(k+2),i[x]=k,T++;let w=n[x];for(;v=n[w],Hs(h,m,t[2*w],t[2*w+1],t[2*v],t[2*v+1])<0;)k=this._addTriangle(w,l,v,i[l],-1,i[w]),i[l]=this._legalize(k+2),n[w]=w,T--,w=v;if(x===_)for(;v=e[x],Hs(h,m,t[2*v],t[2*v+1],t[2*x],t[2*x+1])<0;)k=this._addTriangle(v,l,x,-1,i[x],i[v]),this._legalize(k+2),i[v]=k,n[x]=x,T--,x=v;this._hullStart=e[l]=x,n[x]=e[w]=l,n[l]=w,a[this._hashKey(h,m)]=l,a[this._hashKey(t[2*x],t[2*x+1])]=x}this.hull=new Uint32Array(T);for(let t=0,e=this._hullStart;t<T;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:i}=this;let a=0,s=0;for(;;){const r=n[t],o=t-t%3;if(s=o+(t+2)%3,-1===r){if(0===a)break;t=Gs[--a];continue}const u=r-r%3,c=o+(t+1)%3,l=u+(r+2)%3,h=e[s],p=e[t],f=e[c],d=e[l];if(Qs(i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*f],i[2*f+1],i[2*d],i[2*d+1])){e[t]=d,e[r]=h;const b=n[l];if(-1===b){let e=this._hullStart;do{if(this._hullTri[e]===l){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,b),this._link(r,n[s]),this._link(s,l);const o=u+(r+1)%3;a<Gs.length&&(Gs[a++]=o)}else{if(0===a)break;t=Gs[--a]}}return s}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,i,a,s){const r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=e,this._triangles[r+2]=n,this._link(r,i),this._link(r+1,a),this._link(r+2,s),this.trianglesLen+=3,r}}function Zs(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function Qs(t,e,n,r,i,a,s,o){const c=t-s,u=e-o,l=n-s,h=r-o,f=i-s,p=a-o,d=l*l+h*h,y=f*f+p*p;return c*(h*y-d*p)-u*(l*y-d*f)+(c*c+u*u)*(l*p-h*f)<0}function Ks(t,e,n,r,i,a){const s=n-t,o=r-e,c=i-t,u=a-e,l=s*s+o*o,h=c*c+u*u,f=.5/(s*u-o*c),p=(u*l-o*h)*f,d=(s*h-c*l)*f;return p*p+d*d}function Js(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=t[i],s=e[a];let r=i-1;for(;r>=n&&e[t[r]]>s;)t[r+1]=t[r--];t[r+1]=a}else{let a=n+1,s=r;tc(t,n+r>>1,a),e[t[n]]>e[t[r]]&&tc(t,n,r),e[t[a]]>e[t[r]]&&tc(t,a,r),e[t[n]]>e[t[a]]&&tc(t,n,a);const o=t[a],c=e[o];for(;;){do{a++}while(e[t[a]]<c);do{s--}while(e[t[s]]>c);if(s<a)break;tc(t,a,s)}t[n+1]=t[s],t[s]=o,r-a+1>=s-n?(Js(t,e,a,r),Js(t,e,n,s-1)):(Js(t,e,n,s-1),Js(t,e,a,r))}}function tc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ec(t){return t[0]}function nc(t){return t[1]}const rc=1e-6;class ic{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const i=(t=+t)+(n=+n),a=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>rc||Math.abs(this._y1-a)>rc)&&(this._+="L"+i+","+a),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,e,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class ac{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class oc{constructor(t,[e,n,i,a]=[0,0,960,500]){if(!((i=+i)>=(e=+e)&&(a=+a)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=e,this.ymax=a,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,b,p=0,r=0,o=n.length;p<o;p+=3,r+=2){const o=2*n[p],c=2*n[p+1],l=2*n[p+2],h=t[o],f=t[o+1],d=t[c],y=t[c+1],m=t[l],_=t[l+1],v=d-h,x=y-f,k=m-h,w=_-f,E=2*(v*w-x*k);if(Math.abs(E)<1e-9){let r=1e9;const o=2*n[0];r*=Math.sign((t[o]-h)*w-(t[o+1]-f)*k),e=(h+m)/2-r*w,b=(f+_)/2+r*k}else{const t=1/E,n=v*v+x*x,r=k*k+w*w;e=h+(w*n-x*r)*t,b=f+(v*r-k*n)*t}a[r]=e,a[r+1]=b}let r,u,o,s=e[e.length-1],c=4*s,l=t[2*s],h=t[2*s+1];i.fill(0);for(let p=0;p<e.length;++p)s=e[p],r=c,u=l,o=h,c=4*s,l=t[2*s],h=t[2*s+1],i[r+2]=i[c]=o-h,i[r+3]=i[c+1]=l-u}render(t){const e=null==t?t=new ic:void 0,{delaunay:{halfedges:n,inedges:i,hull:a},circumcenters:s,vectors:r}=this;if(a.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const p=2*Math.floor(e/3),o=2*Math.floor(r/3),c=s[p],l=s[p+1],b=s[o],h=s[o+1];this._renderSegment(c,l,b,h,t)}let o,u=a[a.length-1];for(let e=0;e<a.length;++e){o=u,u=a[e];const n=2*Math.floor(i[u]/3),c=s[n],p=s[n+1],l=4*o,h=this._project(c,p,r[l+2],r[l+3]);h&&this._renderSegment(c,p,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new ic:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new ic:void 0,i=this._clip(t);if(null===i||!i.length)return;e.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&e.lineTo(i[s],i[s+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const i=this.cellPolygon(e);i&&(i.index=e,yield i)}}cellPolygon(t){const e=new ac;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,i,a){let s;const r=this._regioncode(t,e),o=this._regioncode(n,i);0===r&&0===o?(a.moveTo(t,e),a.lineTo(n,i)):(s=this._clipSegment(t,e,n,i,r,o))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const i=this._clip(n);if(i)t:for(let a=0,s=e.length;a<s;a+=2)for(let t=0,r=i.length;t<r;t+=2)if(e[a]==i[t]&&e[a+1]==i[t+1]&&e[(a+2)%s]==i[(t+r-2)%r]&&e[(a+3)%s]==i[(t+r-1)%r]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:i,triangles:a}}=this,s=n[t];if(-1===s)return null;const r=[];let o=s;do{const u=Math.floor(o/3);if(r.push(e[2*u],e[2*u+1]),o=o%3==2?o-2:o+1,a[o]!==t)break;o=i[o]}while(o!==s&&-1!==o);return r}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let a,s,u,r,i=null,o=e[n-2],c=e[n-1],l=this._regioncode(o,c),h=0;for(let p=0;p<n;p+=2)if(a=o,s=c,o=e[p],c=e[p+1],u=l,l=this._regioncode(o,c),0===u&&0===l)r=h,h=0,i?i.push(o,c):i=[o,c];else{let e,n,f,b,d;if(0===u){if(null===(e=this._clipSegment(a,s,o,c,u,l)))continue;[n,f,b,d]=e}else{if(null===(e=this._clipSegment(o,c,a,s,l,u)))continue;[b,d,n,f]=e,r=h,h=this._edgecode(n,f),r&&h&&this._edge(t,r,h,i,i.length),i?i.push(n,f):i=[n,f]}r=h,h=this._edgecode(b,d),r&&h&&this._edge(t,r,h,i,i.length),i?i.push(b,d):i=[b,d]}if(i)r=h,h=this._edgecode(i[0],i[1]),r&&h&&this._edge(t,r,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,e,n,i,a,s){for(;;){if(0===a&&0===s)return[t,e,n,i];if(a&s)return null;let r,o,u=a||s;8&u?(r=t+(n-t)*(this.ymax-e)/(i-e),o=this.ymax):4&u?(r=t+(n-t)*(this.ymin-e)/(i-e),o=this.ymin):2&u?(o=e+(i-e)*(this.xmax-t)/(n-t),r=this.xmax):(o=e+(i-e)*(this.xmin-t)/(n-t),r=this.xmin),a?(t=r,e=o,a=this._regioncode(t,e)):(n=r,i=o,s=this._regioncode(n,i))}}_clipInfinite(t,e,n,i,a,s){let r,o=Array.from(e);if((r=this._project(o[0],o[1],n,i))&&o.unshift(r[0],r[1]),(r=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(r[0],r[1]),o=this._clipFinite(t,o))for(let e,u=0,n=o.length,r=this._edgecode(o[n-2],o[n-1]);u<n;u+=2)e=r,r=this._edgecode(o[u],o[u+1]),e&&r&&(u=this._edge(t,e,r,o,u),n=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,e,n,i,a){for(;e!==n;){let s,n;switch(e){case 5:e=4;continue;case 4:e=6,s=this.xmax,n=this.ymin;break;case 6:e=2;continue;case 2:e=10,s=this.xmax,n=this.ymax;break;case 10:e=8;continue;case 8:e=9,s=this.xmin,n=this.ymax;break;case 9:e=1;continue;case 1:e=5,s=this.xmin,n=this.ymin}(i[a]!==s||i[a+1]!==n)&&this.contains(t,s,n)&&(i.splice(a,0,s,n),a+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){const t=(s+2)%i.length,e=(s+4)%i.length;(i[s]===i[t]&&i[t]===i[e]||i[s+1]===i[t+1]&&i[t+1]===i[e+1])&&(i.splice(t,2),s-=2)}return a}_project(t,e,n,i){let s,r,o,a=1/0;if(i<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/i)<a&&(o=this.ymin,r=t+(a=s)*n)}else if(i>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/i)<a&&(o=this.ymax,r=t+(a=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<a&&(r=this.xmax,o=e+(a=s)*i)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<a&&(r=this.xmin,o=e+(a=s)*i)}return[r,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const sc=2*Math.PI,cc=Math.pow;function lc(t){return t[0]}function uc(t){return t[1]}function hc(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class h3{static from(t,e=lc,n=uc,i){return new h3("length"in t?function(t,e,n,r){const i=t.length,a=new Float64Array(2*i);for(let s=0;s<i;++s){const o=t[s];a[2*s]=e.call(r,o,s,t),a[2*s+1]=n.call(r,o,s,t)}return a}(t,e,n,i):Float64Array.from(function*(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}(t,e,n,i)))}constructor(t){this._delaunator=new Xs(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const i=2*e[t],a=2*e[t+1],s=2*e[t+2];if((n[s]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,p)=>p)).sort(((t,p)=>e[2*t]-e[2*p]||e[2*t+1]-e[2*p+1]));const t=this.collinear[0],u=this.collinear[this.collinear.length-1],n=[e[2*t],e[2*t+1],e[2*u],e[2*u+1]],r=1e-8*Math.hypot(n[3]-n[1],n[2]-n[0]);for(let t=0,p=e.length/2;t<p;++t){const n=hc(e[2*t],e[2*t+1],r);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Xs(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),r=this._hullIndex.fill(-1);for(let t=0,u=n.length;t<u;++t){const e=a[t%3==2?t-2:t+1];(-1===n[t]||-1===s[e])&&(s[e]=t)}for(let t=0,u=i.length;t<u;++t)r[i[t]]=t;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,2===i.length&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new oc(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:i,halfedges:a,triangles:s,collinear:r}=this;if(r){const e=r.indexOf(t);return e>0&&(yield r[e-1]),void(e<r.length-1&&(yield r[e+1]))}const o=e[t];if(-1===o)return;let u=o,c=-1;do{if(yield c=s[u],u=u%3==2?u-2:u+1,s[u]!==t)return;if(u=a[u],-1===u){const e=n[(i[t]+1)%n.length];return void(e!==c&&(yield e))}}while(u!==o)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const i=n;let a;for(;(a=this._step(n,t,e))>=0&&a!==n&&a!==i;)n=a;return a}_step(t,e,n){const{inedges:i,hull:a,_hullIndex:s,halfedges:r,triangles:o,points:u}=this;if(-1===i[t]||!u.length)return(t+1)%(u.length>>1);let c=t,l=cc(e-u[2*t],2)+cc(n-u[2*t+1],2);const h=i[t];let p=h;do{let h=o[p];const f=cc(e-u[2*h],2)+cc(n-u[2*h+1],2);if(f<l&&(l=f,c=h),p=p%3==2?p-2:p+1,o[p]!==t)break;if(p=r[p],-1===p){if(p=a[(s[t]+1)%a.length],p!==h&&cc(e-u[2*p],2)+cc(n-u[2*p+1],2)<l)return p;break}}while(p!==h);return c}render(t){const e=null==t?t=new ic:void 0,{points:n,halfedges:i,triangles:a}=this;for(let s=0,e=i.length;s<e;++s){const e=i[s];if(e<s)continue;const u=2*a[s],r=2*a[e];t.moveTo(n[u],n[u+1]),t.lineTo(n[r],n[r+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0===e&&(!t||"function"!=typeof t.moveTo)&&(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new ic:void 0,{points:i}=this;for(let a=0,s=i.length;a<s;a+=2){const n=i[a],r=i[a+1];t.moveTo(n+e,r),t.arc(n,r,e,0,sc)}return n&&n.value()}renderHull(t){const e=null==t?t=new ic:void 0,{hull:n,points:i}=this,a=2*n[0],s=n.length;t.moveTo(i[a],i[a+1]);for(let e=1;e<s;++e){const r=2*n[e];t.lineTo(i[r],i[r+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new ac;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new ic:void 0,{points:i,triangles:a}=this,s=2*a[t*=3],r=2*a[t+1],o=2*a[t+2];return e.moveTo(i[s],i[s+1]),e.lineTo(i[r],i[r+1]),e.lineTo(i[o],i[o+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new ac;return this.renderTriangle(t,e),e.value()}}var fc={},dc={};function pc(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function gc(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function yc(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function mc(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+yc(-t,6):t>9999?"+"+yc(t,6):yc(t,4)}(t.getUTCFullYear())+"-"+yc(t.getUTCMonth()+1,2)+"-"+yc(t.getUTCDate(),2)+(i?"T"+yc(e,2)+":"+yc(n,2)+":"+yc(r,2)+"."+yc(i,3)+"Z":r?"T"+yc(e,2)+":"+yc(n,2)+":"+yc(r,2)+"Z":n||e?"T"+yc(e,2)+":"+yc(n,2)+"Z":"")}function bc(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var b,p=[],r=t.length,o=0,c=0,l=r<=0,h=!1;function f(){if(l)return dc;if(h)return h=!1,fc;var e,c,f=o;if(34===t.charCodeAt(f)){for(;o++<r&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=r?l=!0:10===(c=t.charCodeAt(o++))?h=!0:13===c&&(h=!0,10===t.charCodeAt(o)&&++o),t.slice(f+1,e-1).replace(/""/g,'"')}for(;o<r;){if(10===(c=t.charCodeAt(e=o++)))h=!0;else if(13===c)h=!0,10===t.charCodeAt(o)&&++o;else if(c!==n)continue;return t.slice(f,e)}return l=!0,t.slice(f,r)}for(10===t.charCodeAt(r-1)&&--r,13===t.charCodeAt(r-1)&&--r;(b=f())!==dc;){for(var d=[];b!==fc&&b!==dc;)d.push(b),b=f();e&&null==(d=e(d,c++))||p.push(d)}return p}function a(e,n){return e.map((function(p){return n.map((function(t){return r(p[t])})).join(t)}))}function u(e){return e.map(r).join(t)}function r(t){return null==t?"":t instanceof Date?mc(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var p,n,r=i(t,(function(t,b){if(p)return p(t,b-1);n=t,p=e?function(t,e){var n=pc(t);return function(r,i){return e(n(r),i,t)}}(t,e):pc(t)}));return r.columns=n||[],r},parseRows:i,format:function(e,n){return null==n&&(n=gc(e)),[n.map(r).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=gc(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(u).join("\n")},formatRow:u,formatValue:r}}var _c=bc(","),vc=_c.parse,xc=_c.parseRows,kc=_c.format,wc=_c.formatBody,Ec=_c.formatRows,Tc=_c.formatRow,Cc=_c.formatValue,Sc=bc("\t"),Ac=Sc.parse,Mc=Sc.parseRows,Nc=Sc.format,Dc=Sc.formatBody,Oc=Sc.formatRows,Lc=Sc.formatRow,Bc=Sc.formatValue;const Ic=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Fc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Rc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Pc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function $c(t,e){return fetch(t,e).then(Pc)}function zc(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),$c(e,n).then((function(i){return t(i,r)}))}}var Yc=zc(vc),jc=zc(Ac);function Uc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Wc(t){return(e,n)=>$c(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const qc=Wc("application/xml");var Hc=Wc("text/html"),Vc=Wc("image/svg+xml");function Gc(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,c,p,l,h,f,b,d,a=t._root,s={data:r},y=t._x0,m=t._y0,u=t._x1,_=t._y1;if(!a)return t._root=s,t;for(;a.length;)if((h=e>=(o=(y+u)/2))?y=o:u=o,(f=n>=(c=(m+_)/2))?m=c:_=c,i=a,!(a=a[b=f<<1|h]))return i[b]=s,t;if(p=+t._x.call(null,a.data),l=+t._y.call(null,a.data),e===p&&n===l)return s.next=a,i?i[b]=s:t._root=s,t;do{i=i?i[b]=new Array(4):t._root=new Array(4),(h=e>=(o=(y+u)/2))?y=o:u=o,(f=n>=(c=(m+_)/2))?m=c:_=c}while((b=f<<1|h)==(d=(l>=c)<<1|p>=o));return i[d]=a,i[b]=s,t}function Xc(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Zc(t){return t[0]}function Qc(t){return t[1]}function Kc(t,e,n){var r=new Jc(null==e?Zc:e,null==n?Qc:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Jc(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function tl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var el=Kc.prototype=Jc.prototype;function nl(t){return function(){return t}}function rl(t){return 1e-6*(t()-.5)}function il(t){return t.x+t.vx}function al(t){return t.y+t.vy}function sl(t){return t.index}function cl(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}el.copy=function(){var t,e,n=new Jc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=tl(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=tl(e));return n},el.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Gc(this.cover(e,n),e,n,t)},el.addAll=function(t){var e,n,i,a,r=t.length,s=new Array(r),o=new Array(r),c=1/0,u=1/0,l=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(s[n]=i,o[n]=a,i<c&&(c=i),i>l&&(l=i),a<u&&(u=a),a>h&&(h=a));if(c>l||u>h)return this;for(this.cover(c,u).cover(l,h),n=0;n<r;++n)Gc(this,s[n],o[n],t[n]);return this},el.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,u,s=i-n||1,c=this._root;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,o=new Array(4),o[u]=c,c=o,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},el.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},el.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},el.find=function(t,e,n){var r,s,o,c,u,l,h,i=this._x0,a=this._y0,f=this._x1,d=this._y1,y=[],p=this._root;for(p&&y.push(new Xc(p,i,a,f,d)),null==n?n=1/0:(i=t-n,a=e-n,f=t+n,d=e+n,n*=n);l=y.pop();)if(!(!(p=l.node)||(s=l.x0)>f||(o=l.y0)>d||(c=l.x1)<i||(u=l.y1)<a))if(p.length){var m=(s+c)/2,b=(o+u)/2;y.push(new Xc(p[3],m,b,c,u),new Xc(p[2],s,b,m,u),new Xc(p[1],m,o,c,b),new Xc(p[0],s,o,m,b)),(h=(e>=b)<<1|t>=m)&&(l=y[y.length-1],y[y.length-1]=y[y.length-1-h],y[y.length-1-h]=l)}else{var _=t-+this._x.call(null,p.data),v=e-+this._y.call(null,p.data),x=_*_+v*v;if(x<n){var k=Math.sqrt(n=x);i=t-k,a=e-k,f=t+k,d=e+k,r=p.data}}return r},el.remove=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,a,r,o,c,p,l,h,f,b,d=this._root,s=this._x0,y=this._y0,m=this._x1,u=this._y1;if(!d)return this;if(d.length)for(;;){if((l=r>=(c=(s+m)/2))?s=c:m=c,(h=o>=(p=(y+u)/2))?y=p:u=p,e=d,!(d=d[f=h<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,b=f)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(a=d.next)&&delete d.next,i?(a?i.next=a:delete i.next,this):e?(a?e[f]=a:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[b]=d:this._root=d),this):(this._root=a,this)},el.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},el.root=function(){return this._root},el.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},el.visit=function(t){var e,i,a,s,n,r,o=[],c=this._root;for(c&&o.push(new Xc(c,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(c=e.node,a=e.x0,s=e.y0,n=e.x1,r=e.y1)&&c.length){var u=(a+n)/2,l=(s+r)/2;(i=c[3])&&o.push(new Xc(i,u,l,n,r)),(i=c[2])&&o.push(new Xc(i,a,l,u,r)),(i=c[1])&&o.push(new Xc(i,u,s,n,l)),(i=c[0])&&o.push(new Xc(i,a,s,u,l))}return this},el.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Xc(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,s=e.x0,o=e.y0,c=e.x1,u=e.y1,l=(s+c)/2,h=(o+u)/2;(a=i[0])&&n.push(new Xc(a,s,o,l,h)),(a=i[1])&&n.push(new Xc(a,l,o,c,h)),(a=i[2])&&n.push(new Xc(a,s,h,l,u)),(a=i[3])&&n.push(new Xc(a,l,h,c,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},el.x=function(t){return arguments.length?(this._x=t,this):this._x},el.y=function(t){return arguments.length?(this._y=t,this):this._y};const ll=4294967296;function hl(t){return t.x}function fl(t){return t.y}var pl=Math.PI*(3-Math.sqrt(5));function gl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yl(t){return(t=gl(Math.abs(t)))?t[1]:NaN}var ml,bl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _l(t){if(!(e=bl.exec(t)))throw new Error("invalid format: "+t);var e;return new vl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function vl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function xl(t,e){var n=gl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}_l.prototype=vl.prototype,vl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const kl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xl(100*t,e),r:xl,s:function(t,e){var n=gl(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ml=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gl(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wl(t){return t}var El,Tl,Cl,Sl=Array.prototype.map,Al=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ml(t){var e=void 0===t.grouping||void 0===t.thousands?wl:function(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}(Sl.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?wl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Sl.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",o=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function u(t){var l=(t=_l(t)).fill,p=t.align,h=t.sign,f=t.symbol,d=t.zero,b=t.width,y=t.comma,m=t.precision,_=t.trim,v=t.type;"n"===v?(y=!0,v="g"):kl[v]||(void 0===m&&(m=12),_=!0,v="g"),(d||"0"===l&&"="===p)&&(d=!0,l="0",p="=");var x="$"===f?n:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k="$"===f?r:/[%p]/.test(v)?s:"",w=kl[v],E=/[defgprs%]/.test(v);function T(t){var n,r,f,T=x,C=k;if("c"===v)C=w(t)+C,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),_&&(t=function(t){t:for(var i,e=t.length,n=1,r=-1;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(i+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),T=(S?"("===h?h:o:"-"===h||"("===h?"":h)+T,C=("s"===v?Al[8+ml/3]:"")+C+(S&&"("===h?")":""),E)for(n=-1,r=t.length;++n<r;)if(48>(f=t.charCodeAt(n))||f>57){C=(46===f?i+t.slice(n+1):t.slice(n))+C,t=t.slice(0,n);break}}y&&!d&&(t=e(t,1/0));var A=T.length+t.length+C.length,M=A<b?new Array(b-A+1).join(l):"";switch(y&&d&&(t=e(M+t,M.length?b-C.length:1/0),M=""),p){case"<":t=T+t+C+M;break;case"=":t=T+M+t+C;break;case"^":t=M.slice(0,A=M.length>>1)+T+t+C+M.slice(A);break;default:t=M+T+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),T.toString=function(){return t+""},T}return{format:u,formatPrefix:function(t,e){var p=u(((t=_l(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(yl(e)/3))),r=Math.pow(10,-n),o=Al[8+n/3];return function(b){return p(r*b)+o}}}}function Nl(t){return El=Ml(t),Tl=El.format,Cl=El.formatPrefix,El}function Dl(t){return Math.max(0,-yl(Math.abs(t)))}function Ol(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))-yl(Math.abs(t)))}function Ll(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yl(e)-yl(t))+1}Nl({thousands:",",grouping:[3],currency:["$",""]});var Bl=1e-6,Il=1e-12,Fl=Math.PI,Rl=Fl/2,Pl=Fl/4,$l=2*Fl,zl=180/Fl,Yl=Fl/180,jl=Math.abs,Ul=Math.atan,Wl=Math.atan2,ql=Math.cos,Hl=Math.ceil,Vl=Math.exp,Gl=Math.hypot,Xl=Math.log,Zl=Math.pow,Ql=Math.sin,Kl=Math.sign||function(t){return t>0?1:t<0?-1:0},Jl=Math.sqrt,tu=Math.tan;function eu(t){return t>1?0:t<-1?Fl:Math.acos(t)}function nu(t){return t>1?Rl:t<-1?-Rl:Math.asin(t)}function ru(t){return(t=Ql(t/2))*t}function tr(){}function iu(t,e){t&&ou.hasOwnProperty(t.type)&&ou[t.type](t,e)}var au={Feature:function(t,e){iu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)iu(n[r].geometry,e)}},ou={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){su(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)su(n[r],e,0)},Polygon:function(t,e){cu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)cu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)iu(n[r],e)}};function su(t,e,n){var a,r=-1,i=t.length-n;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function cu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)su(t[n],e,1);e.polygonEnd()}function lu(t,e){t&&au.hasOwnProperty(t.type)?au[t.type](t,e):iu(t,e)}var uu,hu,fu,du,pu,gu=new tt,yu=new tt,mu={point:tr,lineStart:tr,lineEnd:tr,polygonStart:function(){gu=new tt,mu.lineStart=bu,mu.lineEnd=_u},polygonEnd:function(){var t=+gu;yu.add(t<0?$l+t:t),this.lineStart=this.lineEnd=this.point=tr},sphere:function(){yu.add($l)}};function bu(){mu.point=vu}function _u(){xu(uu,hu)}function vu(t,e){mu.point=xu,uu=t,hu=e,fu=t*=Yl,du=ql(e=(e*=Yl)/2+Pl),pu=Ql(e)}function xu(t,e){var n=(t*=Yl)-fu,r=n>=0?1:-1,i=r*n,a=ql(e=(e*=Yl)/2+Pl),s=Ql(e),o=pu*s,c=du*a+o*ql(i),u=o*r*Ql(i);gu.add(Wl(u,c)),fu=t,du=a,pu=s}function ku(t){return[Wl(t[1],t[0]),nu(t[2])]}function wu(t){var e=t[0],n=t[1],r=ql(n);return[r*ql(e),r*Ql(e),Ql(n)]}function Eu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Tu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Su(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Au(t){var e=Jl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Mu,Nu,Du,Ou,Lu,Bu,Iu,Fu,Ru,Pu,$u,zu={point:Yu,lineStart:Uu,lineEnd:Wu,polygonStart:function(){zu.point=qu,zu.lineStart=Hu,zu.lineEnd=Vu,Ru=new tt,mu.polygonStart()},polygonEnd:function(){mu.polygonEnd(),zu.point=Yu,zu.lineStart=Uu,zu.lineEnd=Wu,gu<0?(Mu=-(Du=180),Nu=-(Ou=90)):Ru>Bl?Ou=90:Ru<-Bl&&(Nu=-90),$u[0]=Mu,$u[1]=Du},sphere:function(){Mu=-(Du=180),Nu=-(Ou=90)}};function Yu(t,e){Pu.push($u=[Mu=t,Du=t]),e<Nu&&(Nu=e),e>Ou&&(Ou=e)}function ju(t,e){var n=wu([t*Yl,e*Yl]);if(Fu){var r=Tu(Fu,n),a=Tu([r[1],-r[0],0],r);Au(a),a=ku(a);var u,s=t-Lu,o=s>0?1:-1,c=a[0]*zl*o,l=jl(s)>180;l^(o*Lu<c&&c<o*t)?(u=a[1]*zl)>Ou&&(Ou=u):l^(o*Lu<(c=(c+360)%360-180)&&c<o*t)?(u=-a[1]*zl)<Nu&&(Nu=u):(e<Nu&&(Nu=e),e>Ou&&(Ou=e)),l?t<Lu?Gu(Mu,t)>Gu(Mu,Du)&&(Du=t):Gu(t,Du)>Gu(Mu,Du)&&(Mu=t):Du>=Mu?(t<Mu&&(Mu=t),t>Du&&(Du=t)):t>Lu?Gu(Mu,t)>Gu(Mu,Du)&&(Du=t):Gu(t,Du)>Gu(Mu,Du)&&(Mu=t)}else Pu.push($u=[Mu=t,Du=t]);e<Nu&&(Nu=e),e>Ou&&(Ou=e),Fu=n,Lu=t}function Uu(){zu.point=ju}function Wu(){$u[0]=Mu,$u[1]=Du,zu.point=Yu,Fu=null}function qu(t,e){if(Fu){var n=t-Lu;Ru.add(jl(n)>180?n+(n>0?360:-360):n)}else Bu=t,Iu=e;mu.point(t,e),ju(t,e)}function Hu(){mu.lineStart()}function Vu(){qu(Bu,Iu),mu.lineEnd(),jl(Ru)>Bl&&(Mu=-(Du=180)),$u[0]=Mu,$u[1]=Du,Fu=null}function Gu(t,e){return(e-=t)<0?e+360:e}function Xu(t,e){return t[0]-e[0]}function Zu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Qu,Ku,Ju,eh,nh,rh,ih,ah,oh,sh,ch,lh,uh,hh,fh,dh,ph={sphere:tr,point:gh,lineStart:mh,lineEnd:vh,polygonStart:function(){ph.lineStart=xh,ph.lineEnd=kh},polygonEnd:function(){ph.lineStart=mh,ph.lineEnd=vh}};function gh(t,e){t*=Yl;var n=ql(e*=Yl);yh(n*ql(t),n*Ql(t),Ql(e))}function yh(t,e,n){++Qu,Ju+=(t-Ju)/Qu,eh+=(e-eh)/Qu,nh+=(n-nh)/Qu}function mh(){ph.point=bh}function bh(t,e){t*=Yl;var n=ql(e*=Yl);hh=n*ql(t),fh=n*Ql(t),dh=Ql(e),ph.point=_h,yh(hh,fh,dh)}function _h(t,e){t*=Yl;var n=ql(e*=Yl),r=n*ql(t),i=n*Ql(t),a=Ql(e),s=Wl(Jl((s=fh*a-dh*i)*s+(s=dh*r-hh*a)*s+(s=hh*i-fh*r)*s),hh*r+fh*i+dh*a);Ku+=s,rh+=s*(hh+(hh=r)),ih+=s*(fh+(fh=i)),ah+=s*(dh+(dh=a)),yh(hh,fh,dh)}function vh(){ph.point=gh}function xh(){ph.point=wh}function kh(){Eh(lh,uh),ph.point=gh}function wh(t,e){lh=t,uh=e,t*=Yl,e*=Yl,ph.point=Eh;var n=ql(e);hh=n*ql(t),fh=n*Ql(t),dh=Ql(e),yh(hh,fh,dh)}function Eh(t,e){t*=Yl;var n=ql(e*=Yl),r=n*ql(t),i=n*Ql(t),a=Ql(e),s=fh*a-dh*i,o=dh*r-hh*a,c=hh*i-fh*r,u=Gl(s,o,c),l=nu(u),h=u&&-l/u;oh.add(h*s),sh.add(h*o),ch.add(h*c),Ku+=l,rh+=l*(hh+(hh=r)),ih+=l*(fh+(fh=i)),ah+=l*(dh+(dh=a)),yh(hh,fh,dh)}function Th(t){return function(){return t}}function Ch(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Sh(t,e){return[jl(t)>Fl?t+Math.round(-t/$l)*$l:t,e]}function Ah(t,e,n){return(t%=$l)?e||n?Ch(Nh(t),Dh(e,n)):Nh(t):e||n?Dh(e,n):Sh}function Mh(t){return function(e,n){return[(e+=t)>Fl?e-$l:e<-Fl?e+$l:e,n]}}function Nh(t){var e=Mh(t);return e.invert=Mh(-t),e}function Dh(t,e){var n=ql(t),r=Ql(t),i=ql(e),a=Ql(e);function s(t,e){var u=ql(e),o=ql(t)*u,c=Ql(t)*u,l=Ql(e),p=l*n+o*r;return[Wl(c*i-p*a,o*n-l*r),nu(p*i+c*a)]}return s.invert=function(t,e){var u=ql(e),o=ql(t)*u,c=Ql(t)*u,l=Ql(e),p=l*i-c*a;return[Wl(c*i+l*a,o*n+p*r),nu(p*n-o*r)]},s}function Oh(t){function e(e){return(e=t(e[0]*Yl,e[1]*Yl))[0]*=zl,e[1]*=zl,e}return t=Ah(t[0]*Yl,t[1]*Yl,t.length>2?t[2]*Yl:0),e.invert=function(e){return(e=t.invert(e[0]*Yl,e[1]*Yl))[0]*=zl,e[1]*=zl,e},e}function Lh(t,e,n,r,i,a){if(n){var s=ql(e),o=Ql(e),c=r*n;null==i?(i=e+r*$l,a=e-c/2):(i=Bh(s,i),a=Bh(s,a),(r>0?i<a:i>a)&&(i+=r*$l));for(var u,l=i;r>0?l>a:l<a;l-=c)u=ku([s,-o*ql(l),-o*Ql(l)]),t.point(u[0],u[1])}}function Bh(t,e){(e=wu(e))[0]-=t,Au(e);var n=eu(-e[1]);return((-e[2]<0?-n:n)+$l-Bl)%$l}function Ih(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:tr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Fh(t,e){return jl(t[0]-e[0])<Bl&&jl(t[1]-e[1])<Bl}function Rh(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ph(t,e,n,r,i){var o,c,a=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],b=t[e];if(Fh(r,b)){if(!r[2]&&!b[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}b[0]+=2*Bl}a.push(n=new Rh(r,t,null,!0)),s.push(n.o=new Rh(r,null,n,!1)),a.push(n=new Rh(b,t,null,!1)),s.push(n.o=new Rh(b,null,n,!0))}})),a.length){for(s.sort(e),$h(a),$h(s),o=0,c=s.length;o<c;++o)s[o].e=n=!n;for(var l,h,u=a[0];;){for(var f=u,p=!0;f.v;)if((f=f.n)===u)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,c=l.length;o<c;++o)i.point((h=l[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((h=l[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function $h(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function zh(t){return jl(t[0])<=Fl?t[0]:Kl(t[0])*((jl(t[0])+Fl)%$l-Fl)}function Yh(t,e){var n=zh(e),r=e[1],i=Ql(r),a=[Ql(n),-ql(n),0],s=0,o=0,c=new tt;1===i?r=Rl+Bl:-1===i&&(r=-Rl-Bl);for(var u=0,l=t.length;u<l;++u)if(f=(h=t[u]).length)for(var h,f,p=h[f-1],d=zh(p),y=p[1]/2+Pl,m=Ql(y),b=ql(y),_=0;_<f;++_,d=x,m=w,b=E,p=v){var v=h[_],x=zh(v),k=v[1]/2+Pl,w=Ql(k),E=ql(k),T=x-d,C=T>=0?1:-1,S=C*T,A=S>Fl,M=m*w;if(c.add(Wl(M*C*Ql(S),b*E+M*ql(S))),s+=A?T+C*$l:T,A^d>=n^x>=n){var N=Tu(wu(p),wu(v));Au(N);var D=Tu(a,N);Au(D);var O=(A^T>=0?-1:1)*nu(D[2]);(r>O||r===O&&(N[0]||N[1]))&&(o+=A^T>=0?1:-1)}}return(s<-Bl||s<Bl&&c<-Il)^1&o}function jh(t,e,n,r){return function(i){var u,o,c,a=e(i),s=Ih(),l=e(s),h=!1,f={point:p,lineStart:y,lineEnd:m,polygonStart:function(){f.point=b,f.lineStart=_,f.lineEnd=v,o=[],u=[]},polygonEnd:function(){f.point=p,f.lineStart=y,f.lineEnd=m,o=jt(o);var t=Yh(u,r);o.length?(h||(i.polygonStart(),h=!0),Ph(o,Wh,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){a.point(t,e)}function y(){f.point=d,a.lineStart()}function m(){f.point=p,a.lineEnd()}function b(t,e){c.push([t,e]),l.point(t,e)}function _(){l.lineStart(),c=[]}function v(){b(c[0][0],c[0][1]),l.lineEnd();var t,e,n,r,f=l.clean(),d=s.result(),y=d.length;if(c.pop(),u.push(c),c=null,y){if(1&f){if((e=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}return}y>1&&2&f&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Uh))}}return f}}function Uh(t){return t.length>1}function Wh(t,e){return((t=t.x)[0]<0?t[1]-Rl-Bl:Rl-t[1])-((e=e.x)[0]<0?e[1]-Rl-Bl:Rl-e[1])}Sh.invert=Sh;const qh=jh((function(){return!0}),(function(t){var i,e=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?Fl:-Fl,c=jl(a-e);jl(c-Fl)<Bl?(t.point(e,n=(n+s)/2>0?Rl:-Rl),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&c>=Fl&&(jl(e-r)<Bl&&(e-=r*Bl),jl(a-o)<Bl&&(a-=o*Bl),n=function(t,e,n,r){var i,a,s=Ql(t-n);return jl(s)>Bl?Ul((Ql(e)*(a=ql(r))*Ql(n)-Ql(r)*(i=ql(e))*Ql(t))/(i*a*s)):(e+r)/2}(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}),(function(t,e,n,r){var i;if(null==t)i=n*Rl,r.point(-Fl,i),r.point(0,i),r.point(Fl,i),r.point(Fl,0),r.point(Fl,-i),r.point(0,-i),r.point(-Fl,-i),r.point(-Fl,0),r.point(-Fl,i);else if(jl(t[0]-e[0])>Bl){var a=t[0]<e[0]?Fl:-Fl;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Fl,-Rl]);function Hh(t){var e=ql(t),n=6*Yl,r=e>0,i=jl(e)>Bl;function s(t,n){return ql(t)*ql(n)>e}function o(t,n,r){var o=[1,0,0],c=Tu(wu(t),wu(n)),b=Eu(c,c),l=c[0],h=b-l*l;if(!h)return!r&&t;var f=e*b/h,d=-e*l/h,y=Tu(o,c),m=Su(o,f);Cu(m,Su(c,d));var _=y,v=Eu(m,_),x=Eu(_,_),k=v*v-x*(Eu(m,m)-1);if(!(k<0)){var w=Jl(k),E=Su(_,(-v-w)/x);if(Cu(E,m),E=ku(E),!r)return E;var T,C=t[0],S=n[0],A=t[1],M=n[1];S<C&&(T=C,C=S,S=T);var N=S-C,D=jl(N-Fl)<Bl;if(!D&&M<A&&(T=A,A=M,M=T),D||N<Bl?D?A+M>0^E[1]<(jl(E[0]-C)<Bl?A:M):A<=E[1]&&E[1]<=M:N>Fl^(C<=E[0]&&E[0]<=S)){var O=Su(_,(-v+w)/x);return Cu(O,m),[E,ku(O)]}}}function u(e,n){var o=r?t:Fl-t,p=0;return e<-o?p|=1:e>o&&(p|=2),n<-o?p|=4:n>o&&(p|=8),p}return jh(s,(function(t){var e,n,p,c,l;return{lineStart:function(){c=p=!1,l=1},point:function(h,b){var f,d=[h,b],y=s(h,b),m=r?y?0:u(h,b):y?u(h+(h<0?Fl:-Fl),b):0;if(!e&&(c=p=y)&&t.lineStart(),y!==p&&((!(f=o(e,d))||Fh(e,f)||Fh(d,f))&&(d[2]=1)),y!==p)l=0,y?(t.lineStart(),f=o(d,e),t.point(f[0],f[1])):(f=o(e,d),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^y){var _;!(m&n)&&(_=o(d,e,!0))&&(l=0,r?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1],3)))}y&&(!e||!Fh(e,d))&&t.point(d[0],d[1]),e=d,p=y,n=m},lineEnd:function(){p&&t.lineEnd(),e=null},clean:function(){return l|(c&&p)<<1}}}),(function(e,r,o,p){Lh(p,t,n,o,e,r)}),r?[0,-t]:[-Fl,t-Fl])}var Vh=1e9,Gh=-Vh;function Xh(t,e,n,r){function i(u,o){return t<=u&&u<=n&&e<=o&&o<=r}function a(u,o,l,h){var p=0,f=0;if(null==u||(p=s(u,l))!==(f=s(o,l))||c(u,o)<0^l>0)do{h.point(0===p||3===p?t:n,p>1?r:e)}while((p=(p+l+4)%4)!==f);else h.point(o[0],o[1])}function s(u,r){return jl(u[0]-t)<Bl?r>0?0:3:jl(u[0]-n)<Bl?r>0?2:1:jl(u[1]-e)<Bl?r>0?1:0:r>0?3:2}function o(u,t){return c(u.x,t.x)}function c(u,t){var e=s(u,1),n=s(t,1);return e!==n?e-n:0===e?t[1]-u[1]:1===e?u[0]-t[0]:2===e?u[1]-t[1]:t[0]-u[0]}return function(u){var c,p,l,h,f,b,d,y,m,_,v,x=u,k=Ih(),w={point:E,lineStart:function(){w.point=T,p&&p.push(l=[]),_=!0,m=!1,d=y=NaN},lineEnd:function(){c&&(T(h,f),b&&m&&k.rejoin(),c.push(k.result())),w.point=E,m&&x.lineEnd()},polygonStart:function(){x=k,c=[],p=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=p.length;n<o;++n)for(var c,l,h=p[n],f=1,d=h.length,y=h[0],m=y[0],_=y[1];f<d;++f)c=m,l=_,y=h[f],m=y[0],_=y[1],l<=r?_>r&&(m-c)*(r-l)>(_-l)*(t-c)&&++e:_<=r&&(m-c)*(r-l)<(_-l)*(t-c)&&--e;return e}(),n=v&&e,h=(c=jt(c)).length;(n||h)&&(u.polygonStart(),n&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),h&&Ph(c,o,e,a,u),u.polygonEnd()),x=u,c=p=l=null}};function E(t,e){i(t,e)&&x.point(t,e)}function T(o,c){var k=i(o,c);if(p&&l.push([o,c]),_)h=o,f=c,b=k,_=!1,k&&(x.lineStart(),x.point(o,c));else if(k&&m)x.point(o,c);else{var w=[d=Math.max(Gh,Math.min(Vh,d)),y=Math.max(Gh,Math.min(Vh,y))],E=[o=Math.max(Gh,Math.min(Vh,o)),c=Math.max(Gh,Math.min(Vh,c))];!function(t,e,n,r,i,a){var o,s=t[0],c=t[1],l=0,h=1,f=e[0]-s,p=e[1]-c;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=i-s,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=r-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>l&&(l=o)}if(o=a-c,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<h&&(h=o)}return l>0&&(t[0]=s+l*f,t[1]=c+l*p),h<1&&(e[0]=s+h*f,e[1]=c+h*p),!0}}}}}(w,E,t,e,n,r)?k&&(x.lineStart(),x.point(o,c),v=!1):(m||(x.lineStart(),x.point(w[0],w[1])),x.point(E[0],E[1]),k||x.lineEnd(),v=!1)}d=o,y=c,m=k}return w}}var Zh,Qh,Kh,Jh,tf={sphere:tr,point:tr,lineStart:function(){tf.point=nf,tf.lineEnd=ef},lineEnd:tr,polygonStart:tr,polygonEnd:tr};function ef(){tf.point=tf.lineEnd=tr}function nf(t,e){Qh=t*=Yl,Kh=Ql(e*=Yl),Jh=ql(e),tf.point=rf}function rf(t,e){t*=Yl;var n=Ql(e*=Yl),r=ql(e),i=jl(t-Qh),a=ql(i),o=r*Ql(i),c=Jh*n-Kh*r*a,u=Kh*n+Jh*r*a;Zh.add(Wl(Jl(o*o+c*c),u)),Qh=t,Kh=n,Jh=r}function af(t){return Zh=new tt,lu(t,tf),+Zh}var of=[null,null],sf={type:"LineString",coordinates:of};function cf(t,e){return of[0]=t,of[1]=e,af(sf)}var lf={Feature:function(t,e){return hf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(hf(n[r].geometry,e))return!0;return!1}},uf={Sphere:function(){return!0},Point:function(t,e){return ff(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ff(n[r],e))return!0;return!1},LineString:function(t,e){return df(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(df(n[r],e))return!0;return!1},Polygon:function(t,e){return pf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(pf(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(hf(n[r],e))return!0;return!1}};function hf(t,e){return!(!t||!uf.hasOwnProperty(t.type))&&uf[t.type](t,e)}function ff(t,e){return 0===cf(t,e)}function df(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(0===(r=cf(t[a],e))||a>0&&((i=cf(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Il*i))return!0;n=r}return!1}function pf(t,e){return!!Yh(t.map(gf),yf(e))}function gf(t){return(t=t.map(yf)).pop(),t}function yf(t){return[t[0]*Yl,t[1]*Yl]}function mf(t,e,n){var r=Wt(t,e-Bl,n).concat(e);return function(i){return r.map((function(a){return[i,a]}))}}function bf(t,e,n){var r=Wt(t,e-Bl,n).concat(e);return function(i){return r.map((function(a){return[a,i]}))}}function _f(){var t,e,n,r,i,a,s,o,c,p,l,h,f=10,u=f,d=90,y=360,m=2.5;function b(){return{type:"MultiLineString",coordinates:_()}}function _(){return Wt(Hl(r/d)*d,n,d).map(l).concat(Wt(Hl(o/y)*y,s,y).map(h)).concat(Wt(Hl(e/f)*f,t,f).filter((function(t){return jl(t%d)>Bl})).map(c)).concat(Wt(Hl(a/u)*u,i,u).filter((function(t){return jl(t%y)>Bl})).map(p))}return b.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(h(s).slice(1),l(n).reverse().slice(1),h(o).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],o=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),o>s&&(t=o,o=s,s=t),b.precision(m)):[[r,o],[n,s]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),b.precision(m)):[[e,a],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(d=+t[0],y=+t[1],b):[d,y]},b.stepMinor=function(t){return arguments.length?(f=+t[0],u=+t[1],b):[f,u]},b.precision=function(f){return arguments.length?(m=+f,c=mf(a,i,90),p=bf(e,t,m),l=mf(o,s,90),h=bf(r,n,m),b):m},b.extentMajor([[-180,-90+Bl],[180,90-Bl]]).extentMinor([[-180,-80-Bl],[180,80+Bl]])}const vf=t=>t;var xf,kf,wf,Ef,Tf=new tt,Cf=new tt,Sf={point:tr,lineStart:tr,lineEnd:tr,polygonStart:function(){Sf.lineStart=Af,Sf.lineEnd=Df},polygonEnd:function(){Sf.lineStart=Sf.lineEnd=Sf.point=tr,Tf.add(jl(Cf)),Cf=new tt},result:function(){var t=Tf/2;return Tf=new tt,t}};function Af(){Sf.point=Mf}function Mf(t,e){Sf.point=Nf,xf=wf=t,kf=Ef=e}function Nf(t,e){Cf.add(Ef*t-wf*e),wf=t,Ef=e}function Df(){Nf(xf,kf)}const Of=Sf;var Lf=1/0,Bf=Lf,If=-Lf,Ff=If,Rf={point:function(t,e){t<Lf&&(Lf=t),t>If&&(If=t),e<Bf&&(Bf=e),e>Ff&&(Ff=e)},lineStart:tr,lineEnd:tr,polygonStart:tr,polygonEnd:tr,result:function(){var t=[[Lf,Bf],[If,Ff]];return If=Ff=-(Bf=Lf=1/0),t}};const Pf=Rf;var $f,zf,Yf,jf,Uf=0,Wf=0,qf=0,Hf=0,Vf=0,Gf=0,Xf=0,Zf=0,Qf=0,Kf={point:Jf,lineStart:ed,lineEnd:id,polygonStart:function(){Kf.lineStart=ad,Kf.lineEnd=od},polygonEnd:function(){Kf.point=Jf,Kf.lineStart=ed,Kf.lineEnd=id},result:function(){var t=Qf?[Xf/Qf,Zf/Qf]:Gf?[Hf/Gf,Vf/Gf]:qf?[Uf/qf,Wf/qf]:[NaN,NaN];return Uf=Wf=qf=Hf=Vf=Gf=Xf=Zf=Qf=0,t}};function Jf(t,e){Uf+=t,Wf+=e,++qf}function ed(){Kf.point=nd}function nd(t,e){Kf.point=rd,Jf(Yf=t,jf=e)}function rd(t,e){var n=t-Yf,r=e-jf,i=Jl(n*n+r*r);Hf+=i*(Yf+t)/2,Vf+=i*(jf+e)/2,Gf+=i,Jf(Yf=t,jf=e)}function id(){Kf.point=Jf}function ad(){Kf.point=sd}function od(){cd($f,zf)}function sd(t,e){Kf.point=cd,Jf($f=Yf=t,zf=jf=e)}function cd(t,e){var n=t-Yf,r=e-jf,i=Jl(n*n+r*r);Hf+=i*(Yf+t)/2,Vf+=i*(jf+e)/2,Gf+=i,Xf+=(i=jf*t-Yf*e)*(Yf+t),Zf+=i*(jf+e),Qf+=3*i,Jf(Yf=t,jf=e)}const ld=Kf;function ud(t){this._context=t}ud.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,$l)}},result:tr};var hd,fd,pd,gd,yd,md=new tt,bd={point:tr,lineStart:function(){bd.point=_d},lineEnd:function(){hd&&vd(fd,pd),bd.point=tr},polygonStart:function(){hd=!0},polygonEnd:function(){hd=null},result:function(){var t=+md;return md=new tt,t}};function _d(t,e){bd.point=vd,fd=gd=t,pd=yd=e}function vd(t,e){gd-=t,yd-=e,md.add(Jl(gd*gd+yd*yd)),gd=t,yd=e}const xd=bd;function kd(){this._string=[]}function wd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ed(t){return function(e){var n=new Td;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Td(){}function Cd(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),lu(n,t.stream(Pf)),e(Pf.result()),null!=r&&t.clipExtent(r),t}function Sd(t,e,n){return Cd(t,(function(n){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),r=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,o=+e[0][1]+(a-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([r,o])}),n)}function Ad(t,e,n){return Sd(t,[[0,0],e],n)}function Md(t,e,n){return Cd(t,(function(n){var i=+e,a=i/(n[1][0]-n[0][0]),s=(i-a*(n[1][0]+n[0][0]))/2,r=-a*n[0][1];t.scale(150*a).translate([s,r])}),n)}function Nd(t,e,n){return Cd(t,(function(n){var i=+e,a=i/(n[1][1]-n[0][1]),s=-a*n[0][0],r=(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([s,r])}),n)}kd.prototype={_radius:4.5,_circle:wd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=wd(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Td.prototype={constructor:Td,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Dd=ql(30*Yl);function Od(t,e){return+e?function(t,e){function n(r,i,a,s,o,c,u,l,h,f,p,d,y,m){var b=u-r,_=l-i,v=b*b+_*_;if(v>4*e&&y--){var x=s+f,k=o+p,w=c+d,E=Jl(x*x+k*k+w*w),T=nu(w/=E),C=jl(jl(w)-1)<Bl||jl(a-h)<Bl?(a+h)/2:Wl(k,x),S=t(C,T),A=S[0],M=S[1],N=A-r,D=M-i,O=_*N-b*D;(O*O/v>e||jl((b*N+_*D)/v-.5)>.3||s*f+o*p+c*d<Dd)&&(n(r,i,a,s,o,c,A,M,C,x/=E,k/=E,w,y,m),m.point(A,M),n(A,M,C,x,k,w,u,l,h,f,p,d,y,m))}}return function(e){var i,a,s,r,o,u,c,l,h,p,f,d,y={point:b,lineStart:m,lineEnd:v,polygonStart:function(){e.polygonStart(),y.lineStart=x},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function b(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){l=NaN,y.point=_,e.lineStart()}function _(r,o){var y=wu([r,o]),m=t(r,o);n(l,h,c,p,f,d,l=m[0],h=m[1],c=r,p=y[0],f=y[1],d=y[2],16,e),e.point(l,h)}function v(){y.point=b,e.lineEnd()}function x(){m(),y.point=k,y.lineEnd=w}function k(t,e){_(i=t,e),a=l,s=h,r=p,o=f,u=d,y.point=_}function w(){n(l,h,c,p,f,d,a,s,i,r,o,u,16,e),y.lineEnd=v,v()}return y}}(t,e):function(t){return Ed({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Ld=Ed({point:function(t,e){this.stream.point(t*Yl,e*Yl)}});function Bd(t,e,n,r,i,a){if(!a)return function(t,e,n,r,i){function a(s,o){return[e+t*(s*=r),n-t*(o*=i)]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}(t,e,n,r,i);var s=ql(a),o=Ql(a),c=s*t,u=o*t,l=s/t,h=o/t,f=(o*n-s*e)/t,p=(o*e+s*n)/t;function d(t,o){return[c*(t*=r)-u*(o*=i)+e,n-u*t-c*o]}return d.invert=function(t,e){return[r*(l*t-h*e+f),i*(p-h*t-l*e)]},d}function Id(t){return Fd((function(){return t}))()}function Fd(t){var e,n,b,r,o,c,l,h,f,d,y=150,m=480,i=250,a=0,s=0,_=0,v=0,u=0,x=0,k=1,p=1,w=null,E=qh,T=null,C=vf,S=.5;function A(t){return h(t[0]*Yl,t[1]*Yl)}function M(t){return(t=h.invert(t[0],t[1]))&&[t[0]*zl,t[1]*zl]}function N(){var t=Bd(y,0,0,k,p,x).apply(null,e(a,s)),r=Bd(y,m-t[0],i-t[1],k,p,x);return n=Ah(_,v,u),l=Ch(e,r),h=Ch(n,l),c=Od(l,S),D()}function D(){return f=d=null,A}return A.stream=function(t){return f&&d===t?f:f=Ld(function(t){return Ed({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(E(c(C(d=t)))))},A.preclip=function(t){return arguments.length?(E=t,w=void 0,D()):E},A.postclip=function(t){return arguments.length?(C=t,T=b=r=o=null,D()):C},A.clipAngle=function(t){return arguments.length?(E=+t?Hh(w=t*Yl):(w=null,qh),D()):w*zl},A.clipExtent=function(t){return arguments.length?(C=null==t?(T=b=r=o=null,vf):Xh(T=+t[0][0],b=+t[0][1],r=+t[1][0],o=+t[1][1]),D()):null==T?null:[[T,b],[r,o]]},A.scale=function(t){return arguments.length?(y=+t,N()):y},A.translate=function(t){return arguments.length?(m=+t[0],i=+t[1],N()):[m,i]},A.center=function(t){return arguments.length?(a=t[0]%360*Yl,s=t[1]%360*Yl,N()):[a*zl,s*zl]},A.rotate=function(t){return arguments.length?(_=t[0]%360*Yl,v=t[1]%360*Yl,u=t.length>2?t[2]%360*Yl:0,N()):[_*zl,v*zl,u*zl]},A.angle=function(t){return arguments.length?(x=t%360*Yl,N()):x*zl},A.reflectX=function(t){return arguments.length?(k=t?-1:1,N()):k<0},A.reflectY=function(t){return arguments.length?(p=t?-1:1,N()):p<0},A.precision=function(t){return arguments.length?(c=Od(l,S=t*t),D()):Jl(S)},A.fitExtent=function(t,e){return Sd(A,t,e)},A.fitSize=function(t,e){return Ad(A,t,e)},A.fitWidth=function(t,e){return Md(A,t,e)},A.fitHeight=function(t,e){return Nd(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&M,N()}}function Rd(t){var e=0,n=Fl/3,r=Fd(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Yl,n=a[1]*Yl):[e*zl,n*zl]},i}function Pd(t,e){var n=Ql(t),r=(n+Ql(e))/2;if(jl(r)<Bl)return function(t){var e=ql(t);function n(t,i){return[t*e,Ql(i)/e]}return n.invert=function(t,i){return[t/e,nu(i*e)]},n}(t);var i=1+n*(2*r-n),a=Jl(i)/r;function s(t,e){var u=Jl(i-2*r*Ql(e))/r;return[u*Ql(t*=r),a-u*ql(t)]}return s.invert=function(t,e){var u=a-e,n=Wl(t,jl(u))*Kl(u);return u*r<0&&(n-=Fl*Kl(t)*Kl(u)),[n/r,nu((i-(t*t+u*u)*r*r)/(2*r))]},s}function $d(){return Rd(Pd).scale(155.424).center([0,33.6442])}function zd(){return $d().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Yd(t){return function(e,n){var r=ql(e),i=ql(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Ql(e),a*Ql(n)]}}function jd(t){return function(e,n){var r=Jl(e*e+n*n),i=t(r),a=Ql(i),s=ql(i);return[Wl(e*a,r*s),nu(r&&n*a/r)]}}var Ud=Yd((function(t){return Jl(2/(1+t))}));Ud.invert=jd((function(t){return 2*nu(t/2)}));var Wd=Yd((function(t){return(t=eu(t))&&t/Ql(t)}));function qd(t,e){return[t,Xl(tu((Rl+e)/2))]}function Hd(t){var e,n,u,r=Id(t),o=r.center,c=r.scale,i=r.translate,a=r.clipExtent,s=null;function l(){var o=Fl*c(),l=r(Oh(r.rotate()).invert([0,0]));return a(null==s?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:t===qd?[[Math.max(l[0]-o,s),e],[Math.min(l[0]+o,n),u]]:[[s,Math.max(l[1]-o,e)],[n,Math.min(l[1]+o,u)]])}return r.scale=function(t){return arguments.length?(c(t),l()):c()},r.translate=function(t){return arguments.length?(i(t),l()):i()},r.center=function(t){return arguments.length?(o(t),l()):o()},r.clipExtent=function(t){return arguments.length?(null==t?s=e=n=u=null:(s=+t[0][0],e=+t[0][1],n=+t[1][0],u=+t[1][1]),l()):null==s?null:[[s,e],[n,u]]},l()}function Vd(t){return tu((Rl+t)/2)}function Gd(t,e){var n=ql(t),r=t===e?Ql(t):Xl(n/ql(e))/Xl(Vd(e)/Vd(t)),i=n*Zl(Vd(t),r)/r;if(!r)return qd;function a(s,t){i>0?t<-Rl+Bl&&(t=-Rl+Bl):t>Rl-Bl&&(t=Rl-Bl);var e=i/Zl(Vd(t),r);return[e*Ql(r*s),i-e*ql(r*s)]}return a.invert=function(s,t){var e=i-t,u=Kl(r)*Jl(s*s+e*e),n=Wl(s,jl(e))*Kl(e);return e*r<0&&(n-=Fl*Kl(s)*Kl(e)),[n/r,2*Ul(Zl(i/u,1/r))-Rl]},a}function Xd(t,e){return[t,e]}function Zd(t,e){var n=ql(t),r=t===e?Ql(t):(n-ql(e))/(e-t),i=n/r+t;if(jl(r)<Bl)return Xd;function a(s,t){var e=i-t,u=r*s;return[e*Ql(u),i-e*ql(u)]}return a.invert=function(s,t){var e=i-t,u=Wl(s,jl(e))*Kl(e);return e*r<0&&(u-=Fl*Kl(s)*Kl(e)),[u/r,i-Kl(r)*Jl(s*s+e*e)]},a}Wd.invert=jd((function(t){return t})),qd.invert=function(t,e){return[t,2*Ul(Vl(e))-Rl]},Xd.invert=Xd;var Qd=1.340264,Kd=-.081106,Jd=893e-6,tp=.003796,ep=Jl(3)/2;function np(t,e){var n=nu(ep*Ql(e)),r=n*n,i=r*r*r;return[t*ql(n)/(ep*(Qd+3*Kd*r+i*(7*Jd+9*tp*r))),n*(Qd+Kd*r+i*(Jd+tp*r))]}function ip(t,e){var n=ql(e),r=ql(t)*n;return[n*Ql(t)/r,Ql(e)/r]}function ap(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function op(t,e){return[ql(e)*Ql(t),Ql(e)]}function sp(t,e){var n=ql(e),r=1+ql(t)*n;return[n*Ql(t)/r,Ql(e)/r]}function cp(t,e){return[Xl(tu((Rl+e)/2)),-t]}function lp(t,e){return t.parent===e.parent?1:2}function up(t,e){return t+e.x}function hp(t,e){return Math.max(t,e.y)}function fp(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function dp(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=gp)):void 0===e&&(e=pp);for(var n,a,s,r,o,c=new bp(t),i=[c];n=i.pop();)if((s=e(n.data))&&(o=(s=Array.from(s)).length))for(n.children=s,r=o-1;r>=0;--r)i.push(a=s[r]=new bp(s[r])),a.parent=n,a.depth=n.depth+1;return c.eachBefore(mp)}function pp(t){return t.children}function gp(t){return Array.isArray(t)?t[1]:null}function yp(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function mp(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function bp(t){this.data=t,this.depth=this.height=0,this.parent=null}function _p(t){return null==t?null:vp(t)}function vp(t){if("function"!=typeof t)throw new Error;return t}function xp(){return 0}function kp(t){return function(){return t}}np.invert=function(t,e){for(var s,n=e,r=n*n,i=r*r*r,a=0;a<12&&(i=(r=(n-=s=(n*(Qd+Kd*r+i*(Jd+tp*r))-e)/(Qd+3*Kd*r+i*(7*Jd+9*tp*r)))*n)*r*r,!(jl(s)<Il));++a);return[ep*t*(Qd+3*Kd*r+i*(7*Jd+9*tp*r))/ql(n),nu(Ql(n)/ep)]},ip.invert=jd(Ul),ap.invert=function(t,e){var i,n=e,r=25;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(jl(i)>Bl&&--r>0);return[t/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),n]},op.invert=jd(nu),sp.invert=jd((function(t){return 2*Ul(t)})),cp.invert=function(t,e){return[-e,2*Ul(Vl(t))-Rl]},bp.prototype=dp.prototype={constructor:bp,count:function(){return this.eachAfter(fp)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var a,s,n,r=this,o=[r],i=[],c=-1;r=o.pop();)if(i.push(r),a=r.children)for(s=0,n=a.length;s<n;++s)o.push(a[s]);for(;r=i.pop();)t.call(e,r,++c,this);return this},eachBefore:function(t,e){for(var i,a,n=this,r=[n],s=-1;n=r.pop();)if(t.call(e,n,++s,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return dp(this).eachBefore(yp)},[Symbol.iterator]:function*(){var t,e,i,a,n=this,r=[n];do{for(t=r.reverse(),r=[];n=t.pop();)if(yield n,e=n.children)for(i=0,a=e.length;i<a;++i)r.push(e[i])}while(r.length)}};const wp=4294967296;function Ep(){let t=1;return()=>(t=(1664525*t+1013904223)%wp)/wp}function Tp(t,e){for(var a,s,n=0,r=(t=function(t,e){let n,i,r=t.length;for(;r;)i=e()*r--|0,n=t[r],t[r]=t[i],t[i]=n;return t}(Array.from(t),e)).length,i=[];n<r;)a=t[n],s&&Ap(s,a)?++n:(s=Np(i=Cp(i,a)),n=0);return s}function Cp(t,e){var n,r;if(Mp(e,t))return[e];for(n=0;n<t.length;++n)if(Sp(e,t[n])&&Mp(Dp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Sp(Dp(t[n],t[r]),e)&&Sp(Dp(t[n],e),t[r])&&Sp(Dp(t[r],e),t[n])&&Mp(Op(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Sp(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Ap(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Mp(t,e){for(var n=0;n<e.length;++n)if(!Ap(t,e[n]))return!1;return!0}function Np(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Dp(t[0],t[1]);case 3:return Op(t[0],t[1],t[2])}}function Dp(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,s=e.y,o=e.r,c=a-n,u=s-r,l=o-i,h=Math.sqrt(c*c+u*u);return{x:(n+a+c/h*l)/2,y:(r+s+u/h*l)/2,r:(h+i+o)/2}}function Op(t,e,n){var r=t.x,i=t.y,a=t.r,s=e.x,o=e.y,c=e.r,u=n.x,l=n.y,h=n.r,f=r-s,p=r-u,d=i-o,y=i-l,m=c-a,b=h-a,_=r*r+i*i-a*a,v=_-s*s-o*o+c*c,x=_-u*u-l*l+h*h,k=p*d-f*y,w=(d*x-y*v)/(2*k)-r,E=(y*m-d*b)/k,T=(p*v-f*x)/(2*k)-i,C=(f*b-p*m)/k,S=E*E+C*C-1,A=2*(a+w*E+T*C),M=w*w+T*T-a*a,N=-(Math.abs(S)>1e-6?(A+Math.sqrt(A*A-4*S*M))/(2*S):M/A);return{x:r+w+E*N,y:i+T+C*N,r:N}}function Lp(t,e,n){var i,a,r,o,c=t.x-e.x,s=t.y-e.y,u=c*c+s*s;u?(a=e.r+n.r,a*=a,o=t.r+n.r,a>(o*=o)?(i=(u+o-a)/(2*u),r=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x-i*c-r*s,n.y=t.y-i*s+r*c):(i=(u+a-o)/(2*u),r=Math.sqrt(Math.max(0,a/u-i*i)),n.x=e.x+i*c-r*s,n.y=e.y+i*s+r*c)):(n.x=e.x+n.r,n.y=e.y)}function Bp(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Ip(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Fp(t){this._=t,this.next=null,this.previous=null}function Rp(t,e){if(!(a=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,r,i,a,s,o,c,u,l,h,f;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;Lp(r,n,i=t[2]),n=new Fp(n),r=new Fp(r),i=new Fp(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(c=3;c<a;++c){Lp(n._,r._,i=t[c]),i=new Fp(i),u=r.next,l=n.previous,h=r._.r,f=n._.r;do{if(h<=f){if(Bp(u._,i._)){r=u,n.next=r,r.previous=n,--c;continue t}h+=u._.r,u=u.next}else{if(Bp(l._,i._)){(n=l).next=r,r.previous=n,--c;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Ip(n);(i=i.next)!==r;)(o=Ip(i))<s&&(n=i,s=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Tp(n,e),c=0;c<a;++c)(n=t[c]).x-=i.x,n.y-=i.y;return i.r}function Pp(t){return Math.sqrt(t.value)}function $p(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function zp(t,e,n){return function(r){if(i=r.children){var i,a,o,s=i.length,c=t(r)*e||0;if(c)for(a=0;a<s;++a)i[a].r+=c;if(o=Rp(i,n),c)for(a=0;a<s;++a)i[a].r-=c;r.r=o+c}}}function Yp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function jp(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Up(t,e,n,r,i){for(var s,a=t.children,o=-1,c=a.length,u=t.value&&(r-e)/t.value;++o<c;)(s=a[o]).y0=n,s.y1=i,s.x0=e,s.x1=e+=s.value*u}var Wp={depth:-1},qp={},dd={};function Hp(t){return t.id}function Vp(t){return t.parentId}function Gp(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Xp(t,e););return t.slice(0,e)}function Xp(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function Zp(t,e){return t.parent===e.parent?1:2}function Qp(t){var e=t.children;return e?e[0]:t.t}function Kp(t){var e=t.children;return e?e[e.length-1]:t.t}function Jp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function tg(t,e,n){return t.a.parent===e.parent?t.a:n}function eg(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ng(t,e,n,r,i){for(var s,a=t.children,o=-1,c=a.length,u=t.value&&(i-n)/t.value;++o<c;)(s=a[o]).x0=e,s.x1=r,s.y0=n,s.y1=n+=s.value*u}eg.prototype=Object.create(bp.prototype);var rg=(1+Math.sqrt(5))/2;function ig(t,e,n,r,i,a){for(var o,u,p,c,l,b,h,f,d,y,m,s=[],_=e.children,v=0,x=0,k=_.length,w=e.value;v<k;){p=i-n,c=a-r;do{l=_[x++].value}while(!l&&x<k);for(b=h=l,m=l*l*(y=Math.max(c/p,p/c)/(w*t)),d=Math.max(h/m,m/b);x<k;++x){if(l+=u=_[x].value,u<b&&(b=u),u>h&&(h=u),m=l*l*y,(f=Math.max(h/m,m/b))>d){l-=u;break}d=f}s.push(o={value:l,dice:p<c,children:_.slice(v,x)}),o.dice?Up(o,n,r,i,w?r+=c*l/w:a):ng(o,n,r,w?n+=p*l/w:i,a),w-=l,v=x}return s}const ag=function t(e){function n(t,i,a,s,n){ig(e,t,i,a,s,n)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(rg);const og=function t(e){function n(t,i,a,s,n){if((r=t._squarify)&&r.ratio===e)for(var r,u,o,c,p,l=-1,h=r.length,f=t.value;++l<h;){for(o=(u=r[l]).children,c=u.value=0,p=o.length;c<p;++c)u.value+=o[c].value;u.dice?Up(u,i,a,s,f?a+=(n-a)*u.value/f:n):ng(u,i,a,f?i+=(s-i)*u.value/f:s,n),f-=u.value}else t._squarify=r=ig(e,t,i,a,s,n),r.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(rg);function sg(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function cg(t,e){return t[0]-e[0]||t[1]-e[1]}function lg(t){const e=t.length,n=[0,1];let i,r=2;for(i=2;i<e;++i){for(;r>1&&sg(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}const ug=Math.random,hg=function t(e){function n(t,i){return t=null==t?0:+t,i=null==i?1:+i,1===arguments.length?(i=t,t=0):i-=t,function(){return e()*i+t}}return n.source=t,n}(ug),fg=function t(e){function n(t,i){return arguments.length<2&&(i=t,t=0),t=Math.floor(t),i=Math.floor(i)-t,function(){return Math.floor(e()*i+t)}}return n.source=t,n}(ug),dg=function t(e){function n(t,i){var a,s;return t=null==t?0:+t,i=null==i?1:+i,function(){var n;if(null!=a)n=a,a=null;else do{a=2*e()-1,n=2*e()-1,s=a*a+n*n}while(!s||s>1);return t+i*n*Math.sqrt(-2*Math.log(s)/s)}}return n.source=t,n}(ug),pg=function t(e){var n=dg.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(ug),gg=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var i=0,a=t;a>1;--a)i+=e();return i+a*e()}}return n.source=t,n}(ug),yg=function t(e){var n=gg.source(e);function r(i){if(0==(i=+i))return e;var a=n(i);return function(){return a()/i}}return r.source=t,r}(ug),mg=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(ug),bg=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(ug),_g=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(ug),vg=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(ug),xg=function t(e){var n=dg.source(e)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(0===i)return()=>0;if(a=null==a?1:+a,1===i)return()=>-Math.log1p(-e())*a;var s=(i<1?i+1:i)-1/3,t=1/(3*Math.sqrt(s)),r=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do{var u=n(),o=1+t*u}while(o<=0);o*=o*o;var c=1-e()}while(c>=1-.0331*u*u*u*u&&Math.log(c)>=.5*u*u+s*(1-o+Math.log(o)));return s*o*r()*a}}return r.source=t,r}(ug),kg=function t(e){var n=xg.source(e);function r(i,a){var s=n(i),t=n(a);return function(){var e=s();return 0===e?0:e/(e+t())}}return r.source=t,r}(ug),wg=function t(e){var n=vg.source(e),r=kg.source(e);function i(a,s){return a=+a,(s=+s)>=1?()=>a:s<=0?()=>0:function(){for(var t=0,e=a,u=s;e*u>16&&e*(1-u)>16;){var o=Math.floor((e+1)*u),c=r(o,e-o+1)();c<=u?(t+=o,e-=o,u=(u-c)/(1-c)):(e=o-1,u/=c)}for(var l=u<.5,h=n(l?u:1-u),f=h(),d=0;f<=e;++d)f+=h();return t+(l?d:e-d)}}return i.source=t,i}(ug),Eg=function t(e){function n(t,i,a){var s;return 0==(t=+t)?s=t=>-Math.log(t):(t=1/t,s=e=>Math.pow(e,t)),i=null==i?0:+i,a=null==a?1:+a,function(){return i+a*s(-Math.log1p(-e()))}}return n.source=t,n}(ug),Tg=function t(e){function n(t,i){return t=null==t?0:+t,i=null==i?1:+i,function(){return t+i*Math.tan(Math.PI*e())}}return n.source=t,n}(ug),Cg=function t(e){function n(t,i){return t=null==t?0:+t,i=null==i?1:+i,function(){var a=e();return t+i*Math.log(a/(1-a))}}return n.source=t,n}(ug),Sg=function t(e){var n=xg.source(e),r=wg.source(e);function i(a){return function(){for(var s=0,t=a;t>16;){var o=Math.floor(.875*t),u=n(o)();if(u>t)return s+r(o-1,t/u)();s+=o,t-=u}for(var c=-Math.log1p(-e()),l=0;c<=t;++l)c-=Math.log1p(-e());return s+l}}return i.source=t,i}(ug),Ag=1/4294967296;function Mg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ng(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Dg=Symbol("implicit");function Og(){var t=new et,e=[],n=[],r=Dg;function i(a){let s=t.get(a);if(void 0===s){if(r!==Dg)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new et;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Og(e,n).unknown(r)},Mg.apply(i,arguments),i}function Lg(){var a,s,t=Og().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o=!1,c=0,u=0,l=.5;function h(){var t=e().length,p=i<r,h=p?i:r,f=p?r:i;a=(f-h)/Math.max(1,t-c+2*u),o&&(a=Math.floor(a)),h+=(f-h-a*(t-c))*l,s=a*(1-c),o&&(h=Math.round(h),s=Math.round(s));var d=Wt(t).map((function(b){return h+a*b}));return n(p?d.reverse():d)}return delete t.unknown,t.domain=function(t){return arguments.length?(e(t),h()):e()},t.range=function(t){return arguments.length?([r,i]=t,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(t){return[r,i]=t,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(t){return arguments.length?(o=!!t,h()):o},t.padding=function(t){return arguments.length?(c=Math.min(1,u=+t),h()):c},t.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},t.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},t.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},t.copy=function(){return Lg(e(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(l)},Mg.apply(h(),arguments)}function Bg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Bg(e())},t}function Ig(t){return+t}var Fg=[0,1];function Rg(t){return t}function Pg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function $g(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Pg(i,r),a=n(s,a)):(r=Pg(r,i),a=n(a,s)),function(t){return a(r(t))}}function zg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Pg(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=z(t,e,1,r)-1;return a[n](i[n](e))}}function Yg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jg(){var t,i,a,e,n,u,r=Fg,o=Fg,c=Di,s=Rg;function l(){var t=Math.min(r.length,o.length);return s!==Rg&&(s=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(r[0],r[t-1])),e=t>2?zg:$g,n=u=null,h}function h(l){return null==l||isNaN(l=+l)?a:(n||(n=e(r.map(t),o,c)))(t(s(l)))}return h.invert=function(n){return s(i((u||(u=e(o,r.map(t),Ci)))(n)))},h.domain=function(t){return arguments.length?(r=Array.from(t,Ig),l()):r.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),l()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),c=Oi,l()},h.clamp=function(t){return arguments.length?(s=!!t||Rg,l()):s!==Rg},h.interpolate=function(t){return arguments.length?(c=t,l()):c},h.unknown=function(t){return arguments.length?(a=t,h):a},function(e,p){return t=e,i=p,l()}}function Ug(){return jg()(Rg,Rg)}function Wg(t,e,n,r){var a,i=At(t,e,n);switch((r=_l(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(a=Ol(i,s))&&(r.precision=a),Cl(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(a=Ll(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(a=Dl(i))&&(r.precision=a-2*("%"===r.type))}return Tl(r)}function qg(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ct(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Wg(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,u,o=e(),i=0,a=o.length-1,s=o[i],c=o[a],l=10;for(c<s&&(u=s,s=c,c=u,u=i,i=a,a=u);l-- >0;){if((u=St(s,c,n))===r)return o[i]=s,o[a]=c,e(o);if(u>0)s=Math.floor(s/u)*u,c=Math.ceil(c/u)*u;else{if(!(u<0))break;s=Math.ceil(s*u)/u,c=Math.floor(c*u)/u}r=u}return t},t}function Hg(){var t=Ug();return t.copy=function(){return Yg(t,Hg())},Mg.apply(t,arguments),qg(t)}function Vg(t,e){var s,n=0,r=(t=t.slice()).length-1,i=t[n],a=t[r];return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Gg(t){return Math.log(t)}function Xg(t){return Math.exp(t)}function Zg(t){return-Math.log(-t)}function Qg(t){return-Math.exp(-t)}function Kg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jg(t){return(e,n)=>-t(-e,n)}function ty(t){const e=t(Gg,Xg),n=e.domain;let i,a,r=10;function s(){return i=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(r),a=function(t){return 10===t?Kg:t===Math.E?Math.exp:e=>Math.pow(t,e)}(r),n()[0]<0?(i=Jg(i),a=Jg(a),t(Zg,Qg)):t(Gg,Xg),e}return e.base=function(t){return arguments.length?(r=+t,s()):r},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let u=e[0],o=e[e.length-1];const c=o<u;c&&([u,o]=[o,u]);let l,h,f=i(u),p=i(o);const d=null==t?10:+t;let b=[];if(!(r%1)&&p-f<d){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(l=1;l<r;++l)if(h=f<0?l/a(-f):l*a(f),!(h<u)){if(h>o)break;b.push(h)}}else for(;f<=p;++f)for(l=r-1;l>=1;--l)if(h=f>0?l/a(-f):l*a(f),!(h<u)){if(h>o)break;b.push(h)}2*b.length<d&&(b=Ct(u,o,d))}else b=Ct(f,p,Math.min(p-f,d)).map(a);return c?b.reverse():b},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===r?"s":","),"function"!=typeof n&&(!(r%1)&&null==(n=_l(n)).precision&&(n.trim=!0),n=Tl(n)),t===1/0)return n;const u=Math.max(1,r*t/e.ticks().length);return t=>{let e=t/a(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=u?n(t):""}},e.nice=()=>n(Vg(n(),{floor:t=>a(Math.floor(i(t))),ceil:t=>a(Math.ceil(i(t)))})),e}function ey(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ny(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ry(t){var e=1,n=t(ey(e),ny(e));return n.constant=function(n){return arguments.length?t(ey(e=+n),ny(e)):e},qg(n)}function iy(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ay(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oy(t){return t<0?-t*t:t*t}function sy(t){var e=t(Rg,Rg),n=1;function r(){return 1===n?t(Rg,Rg):.5===n?t(ay,oy):t(iy(n),iy(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qg(e)}function cy(){var t=sy(jg());return t.copy=function(){return Yg(t,cy()).exponent(t.exponent())},Mg.apply(t,arguments),t}function ly(t){return Math.sign(t)*t*t}function uy(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}var hy=new Date,fy=new Date;function dy(t,e,n,r){function i(a){return t(a=0===arguments.length?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var s=i(a),t=i.ceil(a);return a-s<t-a?s:t},i.offset=function(a,s){return e(a=new Date(+a),null==s?1:Math.floor(s)),a},i.range=function(a,s,n){var u,r=[];if(a=i.ceil(a),n=null==n?1:Math.floor(n),!(a<s&&n>0))return r;do{r.push(u=new Date(+a)),e(a,n),t(a)}while(u<a&&a<s);return r},i.filter=function(a){return dy((function(s){if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)}),(function(s,t){if(s>=s)if(t<0)for(;++t<=0;)for(;e(s,-1),!a(s););else for(;--t>=0;)for(;e(s,1),!a(s););}))},n&&(i.count=function(a,s){return hy.setTime(+a),fy.setTime(+s),t(hy),t(fy),Math.floor(n(hy,fy))},i.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?i.filter(r?function(s){return r(s)%a==0}:function(s){return i.count(0,s)%a==0}):i:null}),i}var py=dy((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));py.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?dy((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):py:null};const gy=py;var yy=py.range;const my=1e3,by=6e4,_y=60*by,vy=24*_y,xy=7*vy,ky=30*vy,wy=365*vy;var Ey=dy((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*my)}),(function(t,e){return(e-t)/my}),(function(t){return t.getUTCSeconds()}));const Ty=Ey;var Cy=Ey.range,Sy=dy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*my)}),(function(t,e){t.setTime(+t+e*by)}),(function(t,e){return(e-t)/by}),(function(t){return t.getMinutes()}));const Ay=Sy;var My=Sy.range,Ny=dy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*my-t.getMinutes()*by)}),(function(t,e){t.setTime(+t+e*_y)}),(function(t,e){return(e-t)/_y}),(function(t){return t.getHours()}));const Dy=Ny;var Oy=Ny.range,Ly=dy((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*by)/vy),(t=>t.getDate()-1));const By=Ly;var Iy=Ly.range;function Fy(t){return dy((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*by)/xy}))}var Ry=Fy(0),Py=Fy(1),$y=Fy(2),zy=Fy(3),Yy=Fy(4),jy=Fy(5),Uy=Fy(6),Wy=Ry.range,qy=Py.range,Hy=$y.range,Vy=zy.range,Gy=Yy.range,Xy=jy.range,Zy=Uy.range,Qy=dy((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const Ky=Qy;var Jy=Qy.range,tm=dy((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));tm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dy((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const nm=tm;var rm=tm.range,im=dy((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*by)}),(function(t,e){return(e-t)/by}),(function(t){return t.getUTCMinutes()}));const am=im;var om=im.range,sm=dy((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*_y)}),(function(t,e){return(e-t)/_y}),(function(t){return t.getUTCHours()}));const cm=sm;var lm=sm.range,um=dy((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/vy}),(function(t){return t.getUTCDate()-1}));const hm=um;var fm=um.range;function dm(t){return dy((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/xy}))}var pm=dm(0),gm=dm(1),ym=dm(2),mm=dm(3),bm=dm(4),_m=dm(5),vm=dm(6),xm=pm.range,km=gm.range,wm=ym.range,Em=mm.range,Tm=bm.range,Cm=_m.range,Sm=vm.range,Am=dy((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Mm=Am;var Nm=Am.range,Dm=dy((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Dm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dy((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Om=Dm;var Lm=Dm.range;function Bm(t,e,n,r,i,a){const s=[[Ty,1,my],[Ty,5,5e3],[Ty,15,15e3],[Ty,30,3e4],[a,1,by],[a,5,5*by],[a,15,15*by],[a,30,30*by],[i,1,_y],[i,3,3*_y],[i,6,6*_y],[i,12,12*_y],[r,1,vy],[r,2,2*vy],[n,1,xy],[e,1,ky],[e,3,3*ky],[t,1,wy]];function o(u,e,n){const r=Math.abs(e-u)/n,p=O((([,,t])=>t)).right(s,r);if(p===s.length)return t.every(At(u/wy,e/wy,n));if(0===p)return gy.every(Math.max(At(u,e,n),1));const[o,c]=s[r/s[p-1][2]<s[p][2]/r?p-1:p];return o.every(c)}return[function(u,t,e){const n=t<u;n&&([u,t]=[t,u]);const p=e&&"function"==typeof e.range?e:o(u,t,e),r=p?p.range(u,+t+1):[];return n?r.reverse():r},o]}const[Im,Fm]=Bm(Om,Mm,pm,hm,cm,am),[Rm,Pm]=Bm(nm,Ky,Ry,By,Dy,Ay);function $m(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ym(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function jm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=tb(i),l=eb(i),h=tb(a),f=eb(a),p=tb(s),d=eb(s),y=tb(o),m=eb(o),b=tb(c),_=eb(c),v={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:kb,e:kb,f:Sb,g:Pb,G:zb,H:wb,I:Eb,j:Tb,L:Cb,m:Ab,M:Mb,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:l_,s:u_,S:Nb,u:Db,U:Ob,V:Bb,w:Ib,W:Fb,x:null,X:null,y:Rb,Y:$b,Z:Yb,"%":c_},x={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:jb,e:jb,f:Vb,g:i_,G:o_,H:Ub,I:Wb,j:qb,L:Hb,m:Gb,M:Xb,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:l_,s:u_,S:Zb,u:Qb,U:Kb,V:t_,w:e_,W:n_,x:null,X:null,y:r_,Y:a_,Z:s_,"%":c_},k={a:function(t,e,q){var n=p.exec(e.slice(q));return n?(t.w=d.get(n[0].toLowerCase()),q+n[0].length):-1},A:function(t,e,q){var n=h.exec(e.slice(q));return n?(t.w=f.get(n[0].toLowerCase()),q+n[0].length):-1},b:function(t,e,q){var n=b.exec(e.slice(q));return n?(t.m=_.get(n[0].toLowerCase()),q+n[0].length):-1},B:function(t,e,q){var n=y.exec(e.slice(q));return n?(t.m=m.get(n[0].toLowerCase()),q+n[0].length):-1},c:function(t,n,q){return T(t,e,n,q)},d:fb,e:fb,f:bb,g:cb,G:sb,H:pb,I:pb,j:db,L:mb,m:hb,M:gb,p:function(t,e,q){var n=u.exec(e.slice(q));return n?(t.p=l.get(n[0].toLowerCase()),q+n[0].length):-1},q:ub,Q:vb,s:xb,S:yb,u:rb,U:ib,V:ab,w:nb,W:ob,x:function(t,e,q){return T(t,n,e,q)},X:function(t,e,q){return T(t,r,e,q)},y:cb,Y:sb,Z:lb,"%":_b};function w(t,e){return function(q){var n,r,o,c=[],l=-1,h=0,f=t.length;for(q instanceof Date||(q=new Date(+q));++l<f;)37===t.charCodeAt(l)&&(c.push(t.slice(h,l)),null!=(r=Gm[n=t.charAt(++l)])?n=t.charAt(++l):r="e"===n?" ":"0",(o=e[n])&&(n=o(q,r)),c.push(n),h=l+1);return c.push(t.slice(h,l)),c.join("")}}function E(t,e){return function(q){var n,r,o=Ym(1900,void 0,1);if(T(o,t,q+="",0)!=q.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(n=zm(Ym(o.y,0,1))).getUTCDay(),n=r>4||0===r?gm.ceil(n):gm(n),n=hm.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(r=(n=$m(Ym(o.y,0,1))).getDay(),n=r>4||0===r?Py.ceil(n):Py(n),n=By.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?zm(Ym(o.y,0,1)).getUTCDay():$m(Ym(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,zm(o)):$m(o)}}function T(t,e,q,n){for(var r,o,c=0,l=e.length,h=q.length;c<l;){if(n>=h)return-1;if(37===(r=e.charCodeAt(c++))){if(r=e.charAt(c++),!(o=k[r in Gm?e.charAt(c++):r])||(n=o(t,q,n))<0)return-1}else if(r!=q.charCodeAt(n++))return-1}return n}return v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}var Um,Wm,qm,Hm,Vm,Gm={"-":"",_:" ",0:"0"},Xm=/^\s*\d+/,Zm=/^%/,Qm=/[\\^$*+?|[\]().{}]/g;function Km(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Jm(t){return t.replace(Qm,"\\$&")}function tb(t){return new RegExp("^(?:"+t.map(Jm).join("|")+")","i")}function eb(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function nb(t,e,n){var r=Xm.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rb(t,e,n){var r=Xm.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ib(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ab(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ob(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sb(t,e,n){var r=Xm.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lb(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ub(t,e,n){var r=Xm.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function hb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function db(t,e,n){var r=Xm.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yb(t,e,n){var r=Xm.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mb(t,e,n){var r=Xm.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bb(t,e,n){var r=Xm.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _b(t,e,n){var r=Zm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vb(t,e,n){var r=Xm.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xb(t,e,n){var r=Xm.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kb(t,e){return Km(t.getDate(),e,2)}function wb(t,e){return Km(t.getHours(),e,2)}function Eb(t,e){return Km(t.getHours()%12||12,e,2)}function Tb(t,e){return Km(1+By.count(nm(t),t),e,3)}function Cb(t,e){return Km(t.getMilliseconds(),e,3)}function Sb(t,e){return Cb(t,e)+"000"}function Ab(t,e){return Km(t.getMonth()+1,e,2)}function Mb(t,e){return Km(t.getMinutes(),e,2)}function Nb(t,e){return Km(t.getSeconds(),e,2)}function Db(t){var e=t.getDay();return 0===e?7:e}function Ob(t,e){return Km(Ry.count(nm(t)-1,t),e,2)}function Lb(t){var e=t.getDay();return e>=4||0===e?Yy(t):Yy.ceil(t)}function Bb(t,e){return t=Lb(t),Km(Yy.count(nm(t),t)+(4===nm(t).getDay()),e,2)}function Ib(t){return t.getDay()}function Fb(t,e){return Km(Py.count(nm(t)-1,t),e,2)}function Rb(t,e){return Km(t.getFullYear()%100,e,2)}function Pb(t,e){return Km((t=Lb(t)).getFullYear()%100,e,2)}function $b(t,e){return Km(t.getFullYear()%1e4,e,4)}function zb(t,e){var n=t.getDay();return Km((t=n>=4||0===n?Yy(t):Yy.ceil(t)).getFullYear()%1e4,e,4)}function Yb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Km(e/60|0,"0",2)+Km(e%60,"0",2)}function jb(t,e){return Km(t.getUTCDate(),e,2)}function Ub(t,e){return Km(t.getUTCHours(),e,2)}function Wb(t,e){return Km(t.getUTCHours()%12||12,e,2)}function qb(t,e){return Km(1+hm.count(Om(t),t),e,3)}function Hb(t,e){return Km(t.getUTCMilliseconds(),e,3)}function Vb(t,e){return Hb(t,e)+"000"}function Gb(t,e){return Km(t.getUTCMonth()+1,e,2)}function Xb(t,e){return Km(t.getUTCMinutes(),e,2)}function Zb(t,e){return Km(t.getUTCSeconds(),e,2)}function Qb(t){var e=t.getUTCDay();return 0===e?7:e}function Kb(t,e){return Km(pm.count(Om(t)-1,t),e,2)}function Jb(t){var e=t.getUTCDay();return e>=4||0===e?bm(t):bm.ceil(t)}function t_(t,e){return t=Jb(t),Km(bm.count(Om(t),t)+(4===Om(t).getUTCDay()),e,2)}function e_(t){return t.getUTCDay()}function n_(t,e){return Km(gm.count(Om(t)-1,t),e,2)}function r_(t,e){return Km(t.getUTCFullYear()%100,e,2)}function i_(t,e){return Km((t=Jb(t)).getUTCFullYear()%100,e,2)}function a_(t,e){return Km(t.getUTCFullYear()%1e4,e,4)}function o_(t,e){var n=t.getUTCDay();return Km((t=n>=4||0===n?bm(t):bm.ceil(t)).getUTCFullYear()%1e4,e,4)}function s_(){return"+0000"}function c_(){return"%"}function l_(t){return+t}function u_(t){return Math.floor(+t/1e3)}function h_(t){return Um=jm(t),Wm=Um.format,qm=Um.parse,Hm=Um.utcFormat,Vm=Um.utcParse,Um}h_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var f_="%Y-%m-%dT%H:%M:%S.%LZ";var d_=Date.prototype.toISOString?function(t){return t.toISOString()}:Hm(f_);const p_=d_;var g_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Vm(f_);const y_=g_;function m_(t){return new Date(t)}function b_(t){return t instanceof Date?+t:+new Date(+t)}function __(t,e,n,r,i,a,s,o,c,u){var l=Ug(),h=l.invert,f=l.domain,p=u(".%L"),d=u(":%S"),y=u("%I:%M"),m=u("%I %p"),b=u("%a %d"),_=u("%b %d"),v=u("%B"),x=u("%Y");function k(t){return(c(t)<t?p:o(t)<t?d:s(t)<t?y:a(t)<t?m:r(t)<t?i(t)<t?b:_:n(t)<t?v:x)(t)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(Array.from(t,b_)):f().map(m_)},l.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},l.tickFormat=function(t,e){return null==e?k:u(e)},l.nice=function(t){var n=f();return(!t||"function"!=typeof t.range)&&(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(Vg(n,t)):l},l.copy=function(){return Yg(l,__(t,e,n,r,i,a,s,o,c,u))},l}function v_(){return Mg.apply(__(Rm,Pm,nm,Ky,Ry,By,Dy,Ay,Ty,Wm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x_(){var t,e,i,a,n,r=0,o=1,s=Rg,c=!1;function u(e){return null==e||isNaN(e=+e)?n:s(0===i?.5:(e=(a(e)-t)*i,c?Math.max(0,Math.min(1,e)):e))}function l(t){return function(e){var p,n;return arguments.length?([p,n]=e,s=t(p,n),u):[s(0),s(1)]}}return u.domain=function(n){return arguments.length?([r,o]=n,t=a(r=+r),e=a(o=+o),i=t===e?0:1/(e-t),u):[r,o]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(s=t,u):s},u.range=l(Di),u.rangeRound=l(Oi),u.unknown=function(t){return arguments.length?(n=t,u):n},function(n){return a=n,t=n(r),e=n(o),i=t===e?0:1/(e-t),u}}function k_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function w_(){var t=sy(x_());return t.copy=function(){return k_(t,w_()).exponent(t.exponent())},Ng.apply(t,arguments)}function E_(){var i,a,s,t,e,n,r,o=0,c=.5,l=1,h=1,u=Rg,f=!1;function p(o){return isNaN(o=+o)?r:(o=.5+((o=+n(o))-a)*(h*o<h*a?t:e),u(f?Math.max(0,Math.min(1,o)):o))}function d(t){return function(e){var b,n,r;return arguments.length?([b,n,r]=e,u=Qi(t,[b,n,r]),p):[u(0),u(.5),u(1)]}}return p.domain=function(r){return arguments.length?([o,c,l]=r,i=n(o=+o),a=n(c=+c),s=n(l=+l),t=i===a?0:.5/(a-i),e=a===s?0:.5/(s-a),h=a<i?-1:1,p):[o,c,l]},p.clamp=function(t){return arguments.length?(f=!!t,p):f},p.interpolator=function(t){return arguments.length?(u=t,p):u},p.range=d(Di),p.rangeRound=d(Oi),p.unknown=function(t){return arguments.length?(r=t,p):r},function(r){return n=r,i=r(o),a=r(c),s=r(l),t=i===a?0:.5/(a-i),e=a===s?0:.5/(s-a),h=a<i?-1:1,p}}function T_(){var t=sy(E_());return t.copy=function(){return k_(t,T_()).exponent(t.exponent())},Ng.apply(t,arguments)}function C_(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const S_=C_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),A_=C_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),M_=C_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),N_=C_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),D_=C_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),O_=C_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),L_=C_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),B_=C_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),I_=C_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),F_=C_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),R_=t=>vi(t[t.length-1]);var P_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(C_);const $_=R_(P_);var z_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(C_);const Y_=R_(z_);var j_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(C_);const U_=R_(j_);var W_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(C_);const q_=R_(W_);var H_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(C_);const V_=R_(H_);var G_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(C_);const X_=R_(G_);var Z_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(C_);const Q_=R_(Z_);var K_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(C_);const J_=R_(K_);var tv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(C_);const ev=R_(tv);var nv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(C_);const rv=R_(nv);var iv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(C_);const av=R_(iv);var ov=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(C_);const sv=R_(ov);var cv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(C_);const lv=R_(cv);var uv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(C_);const hv=R_(uv);var fv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(C_);const dv=R_(fv);var pv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(C_);const gv=R_(pv);var yv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(C_);const mv=R_(yv);var bv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(C_);const _v=R_(bv);var vv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(C_);const xv=R_(vv);var kv=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(C_);const wv=R_(kv);var Ev=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(C_);const Tv=R_(Ev);var Cv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(C_);const Sv=R_(Cv);var Av=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(C_);const Mv=R_(Av);var Nv=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(C_);const Dv=R_(Nv);var Ov=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(C_);const Lv=R_(Ov);var Bv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(C_);const Iv=R_(Bv);var Fv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(C_);const Rv=R_(Fv);const Pv=Zi(si(300,.5,0),si(-240,.5,1));var $v=Zi(si(-100,.75,.35),si(80,1.5,.8)),zv=Zi(si(260,.75,.35),si(80,1.5,.8)),Yv=si();var jv=vr(),Uv=Math.PI/3,Wv=2*Math.PI/3;function qv(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Hv=qv(C_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Vv=qv(C_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Gv=qv(C_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xv=qv(C_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Zv(t){return function(){return t}}const Qv=Math.abs,Kv=Math.atan2,Jv=Math.cos,tx=Math.max,ex=Math.min,nx=Math.sin,rx=Math.sqrt,ix=1e-12,ax=Math.PI,ox=ax/2,sx=2*ax;function cx(t){return t>1?0:t<-1?ax:Math.acos(t)}function lx(t){return t>=1?ox:t<=-1?-ox:Math.asin(t)}function ux(t){return t.innerRadius}function hx(t){return t.outerRadius}function fx(t){return t.startAngle}function dx(t){return t.endAngle}function px(t){return t&&t.padAngle}function gx(t,e,n,r,i,a,s,o){var c=n-t,u=r-e,l=s-i,h=o-a,f=h*c-l*u;if(!(f*f<ix))return[t+(f=(l*(e-a)-h*(t-i))/f)*c,e+f*u]}function yx(t,e,n,r,i,a,s){var o=t-n,c=e-r,u=(s?a:-a)/rx(o*o+c*c),l=u*c,h=-u*o,f=t+l,p=e+h,d=n+l,y=r+h,m=(f+d)/2,b=(p+y)/2,_=d-f,v=y-p,x=_*_+v*v,k=i-a,w=f*y-d*p,E=(v<0?-1:1)*rx(tx(0,k*k*x-w*w)),T=(w*v-_*E)/x,C=(-w*_-v*E)/x,S=(w*v+_*E)/x,A=(-w*_+v*E)/x,M=T-m,N=C-b,D=S-m,O=A-b;return M*M+N*N>D*D+O*O&&(T=S,C=A),{cx:T,cy:C,x01:-l,y01:-h,x11:T*(i/k-1),y11:C*(i/k-1)}}function mx(){var t=ux,e=hx,n=Zv(0),r=null,i=fx,a=dx,s=px,o=null;function c(){var u,c,l=+t.apply(this,arguments),h=+e.apply(this,arguments),p=i.apply(this,arguments)-ox,f=a.apply(this,arguments)-ox,d=Qv(f-p),y=f>p;if(o||(o=u=ys()),h<l&&(c=h,h=l,l=c),h>ix)if(d>sx-ix)o.moveTo(h*Jv(p),h*nx(p)),o.arc(0,0,h,p,f,!y),l>ix&&(o.moveTo(l*Jv(f),l*nx(f)),o.arc(0,0,l,f,p,y));else{var m,_,b=p,v=f,x=p,k=f,w=d,E=d,T=s.apply(this,arguments)/2,C=T>ix&&(r?+r.apply(this,arguments):rx(l*l+h*h)),S=ex(Qv(h-l)/2,+n.apply(this,arguments)),A=S,M=S;if(C>ix){var N=lx(C/l*nx(T)),D=lx(C/h*nx(T));(w-=2*N)>ix?(x+=N*=y?1:-1,k-=N):(w=0,x=k=(p+f)/2),(E-=2*D)>ix?(b+=D*=y?1:-1,v-=D):(E=0,b=v=(p+f)/2)}var O=h*Jv(b),L=h*nx(b),B=l*Jv(k),I=l*nx(k);if(S>ix){var F,R=h*Jv(v),P=h*nx(v),$=l*Jv(x),z=l*nx(x);if(d<ax&&(F=gx(O,L,$,z,R,P,B,I))){var Y=O-F[0],j=L-F[1],U=R-F[0],W=P-F[1],H=1/nx(cx((Y*U+j*W)/(rx(Y*Y+j*j)*rx(U*U+W*W)))/2),V=rx(F[0]*F[0]+F[1]*F[1]);A=ex(S,(l-V)/(H-1)),M=ex(S,(h-V)/(H+1))}}E>ix?M>ix?(m=yx($,z,O,L,h,M,y),_=yx(R,P,B,I,h,M,y),o.moveTo(m.cx+m.x01,m.cy+m.y01),M<S?o.arc(m.cx,m.cy,M,Kv(m.y01,m.x01),Kv(_.y01,_.x01),!y):(o.arc(m.cx,m.cy,M,Kv(m.y01,m.x01),Kv(m.y11,m.x11),!y),o.arc(0,0,h,Kv(m.cy+m.y11,m.cx+m.x11),Kv(_.cy+_.y11,_.cx+_.x11),!y),o.arc(_.cx,_.cy,M,Kv(_.y11,_.x11),Kv(_.y01,_.x01),!y))):(o.moveTo(O,L),o.arc(0,0,h,b,v,!y)):o.moveTo(O,L),l>ix&&w>ix?A>ix?(m=yx(B,I,R,P,l,-A,y),_=yx(O,L,$,z,l,-A,y),o.lineTo(m.cx+m.x01,m.cy+m.y01),A<S?o.arc(m.cx,m.cy,A,Kv(m.y01,m.x01),Kv(_.y01,_.x01),!y):(o.arc(m.cx,m.cy,A,Kv(m.y01,m.x01),Kv(m.y11,m.x11),!y),o.arc(0,0,l,Kv(m.cy+m.y11,m.cx+m.x11),Kv(_.cy+_.y11,_.cx+_.x11),y),o.arc(_.cx,_.cy,A,Kv(_.y11,_.x11),Kv(_.y01,_.x01),!y))):o.arc(0,0,l,k,x,y):o.lineTo(B,I)}else o.moveTo(0,0);if(o.closePath(),u)return o=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-ax/2;return[Jv(n)*u,nx(n)*u]},c.innerRadius=function(u){return arguments.length?(t="function"==typeof u?u:Zv(+u),c):t},c.outerRadius=function(u){return arguments.length?(e="function"==typeof u?u:Zv(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n="function"==typeof u?u:Zv(+u),c):n},c.padRadius=function(u){return arguments.length?(r=null==u?null:"function"==typeof u?u:Zv(+u),c):r},c.startAngle=function(u){return arguments.length?(i="function"==typeof u?u:Zv(+u),c):i},c.endAngle=function(u){return arguments.length?(a="function"==typeof u?u:Zv(+u),c):a},c.padAngle=function(u){return arguments.length?(s="function"==typeof u?u:Zv(+u),c):s},c.context=function(u){return arguments.length?(o=null==u?null:u,c):o},c}var bx=Array.prototype.slice;function _x(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function vx(t){this._context=t}function xx(t){return new vx(t)}function kx(t){return t[0]}function wx(t){return t[1]}function Ex(t,e){var n=Zv(!0),r=null,i=xx,a=null;function s(o){var c,l,h,u=(o=_x(o)).length,f=!1;for(null==r&&(a=i(h=ys())),c=0;c<=u;++c)!(c<u&&n(l=o[c],c,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,c,o),+e(l,c,o));if(h)return a=null,h+""||null}return t="function"==typeof t?t:void 0===t?kx:Zv(t),e="function"==typeof e?e:void 0===e?wx:Zv(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Zv(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Zv(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Zv(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),s):r},s}function Tx(t,e,n){var r=null,i=Zv(!0),a=null,s=xx,o=null;function c(c){var l,h,p,f,b,d=(c=_x(c)).length,y=!1,m=new Array(d),_=new Array(d);for(null==a&&(o=s(b=ys())),l=0;l<=d;++l){if(!(l<d&&i(f=c[l],l,c))===y)if(y=!y)h=l,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=l-1;p>=h;--p)o.point(m[p],_[p]);o.lineEnd(),o.areaEnd()}y&&(m[l]=+t(f,l,c),_[l]=+e(f,l,c),o.point(r?+r(f,l,c):m[l],n?+n(f,l,c):_[l]))}if(b)return o=null,b+""||null}function u(){return Ex().defined(i).curve(s).context(a)}return t="function"==typeof t?t:void 0===t?kx:Zv(+t),e="function"==typeof e?e:Zv(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?wx:Zv(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:Zv(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:Zv(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Zv(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:Zv(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:Zv(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Zv(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:Zv(!!t),c):i},c.curve=function(t){return arguments.length?(s=t,null!=a&&(o=s(a)),c):s},c.context=function(t){return arguments.length?(null==t?a=o=null:o=s(a=t),c):a},c}function Cx(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Sx(t){return t}function Ax(){var t=Sx,e=Cx,n=null,r=Zv(0),i=Zv(sx),a=Zv(0);function s(o){var c,l,h,b,f,u=(o=_x(o)).length,d=0,p=new Array(u),y=new Array(u),m=+r.apply(this,arguments),_=Math.min(sx,Math.max(-sx,i.apply(this,arguments)-m)),v=Math.min(Math.abs(_)/u,a.apply(this,arguments)),x=v*(_<0?-1:1);for(c=0;c<u;++c)(f=y[p[c]=c]=+t(o[c],c,o))>0&&(d+=f);for(null!=e?p.sort((function(t,n){return e(y[t],y[n])})):null!=n&&p.sort((function(t,e){return n(o[t],o[e])})),c=0,h=d?(_-u*x)/d:0;c<u;++c,m=b)l=p[c],b=m+((f=y[l])>0?f*h:0)+x,y[l]={data:o[l],index:c,value:f,startAngle:m,endAngle:b,padAngle:v};return y}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:Zv(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Zv(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Zv(+t),s):i},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Zv(+t),s):a},s}vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Mx=Dx(xx);function Nx(t){this._curve=t}function Dx(t){function e(e){return new Nx(t(e))}return e._curve=t,e}function Ox(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Dx(t)):e()._curve},t}function Lx(){return Ox(Ex().curve(Mx))}function Bx(){var t=Tx().curve(Mx),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Ox(n())},delete t.lineX0,t.lineEndAngle=function(){return Ox(r())},delete t.lineX1,t.lineInnerRadius=function(){return Ox(i())},delete t.lineY0,t.lineOuterRadius=function(){return Ox(a())},delete t.lineY1,t.curve=function(s){return arguments.length?e(Dx(s)):e()._curve},t}function Ix(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Nx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};class Fx{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}class Rx{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0==this._point++)this._x0=t,this._y0=e;else{const n=Ix(this._x0,this._y0),i=Ix(this._x0,this._y0=(this._y0+e)/2),a=Ix(t,this._y0),s=Ix(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...a,...s)}}}function Px(t){return new Fx(t,!0)}function $x(t){return new Fx(t,!1)}function zx(t){return new Rx(t)}function Yx(t){return t.source}function jx(t){return t.target}function Ux(t){let e=Yx,n=jx,r=kx,i=wx,a=null,s=null;function o(){let o;const u=bx.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(null==a&&(s=t(o=ys())),s.lineStart(),u[0]=c,s.point(+r.apply(this,u),+i.apply(this,u)),u[0]=l,s.point(+r.apply(this,u),+i.apply(this,u)),s.lineEnd(),o)return s=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:Zv(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:Zv(+t),o):i},o.context=function(e){return arguments.length?(null==e?a=s=null:s=t(a=e),o):a},o}const Wx=rx(3),qx={draw(t,e){const n=.59436*rx(e+ex(e/28,.75)),r=n/2,i=r*Wx;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Hx={draw(t,e){const n=rx(e/ax);t.moveTo(n,0),t.arc(0,0,n,0,sx)}},Vx={draw(t,e){const n=rx(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Gx=rx(1/3),Xx=2*Gx,Zx={draw(t,e){const n=rx(e/Xx),r=n*Gx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Qx={draw(t,e){const n=.62625*rx(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Kx={draw(t,e){const n=.87559*rx(e-ex(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Jx={draw(t,e){const n=rx(e),r=-n/2;t.rect(r,r,n,n)}},tk={draw(t,e){const n=.4431*rx(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},ek=nx(ax/10)/nx(7*ax/10),nk=nx(sx/10)*ek,rk=-Jv(sx/10)*ek,ik={draw(t,e){const n=rx(.8908130915292852*e),r=nk*n,i=rk*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=sx*a/5,e=Jv(s),o=nx(s);t.lineTo(o*n,-e*n),t.lineTo(e*r-o*i,o*r+e*i)}t.closePath()}},ak=rx(3),ok={draw(t,e){const n=-rx(e/(3*ak));t.moveTo(0,2*n),t.lineTo(-ak*n,-n),t.lineTo(ak*n,-n),t.closePath()}},sk=rx(3),ck={draw(t,e){const n=.6824*rx(e),r=n/2,i=n*sk/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},lk=-.5,uk=rx(3)/2,hk=1/rx(12),fk=3*(hk/2+1),dk={draw(t,e){const n=rx(e/fk),r=n/2,i=n*hk,a=r,s=n*hk+n,o=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(lk*r-uk*i,uk*r+lk*i),t.lineTo(lk*a-uk*s,uk*a+lk*s),t.lineTo(lk*o-uk*c,uk*o+lk*c),t.lineTo(lk*r+uk*i,lk*i-uk*r),t.lineTo(lk*a+uk*s,lk*s-uk*a),t.lineTo(lk*o+uk*c,lk*c-uk*o),t.closePath()}},pk={draw(t,e){const n=.6189*rx(e-ex(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},gk=[Hx,Vx,Zx,Jx,ik,ok,dk],yk=[Hx,Kx,pk,ck,qx,tk,Qx];function mk(){}function bk(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _k(t){this._context=t}function vk(t){return new _k(t)}function xk(t){this._context=t}function kk(t){return new xk(t)}function wk(t){this._context=t}function Ek(t){return new wk(t)}function Tk(t,e){this._basis=new _k(t),this._beta=e}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xk.prototype={areaStart:mk,areaEnd:mk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Tk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,o=t[0],i=e[0],a=t[n]-o,s=e[n]-i,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(o+r*a),this._beta*e[c]+(1-this._beta)*(i+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Ck=function t(e){function n(t){return 1===e?new _k(t):new Tk(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Sk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ak(t,e){this._context=t,this._k=(1-e)/6}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sk(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Sk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Mk=function t(e){function n(t){return new Ak(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Nk(t,e){this._context=t,this._k=(1-e)/6}Nk.prototype={areaStart:mk,areaEnd:mk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Sk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Dk=function t(e){function n(t){return new Nk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ok(t,e){this._context=t,this._k=(1-e)/6}Ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Lk=function t(e){function n(t){return new Ok(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bk(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>ix){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>ix){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function Ik(t,e){this._context=t,this._alpha=e}Ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Fk=function t(e){function n(t){return e?new Ik(t,e):new Ak(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Rk(t,e){this._context=t,this._alpha=e}Rk.prototype={areaStart:mk,areaEnd:mk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Pk=function t(e){function n(t){return e?new Rk(t,e):new Nk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function $k(t,e){this._context=t,this._alpha=e}$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zk=function t(e){function n(t){return e?new $k(t,e):new Ok(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Yk(t){this._context=t}function jk(t){return new Yk(t)}function Uk(t){return t<0?-1:1}function Wk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Uk(a)+Uk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function qk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hk(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Vk(t){this._context=t}function Gk(t){this._context=new Xk(t)}function Xk(t){this._context=t}function Zk(t){return new Vk(t)}function Qk(t){return new Gk(t)}function Kk(t){this._context=t}function Jk(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function tw(t){return new Kk(t)}function ew(t,e){this._context=t,this._t=e}function nw(t){return new ew(t,.5)}function rw(t){return new ew(t,0)}function iw(t){return new ew(t,1)}function aw(t,e){if((s=t.length)>1)for(var n,i,s,r=1,a=t[e[0]],o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ow(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function sw(t,e){return t[e]}function cw(t){const e=[];return e.key=t,e}function lw(t){var e=t.map(uw);return ow(t).sort((function(t,n){return e[t]-e[n]}))}function uw(t){for(var i,e=-1,n=0,r=t.length,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function hw(t){var e=t.map(fw);return ow(t).sort((function(t,n){return e[t]-e[n]}))}function fw(t){for(var i,e=0,n=-1,r=t.length;++n<r;)(i=+t[n][1])&&(e+=i);return e}Yk.prototype={areaStart:mk,areaEnd:mk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hk(this,this._t0,qk(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hk(this,qk(this,n=Wk(this,t,e)),n);break;default:Hk(this,this._t0,n=Wk(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Gk.prototype=Object.create(Vk.prototype)).point=function(t,e){Vk.prototype.point.call(this,e,t)},Xk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Jk(t),i=Jk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};const dw=t=>()=>t;function pw(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function gw(t,e,n){this.k=t,this.x=e,this.y=n}gw.prototype={constructor:gw,scale:function(t){return 1===t?this:new gw(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new gw(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yw=new gw(1,0,0);function mw(t){for(;!t.__zoom;)if(!(t=t.parentNode))return yw;return t.__zoom}function bw(t){t.stopImmediatePropagation()}function _w(t){t.preventDefault(),t.stopImmediatePropagation()}function vw(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function xw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function kw(){return this.__zoom||yw}function ww(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ew(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tw(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}mw.prototype=gw.prototype;const Cw=Object.freeze(Object.defineProperty({__proto__:null,bisect:z,bisectRight:R,bisectLeft:P,bisectCenter:$,ascending:N,bisector:O,blur:function(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=V(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t},blur2:Y,blurImage:j,count:h1,cross:function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(Z)).map(G),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(X))return a;for(;;){a.push(i.map(((e,n)=>t[n][e])));let s=r;for(;++i[s]===n[s];){if(0===s)return e?a.map(e):a;i[s--]=0}}},cumsum:function(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)},descending:D,deviation:K,extent:J,Adder:tt,fsum:function(t,e){const n=new tt;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n},fcumsum:function(t,e){const n=new tt;let r=-1;return Float64Array.from(t,void 0===e?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))},group:lt,flatGroup:function(t,...e){return ht(ut(t,...e),e)},flatRollup:function(t,e,...n){return ht(pt(t,e,...n),n)},groups:ut,index:function(t,...e){return yt(t,ct,gt,e)},indexes:function(t,...e){return yt(t,Array.from,gt,e)},rollup:ft,rollups:pt,groupSort:function(t,e,n){return(2!==e.length?bt(ft(t,e,n),(([t,i],[a,s])=>N(i,s)||N(t,a))):bt(lt(t,n),(([t,i],[a,s])=>e(i,s)||N(t,a)))).map((([t])=>t))},bin:Dt,histogram:Dt,thresholdFreedmanDiaconis:function(t,e,n){return Math.ceil((n-e)/(2*($t(t,.75)-$t(t,.25))*Math.pow(h1(t),-1/3)))},thresholdScott:function(t,e,n){return Math.ceil((n-e)*Math.cbrt(h1(t))/(3.49*K(t)))},thresholdSturges:Nt,max:Ot,maxIndex:Lt,mean:function(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n},median:function(t,e){return $t(t,.5,e)},medianIndex:function(t,e){return Yt(t,.5,e)},merge:jt,min:Bt,minIndex:It,mode:function(t,e){const n=new et;if(void 0===e)for(let a of t)null!=a&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r},nice:Mt,pairs:function(t,e=Ut){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n},permute:mt,quantile:$t,quantileIndex:Yt,quantileSorted:zt,quickselect:Ft,range:Wt,rank:function(t,e=N){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=N);const i=(t,r)=>e(n[t],n[r]);let a,s;return Uint32Array.from(n,((t,e)=>e)).sort(e===N?(t,e)=>vt(n[t],n[e]):_t(i)).forEach(((t,e)=>{const u=i(t,void 0===a?t:a);u>=0?((void 0===a||u>0)&&(a=t,s=e),r[t]=s):r[t]=NaN})),r},least:function(t,e=N){let n,r=!1;if(1===e.length){let i;for(const a of t){const s=e(a);(r?N(s,i)<0:0===N(s,s))&&(n=a,i=s,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n},leastIndex:qt,greatest:Pt,greatestIndex:function(t,e=N){if(1===e.length)return Lt(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?0===e(a,a):e(a,n)>0)&&(n=a,r=i);return r},scan:function(t,e){const n=qt(t,e);return n<0?void 0:n},shuffle:Ht,shuffler:Vt,sum:function(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n},ticks:Ct,tickIncrement:St,tickStep:At,transpose:Gt,variance:Q,zip:function(){return Gt(arguments)},every:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0},some:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1},filter:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n},map:function(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))},reduce:function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,s=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++s}for(;({done:i,value:a}=r.next()),!i;)n=e(n,a,++s,t);return n},reverse:function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},sort:bt,difference:function(t,...e){t=new nt(t);for(const n of e)for(const e of n)t.delete(e);return t},disjoint:function(t,e){const n=e[Symbol.iterator](),r=new nt;for(const i of t){if(r.has(i))return!1;let a,s;for(;({value:a,done:s}=n.next())&&!s;){if(Object.is(i,a))return!1;r.add(a)}}return!0},intersection:function(t,...e){t=new nt(t),e=e.map(Zt);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t},subset:function(t,e){return Qt(e,t)},superset:Qt,union:function(...t){const e=new nt;for(const n of t)for(const t of n)e.add(t);return e},InternMap:et,InternSet:nt,axisTop:se,axisRight:function(t){return oe(2,t)},axisBottom:ce,axisLeft:function(t){return oe(4,t)},brush:function(){return ts(jo)},brushX:function(){return ts(zo)},brushY:function(){return ts(Yo)},brushSelection:function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},chord:function(){return us(!1,!1)},chordTranspose:function(){return us(!1,!0)},chordDirected:function(){return us(!0,!1)},ribbon:function(){return Ts()},ribbonArrow:function(){return Ts(Es)},color:gr,rgb:vr,hsl:Mr,lab:jr,hcl:Xr,lch:function(t,e,n,r){return 1===arguments.length?Gr(t):new Zr(n,e,t,null==r?1:r)},gray:function(t,e){return new Ur(t,0,0,null==e?1:e)},cubehelix:si,contours:Bs,contourDensity:function(){var t=Is,e=Fs,n=Rs,r=960,i=500,a=20,s=2,o=3*a,c=r+2*o>>s,u=i+2*o>>s,l=As(20);function h(r){var l=new Float32Array(c*u),h=Math.pow(2,-s),f=-1;for(const w of r){var d=(t(w,++f,r)+o)*h,y=(e(w,f,r)+o)*h,m=+n(w,f,r);if(d>=0&&d<c&&y>=0&&y<u){var _=Math.floor(d),v=Math.floor(y),x=d-_-.5,k=y-v-.5;l[_+v*c]+=(1-x)*(1-k)*m,l[_+1+v*c]+=x*(1-k)*m,l[_+1+(v+1)*c]+=x*k*m,l[_+(v+1)*c]+=(1-x)*k*m}}return Y({data:l,width:c,height:u},a*h),l}function f(t){var e=h(t),n=l(e),r=Math.pow(2,2*s);return Array.isArray(n)||(n=Ct(Number.MIN_VALUE,Ot(e)/r,n)),Bs().size([c,u]).thresholds(n.map((t=>t*r)))(e).map(((t,e)=>(t.value=+n[e],p(t))))}function p(t){return t.coordinates.forEach(d),t}function d(t){t.forEach(y)}function y(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,s)-o,t[1]=t[1]*Math.pow(2,s)-o}function b(){return c=r+2*(o=3*a)>>s,u=i+2*o>>s,f}return f.contours=function(t){var e=h(t),n=Bs().size([c,u]),r=Math.pow(2,2*s),o=t=>{t=+t;var o=p(n.contour(e,t*r));return o.value=t,o};return Object.defineProperty(o,"max",{get:()=>Ot(e)/r}),o},f.x=function(e){return arguments.length?(t="function"==typeof e?e:As(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:As(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:As(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return r=e,i=n,b()},f.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),b()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?As(Cs.call(t)):As(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*t*t+1)-1)/2,b()},f},Delaunay:h3,Voronoi:oc,dispatch:ue,drag:function(){var t,e,u,n,r=qn,o=Hn,c=Vn,l=Gn,i={},a=ue("start","drag","end"),s=0,h=0;function f(t){t.on("mousedown.drag",p).filter(l).on("touchstart.drag",m).on("touchmove.drag",b,Rn).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(c,l){if(!n&&r.call(this,c,l)){var h=v(this,o.call(this,c,l),c,l,"mouse");!h||(Nn(c.view).on("mousemove.drag",d,Pn).on("mouseup.drag",y,Pn),Yn(c.view),$n(c),u=!1,t=c.clientX,e=c.clientY,h("start",c))}}function d(n){if(zn(n),!u){var r=n.clientX-t,o=n.clientY-e;u=r*r+o*o>h}i.mouse("drag",n)}function y(t){Nn(t.view).on("mousemove.drag mouseup.drag",null),jn(t.view,u),zn(t),i.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var n,c,l=t.changedTouches,h=o.call(this,t,e),f=l.length;for(n=0;n<f;++n)(c=v(this,h,t,e,l[n].identifier,l[n]))&&($n(t),c("start",t,l[n]))}}function b(t){var e,n,r=t.changedTouches,o=r.length;for(e=0;e<o;++e)(n=i[r[e].identifier])&&(zn(t),n("drag",t,r[e]))}function _(t){var e,r,o=t.changedTouches,c=o.length;for(n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),e=0;e<c;++e)(r=i[o[e].identifier])&&($n(t),r("end",t,o[e]))}function v(t,e,n,r,o,l){var h,d,y,m=a.copy(),_=In(l||n,e);if(null!=(y=c.call(t,new Wn("beforestart",{sourceEvent:n,target:f,identifier:o,active:s,x:_[0],y:_[1],dx:0,dy:0,dispatch:m}),r)))return h=y.x-_[0]||0,d=y.y-_[1]||0,function n(c,l,v){var x,k=_;switch(c){case"start":i[o]=n,x=s++;break;case"end":delete i[o],--s;case"drag":_=In(v||l,e),x=s}m.call(c,t,new Wn(c,{sourceEvent:l,subject:y,target:f,identifier:o,active:x,x:_[0]+h,y:_[1]+d,dx:_[0]-k[0],dy:_[1]-k[1],dispatch:m}),r)}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:Un(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Un(t),f):o},f.subject=function(t){return arguments.length?(c="function"==typeof t?t:Un(t),f):c},f.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Un(!!t),f):l},f.on=function(){var t=a.on.apply(a,arguments);return t===a?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},dragDisable:Yn,dragEnable:jn,dsvFormat:bc,csvParse:vc,csvParseRows:xc,csvFormat:kc,csvFormatBody:wc,csvFormatRows:Ec,csvFormatRow:Tc,csvFormatValue:Cc,tsvParse:Ac,tsvParseRows:Mc,tsvFormat:Nc,tsvFormatBody:Dc,tsvFormatRows:Oc,tsvFormatRow:Lc,tsvFormatValue:Bc,autoType:function(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ic&&!!i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t},easeLinear:t=>+t,easeQuad:eo,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:eo,easeCubic:no,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:no,easePoly:ao,easePolyIn:ro,easePolyOut:io,easePolyInOut:ao,easeSin:co,easeSinIn:function(t){return 1==+t?1:1-Math.cos(t*so)},easeSinOut:function(t){return Math.sin(t*so)},easeSinInOut:co,easeExp:uo,easeExpIn:function(t){return lo(1-+t)},easeExpOut:function(t){return 1-lo(t)},easeExpInOut:uo,easeCircle:ho,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:ho,easeBounce:go,easeBounceIn:function(t){return 1-go(1-t)},easeBounceOut:go,easeBounceInOut:function(t){return((t*=2)<=1?1-go(1-t):go(t-1)+1)/2},easeBack:_o,easeBackIn:mo,easeBackOut:bo,easeBackInOut:_o,easeElastic:ko,easeElasticIn:xo,easeElasticOut:ko,easeElasticInOut:wo,blob:function(t,e){return fetch(t,e).then(Fc)},buffer:function(t,e){return fetch(t,e).then(Rc)},dsv:function(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=bc(t);return $c(e,n).then((function(a){return i.parse(a,r)}))},csv:Yc,tsv:jc,image:function(t,e){return new Promise((function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t}))},json:function(t,e){return fetch(t,e).then(Uc)},text:$c,xml:qc,html:Hc,svg:Vc,forceCenter:function(t,e){var n,r=1;function i(){var a,o,s=n.length,c=0,u=0;for(a=0;a<s;++a)c+=(o=n[a]).x,u+=o.y;for(c=(c/s-t)*r,u=(u/s-e)*r,a=0;a<s;++a)(o=n[a]).x-=c,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i},forceCollide:function(t){var e,n,r,i=1,a=1;function s(){for(var u,t,c,p,l,h,f,d=e.length,b=0;b<a;++b)for(t=Kc(e,il,al).visitAfter(o),u=0;u<d;++u)c=e[u],h=n[c.index],f=h*h,p=c.x+c.vx,l=c.y+c.vy,t.visit(y);function y(t,e,n,o,d){var y=t.data,m=t.r,_=h+m;if(!y)return e>p+_||o<p-_||n>l+_||d<l-_;if(y.index>c.index){var v=p-y.x-y.vx,x=l-y.y-y.vy,k=v*v+x*x;k<_*_&&(0===v&&(k+=(v=rl(r))*v),0===x&&(k+=(x=rl(r))*x),k=(_-(k=Math.sqrt(k)))/k*i,c.vx+=(v*=k)*(_=(m*=m)/(f+m)),c.vy+=(x*=k)*_,y.vx-=v*(_=1-_),y.vy-=x*_)}}}function o(u){if(u.data)return u.r=n[u.data.index];for(var t=u.r=0;t<4;++t)u[t]&&u[t].r>u.r&&(u.r=u[t].r)}function c(){if(e){var u,r,o=e.length;for(n=new Array(o),u=0;u<o;++u)r=e[u],n[r.index]=+t(r,u,e)}}return"function"!=typeof t&&(t=nl(null==t?1:+t)),s.initialize=function(u,t){e=u,r=t,c()},s.iterations=function(u){return arguments.length?(a=+u,s):a},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(t="function"==typeof u?u:nl(+u),c(),s):t},s},forceLink:function(t){var e,a,s,n,r,u,o=sl,c=function(t){return 1/Math.min(n[t.source.index],n[t.target.index])},i=nl(30),l=1;function h(n){for(var b=0,o=t.length;b<l;++b)for(var c,h,f,d,y,m,_,v=0;v<o;++v)h=(c=t[v]).source,d=(f=c.target).x+f.vx-h.x-h.vx||rl(u),y=f.y+f.vy-h.y-h.vy||rl(u),d*=m=((m=Math.sqrt(d*d+y*y))-a[v])/m*n*e[v],y*=m,f.vx-=d*(_=r[v]),f.vy-=y*_,h.vx+=d*(_=1-_),h.vy+=y*_}function p(){if(s){var c,l,b=s.length,h=t.length,y=new Map(s.map(((t,e)=>[o(t,e,s),t])));for(c=0,n=new Array(b);c<h;++c)(l=t[c]).index=c,"object"!=typeof l.source&&(l.source=cl(y,l.source)),"object"!=typeof l.target&&(l.target=cl(y,l.target)),n[l.source.index]=(n[l.source.index]||0)+1,n[l.target.index]=(n[l.target.index]||0)+1;for(c=0,r=new Array(h);c<h;++c)l=t[c],r[c]=n[l.source.index]/(n[l.source.index]+n[l.target.index]);e=new Array(h),f(),a=new Array(h),d()}}function f(){if(s)for(var n=0,b=t.length;n<b;++n)e[n]=+c(t[n],n,t)}function d(){if(s)for(var e=0,b=t.length;e<b;++e)a[e]=+i(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,b){s=t,u=b,p()},h.links=function(e){return arguments.length?(t=e,p(),h):t},h.id=function(t){return arguments.length?(o=t,h):o},h.iterations=function(t){return arguments.length?(l=+t,h):l},h.strength=function(t){return arguments.length?(c="function"==typeof t?t:nl(+t),f(),h):c},h.distance=function(t){return arguments.length?(i="function"==typeof t?t:nl(+t),d(),h):i},h},forceManyBody:function(){var t,e,n,r,a,i=nl(-30),s=1,o=1/0,c=.81;function u(p){var n,o=t.length,c=Kc(t,hl,fl).visitAfter(h);for(r=p,n=0;n<o;++n)e=t[n],c.visit(f)}function l(){if(t){var p,e,n=t.length;for(a=new Array(n),p=0;p<n;++p)e=t[p],a[e.index]=+i(e,p,t)}}function h(p){var t,e,n,r,o,c=0,b=0;if(p.length){for(n=r=o=0;o<4;++o)(t=p[o])&&(e=Math.abs(t.value))&&(c+=t.value,b+=e,n+=e*t.x,r+=e*t.y);p.x=n/b,p.y=r/b}else{(t=p).x=t.data.x,t.y=t.data.y;do{c+=a[t.data.index]}while(t=t.next)}p.value=c}function f(p,t,l,h){if(!p.value)return!0;var b=p.x-e.x,f=p.y-e.y,d=h-t,y=b*b+f*f;if(d*d/c<y)return y<o&&(0===b&&(y+=(b=rl(n))*b),0===f&&(y+=(f=rl(n))*f),y<s&&(y=Math.sqrt(s*y)),e.vx+=b*p.value*r/y,e.vy+=f*p.value*r/y),!0;if(!(p.length||y>=o)){(p.data!==e||p.next)&&(0===b&&(y+=(b=rl(n))*b),0===f&&(y+=(f=rl(n))*f),y<s&&(y=Math.sqrt(s*y)));do{p.data!==e&&(d=a[p.data.index]*r/y,e.vx+=b*d,e.vy+=f*d)}while(p=p.next)}}return u.initialize=function(p,e){t=p,n=e,l()},u.strength=function(p){return arguments.length?(i="function"==typeof p?p:nl(+p),l(),u):i},u.distanceMin=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.distanceMax=function(p){return arguments.length?(o=p*p,u):Math.sqrt(o)},u.theta=function(p){return arguments.length?(c=p*p,u):Math.sqrt(c)},u},forceRadial:function(t,e,n){var r,a,s,i=nl(.1);function o(u){for(var t=0,o=r.length;t<o;++t){var c=r[t],p=c.x-e||1e-6,l=c.y-n||1e-6,h=Math.sqrt(p*p+l*l),f=(s[t]-h)*a[t]*u/h;c.vx+=p*f,c.vy+=l*f}}function c(){if(r){var u,e=r.length;for(a=new Array(e),s=new Array(e),u=0;u<e;++u)s[u]=+t(r[u],u,r),a[u]=isNaN(s[u])?0:+i(r[u],u,r)}}return"function"!=typeof t&&(t=nl(+t)),null==e&&(e=0),null==n&&(n=0),o.initialize=function(u){r=u,c()},o.strength=function(u){return arguments.length?(i="function"==typeof u?u:nl(+u),c(),o):i},o.radius=function(u){return arguments.length?(t="function"==typeof u?u:nl(+u),c(),o):t},o.x=function(u){return arguments.length?(e=+u,o):e},o.y=function(u){return arguments.length?(n=+u,o):n},o},forceSimulation:function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,c=ha(h),u=ue("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%ll)/ll}();function h(){f(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function f(r){var c,l,b=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*i,o.forEach((function(t){t(n)})),c=0;c<b;++c)null==(l=t[c]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return e}function p(){for(var b,e=0,n=t.length;e<n;++e){if((b=t[e]).index=e,null!=b.fx&&(b.x=b.fx),null!=b.fy&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var r=10*Math.sqrt(.5+e),o=e*pl;b.x=r*Math.cos(o),b.y=r*Math.sin(o)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function d(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),o.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(l=t,o.forEach(d),e):l},force:function(t,n){return arguments.length>1?(null==n?o.delete(t):o.set(t,d(n)),e):o.get(t)},find:function(e,n,b){var r,o,c,l,h,f=0,d=t.length;for(null==b?b=1/0:b*=b,f=0;f<d;++f)(c=(r=e-(l=t[f]).x)*r+(o=n-l.y)*o)<b&&(h=l,b=c);return h},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},forceX:function(t){var e,n,i,r=nl(.1);function a(t){for(var r,o=0,u=e.length;o<u;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,c=e.length;for(n=new Array(c),i=new Array(c),o=0;o<c;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=nl(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:nl(+t),s(),a):r},a.x=function(e){return arguments.length?(t="function"==typeof e?e:nl(+e),s(),a):t},a},forceY:function(t){var e,n,i,r=nl(.1);function a(t){for(var r,o=0,u=e.length;o<u;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,c=e.length;for(n=new Array(c),i=new Array(c),o=0;o<c;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=nl(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:nl(+t),s(),a):r},a.y=function(e){return arguments.length?(t="function"==typeof e?e:nl(+e),s(),a):t},a},formatDefaultLocale:Nl,get format(){return Tl},get formatPrefix(){return Cl},formatLocale:Ml,formatSpecifier:_l,FormatSpecifier:vl,precisionFixed:Dl,precisionPrefix:Ol,precisionRound:Ll,geoArea:function(t){return yu=new tt,lu(t,mu),2*yu},geoBounds:function(t){var e,n,r,i,a,s,o;if(Ou=Du=-(Mu=Nu=1/0),Pu=[],lu(t,zu),n=Pu.length){for(Pu.sort(Xu),e=1,a=[r=Pu[0]];e<n;++e)Zu(r,(i=Pu[e])[0])||Zu(r,i[1])?(Gu(r[0],i[1])>Gu(r[0],r[1])&&(r[1]=i[1]),Gu(i[0],r[1])>Gu(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(o=Gu(r[1],i[0]))>s&&(s=o,Mu=i[0],Du=r[1])}return Pu=$u=null,Mu===1/0||Nu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Mu,Nu],[Du,Ou]]},geoCentroid:function(t){Qu=Ku=Ju=eh=nh=rh=ih=ah=0,oh=new tt,sh=new tt,ch=new tt,lu(t,ph);var e=+oh,n=+sh,r=+ch,i=Gl(e,n,r);return i<Il&&(e=rh,n=ih,r=ah,Ku<Bl&&(e=Ju,n=eh,r=nh),(i=Gl(e,n,r))<Il)?[NaN,NaN]:[Wl(n,e)*zl,nu(r/i)*zl]},geoCircle:function(){var t,i,e=Th([0,0]),n=Th(90),r=Th(6),a={point:function(e,u){t.push(e=i(e,u)),e[0]*=zl,e[1]*=zl}};function o(){var o=e.apply(this,arguments),u=n.apply(this,arguments)*Yl,c=r.apply(this,arguments)*Yl;return t=[],i=Ah(-o[0]*Yl,-o[1]*Yl,0).invert,Lh(a,u,c,1),o={type:"Polygon",coordinates:[t]},t=i=null,o}return o.center=function(t){return arguments.length?(e="function"==typeof t?t:Th([+t[0],+t[1]]),o):e},o.radius=function(t){return arguments.length?(n="function"==typeof t?t:Th(+t),o):n},o.precision=function(t){return arguments.length?(r="function"==typeof t?t:Th(+t),o):r},o},geoClipAntimeridian:qh,geoClipCircle:Hh,geoClipExtent:function(){var i,a,s,t=0,e=0,n=960,r=500;return s={stream:function(o){return i&&a===o?i:i=Xh(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}},geoClipRectangle:Xh,geoContains:function(t,e){return(t&&lf.hasOwnProperty(t.type)?lf[t.type]:hf)(t,e)},geoDistance:cf,geoGraticule:_f,geoGraticule10:function(){return _f()()},geoInterpolate:function(t,e){var n=t[0]*Yl,r=t[1]*Yl,i=e[0]*Yl,a=e[1]*Yl,s=ql(r),o=Ql(r),c=ql(a),u=Ql(a),l=s*ql(n),h=s*Ql(n),f=c*ql(i),p=c*Ql(i),d=2*nu(Jl(ru(a-r)+s*c*ru(i-n))),y=Ql(d),m=d?function(b){var t=Ql(b*=d)/y,e=Ql(d-b)/y,n=e*l+t*f,r=e*h+t*p,c=e*o+t*u;return[Wl(r,n)*zl,Wl(c,Jl(n*n+r*r))*zl]}:function(){return[n*zl,r*zl]};return m.distance=d,m},geoLength:af,geoPath:function(t,e){var n,i,r=4.5;function a(s){return s&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),lu(s,n(i))),i.result()}return a.area=function(s){return lu(s,n(Of)),Of.result()},a.measure=function(s){return lu(s,n(xd)),xd.result()},a.bounds=function(s){return lu(s,n(Pf)),Pf.result()},a.centroid=function(s){return lu(s,n(ld)),ld.result()},a.projection=function(s){return arguments.length?(n=null==s?(t=null,vf):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=null==s?(e=null,new kd):new ud(e=s),"function"!=typeof r&&i.pointRadius(r),a):e},a.pointRadius=function(s){return arguments.length?(r="function"==typeof s?s:(i.pointRadius(+s),+s),a):r},a.projection(t).context(e)},geoAlbers:zd,geoAlbersUsa:function(){var t,e,n,a,r,o,c=zd(),i=$d().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=$d().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,p){o=[t,p]}};function l(t){var p=t[0],e=t[1];return o=null,n.point(p,e),o||(a.point(p,e),o)||(r.point(p,e),o)}function h(){return t=e=null,l}return l.invert=function(t){var p=c.scale(),e=c.translate(),n=(t[0]-e[0])/p,r=(t[1]-e[1])/p;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?i:r>=.166&&r<.234&&n>=-.214&&n<-.115?s:c).invert(t)},l.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([c.stream(e=n),i.stream(n),s.stream(n)])},l.precision=function(t){return arguments.length?(c.precision(t),i.precision(t),s.precision(t),h()):c.precision()},l.scale=function(t){return arguments.length?(c.scale(t),i.scale(.35*t),s.scale(t),l.translate(c.translate())):c.scale()},l.translate=function(t){if(!arguments.length)return c.translate();var p=c.scale(),e=+t[0],o=+t[1];return n=c.translate(t).clipExtent([[e-.455*p,o-.238*p],[e+.455*p,o+.238*p]]).stream(u),a=i.translate([e-.307*p,o+.201*p]).clipExtent([[e-.425*p+Bl,o+.12*p+Bl],[e-.214*p-Bl,o+.234*p-Bl]]).stream(u),r=s.translate([e-.205*p,o+.212*p]).clipExtent([[e-.214*p+Bl,o+.166*p+Bl],[e-.115*p-Bl,o+.234*p-Bl]]).stream(u),h()},l.fitExtent=function(t,p){return Sd(l,t,p)},l.fitSize=function(t,p){return Ad(l,t,p)},l.fitWidth=function(t,p){return Md(l,t,p)},l.fitHeight=function(t,p){return Nd(l,t,p)},l.scale(1070)},geoAzimuthalEqualArea:function(){return Id(Ud).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Ud,geoAzimuthalEquidistant:function(){return Id(Wd).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Wd,geoConicConformal:function(){return Rd(Gd).scale(109.5).parallels([30,30])},geoConicConformalRaw:Gd,geoConicEqualArea:$d,geoConicEqualAreaRaw:Pd,geoConicEquidistant:function(){return Rd(Zd).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Zd,geoEqualEarth:function(){return Id(np).scale(177.158)},geoEqualEarthRaw:np,geoEquirectangular:function(){return Id(Xd).scale(152.63)},geoEquirectangularRaw:Xd,geoGnomonic:function(){return Id(ip).scale(144.049).clipAngle(60)},geoGnomonicRaw:ip,geoIdentity:function(){var s,t,u,e,n,r,b,o=1,c=0,l=0,h=1,i=1,a=0,f=null,d=1,p=1,y=Ed({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),m=vf;function _(){return d=o*h,p=o*i,r=b=null,v}function v(e){var n=e[0]*d,r=e[1]*p;if(a){var o=r*s-n*t;n=n*s+r*t,r=o}return[n+c,r+l]}return v.invert=function(e){var n=e[0]-c,r=e[1]-l;if(a){var o=r*s+n*t;n=n*s-r*t,r=o}return[n/d,r/p]},v.stream=function(t){return r&&b===t?r:r=y(m(b=t))},v.postclip=function(t){return arguments.length?(m=t,f=u=e=n=null,_()):m},v.clipExtent=function(t){return arguments.length?(m=null==t?(f=u=e=n=null,vf):Xh(f=+t[0][0],u=+t[0][1],e=+t[1][0],n=+t[1][1]),_()):null==f?null:[[f,u],[e,n]]},v.scale=function(t){return arguments.length?(o=+t,_()):o},v.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],_()):[c,l]},v.angle=function(e){return arguments.length?(t=Ql(a=e%360*Yl),s=ql(a),_()):a*zl},v.reflectX=function(t){return arguments.length?(h=t?-1:1,_()):h<0},v.reflectY=function(t){return arguments.length?(i=t?-1:1,_()):i<0},v.fitExtent=function(t,e){return Sd(v,t,e)},v.fitSize=function(t,e){return Ad(v,t,e)},v.fitWidth=function(t,e){return Md(v,t,e)},v.fitHeight=function(t,e){return Nd(v,t,e)},v},geoProjection:Id,geoProjectionMutator:Fd,geoMercator:function(){return Hd(qd).scale(961/$l)},geoMercatorRaw:qd,geoNaturalEarth1:function(){return Id(ap).scale(175.295)},geoNaturalEarth1Raw:ap,geoOrthographic:function(){return Id(op).scale(249.5).clipAngle(90+Bl)},geoOrthographicRaw:op,geoStereographic:function(){return Id(sp).scale(250).clipAngle(142)},geoStereographicRaw:sp,geoTransverseMercator:function(){var t=Hd(cp),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:cp,geoRotation:Oh,geoStream:lu,geoTransform:function(t){return{stream:Ed(t)}},cluster:function(){var t=lp,e=1,n=1,r=!1;function i(a){var s,o=0;a.eachAfter((function(e){var p=e.children;p?(e.x=function(t){return t.reduce(up,0)/t.length}(p),e.y=function(t){return 1+t.reduce(hp,0)}(p)):(e.x=s?o+=t(e,s):0,e.y=0,s=e)}));var c=function(t){for(var e;e=t.children;)t=e[0];return t}(a),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(a),l=c.x-t(c,u)/2,h=u.x+t(u,c)/2;return a.eachAfter(r?function(t){t.x=(t.x-a.x)*e,t.y=(a.y-t.y)*n}:function(t){t.x=(t.x-l)/(h-l)*e,t.y=(1-(a.y?t.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i},hierarchy:dp,Node:bp,pack:function(){var t=null,e=1,n=1,r=xp;function i(a){const s=Ep();return a.x=e/2,a.y=n/2,t?a.eachBefore($p(t)).eachAfter(zp(r,.5,s)).eachBefore(Yp(1)):a.eachBefore($p(Pp)).eachAfter(zp(xp,1,s)).eachAfter(zp(r,a.r/Math.min(e,n),s)).eachBefore(Yp(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=_p(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r="function"==typeof a?a:kp(+a),i):r},i},packSiblings:function(t){return Rp(t,Ep()),t},packEnclose:function(t){return Tp(t,Ep())},partition:function(){var t=1,e=1,n=0,r=!1;function i(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=t,s.y1=e/o,s.eachBefore(function(s,t){return function(e){e.children&&Up(e,e.x0,s*(e.depth+1)/t,e.x1,s*(e.depth+2)/t);var u=e.x0,r=e.y0,o=e.x1-n,c=e.y1-n;o<u&&(u=o=(u+o)/2),c<r&&(r=c=(r+c)/2),e.x0=u,e.y0=r,e.x1=o,e.y1=c}}(e,o)),r&&s.eachBefore(jp),s}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(t=+s[0],e=+s[1],i):[t,e]},i.padding=function(s){return arguments.length?(n=+s,i):n},i},stratify:function(){var t,e=Hp,n=Vp;function r(i){var r,u,o,c,l,p,h,f,a=Array.from(i),s=e,d=n,y=new Map;if(null!=t){const b=a.map(((e,n)=>function(t){let e=(t=`${t}`).length;return Xp(t,e-1)&&!Xp(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(t(e,n,i)))),e=b.map(Gp),n=new Set(b).add("");for(const t of e)n.has(t)||(n.add(t),b.push(t),e.push(Gp(t)),a.push(dd));s=(t,e)=>b[e],d=(t,n)=>e[n]}for(o=0,r=a.length;o<r;++o)u=a[o],p=a[o]=new bp(u),null!=(h=s(u,o,i))&&(h+="")&&(f=p.id=h,y.set(f,y.has(f)?qp:p)),null!=(h=d(u,o,i))&&(h+="")&&(p.parent=h);for(o=0;o<r;++o)if(h=(p=a[o]).parent){if(!(l=y.get(h)))throw new Error("missing: "+h);if(l===qp)throw new Error("ambiguous: "+h);l.children?l.children.push(p):l.children=[p],p.parent=l}else{if(c)throw new Error("multiple roots");c=p}if(!c)throw new Error("no root");if(null!=t){for(;c.data===dd&&1===c.children.length;)c=c.children[0],--r;for(let b=a.length-1;b>=0&&(p=a[b]).data===dd;--b)p.data=null}if(c.parent=Wp,c.eachBefore((function(b){b.depth=b.parent.depth+1,--r})).eachBefore(mp),c.parent=null,r>0)throw new Error("cycle");return c}return r.id=function(i){return arguments.length?(e=_p(i),r):e},r.parentId=function(i){return arguments.length?(n=_p(i),r):n},r.path=function(i){return arguments.length?(t=_p(i),r):t},r},tree:function(){var t=Zp,e=1,n=1,r=null;function i(u){var c=function(t){for(var e,i,a,s,n,r=new eg(t,0),o=[r];e=o.pop();)if(a=e._.children)for(e.children=new Array(n=a.length),s=n-1;s>=0;--s)o.push(i=e.children[s]=new eg(a[s],s)),i.parent=e;return(r.parent=new eg(null,0)).children=[r],r}(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(o);else{var l=u,h=u,p=u;u.eachBefore((function(t){t.x<l.x&&(l=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)}));var f=l===h?1:t(l,h)/2,d=f-l.x,y=e/(h.x+f+d),b=n/(p.depth||1);u.eachBefore((function(t){t.x=(t.x+d)*y,t.y=t.depth*b}))}return u}function a(u){var e=u.children,n=u.parent.children,r=u.i?n[u.i-1]:null;if(e){!function(t){for(var a,e=0,n=0,r=t.children,i=r.length;--i>=0;)(a=r[i]).z+=e,a.m+=e,e+=a.s+(n+=a.c)}(u);var p=(e[0].z+e[e.length-1].z)/2;r?(u.z=r.z+t(u._,r._),u.m=u.z-p):u.z=p}else r&&(u.z=r.z+t(u._,r._));u.parent.A=function(u,e,n){if(e){for(var r,o=u,p=u,c=e,l=o.parent.children[0],h=o.m,b=p.m,f=c.m,d=l.m;c=Kp(c),o=Qp(o),c&&o;)l=Qp(l),(p=Kp(p)).a=u,(r=c.z+f-o.z-h+t(c._,o._))>0&&(Jp(tg(c,u,n),u,r),h+=r,b+=r),f+=c.m,h+=o.m,d+=l.m,b+=p.m;c&&!Kp(p)&&(p.t=c,p.m+=f-b),o&&!Qp(l)&&(l.t=o,l.m+=h-d,n=u)}return n}(u,r,u.parent.A||n[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function o(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i},treemap:function(){var t=ag,e=!1,n=1,r=1,i=[0],a=xp,s=xp,o=xp,c=xp,u=xp;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(jp),t}function h(e){var p=i[e.depth],n=e.x0+p,r=e.y0+p,l=e.x1-p,b=e.y1-p;l<n&&(n=l=(n+l)/2),b<r&&(r=b=(r+b)/2),e.x0=n,e.y0=r,e.x1=l,e.y1=b,e.children&&(p=i[e.depth+1]=a(e)/2,n+=u(e)-p,r+=s(e)-p,(l-=o(e)-p)<n&&(n=l=(n+l)/2),(b-=c(e)-p)<r&&(r=b=(r+b)/2),t(e,n,r,l,b))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=vp(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:kp(+t),l):a},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:kp(+t),l):s},l.paddingRight=function(t){return arguments.length?(o="function"==typeof t?t:kp(+t),l):o},l.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:kp(+t),l):c},l.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:kp(+t),l):u},l},treemapBinary:function(t,e,n,r,i){var s,o,a=t.children,c=a.length,u=new Array(c+1);for(u[0]=o=s=0;s<c;++s)u[s+1]=o+=a[s].value;!function t(e,n,p,r,o,c,b){if(e>=n-1){var l=a[e];return l.x0=r,l.y0=o,l.x1=c,void(l.y1=b)}for(var h=u[e],f=p/2+h,d=e+1,y=n-1;d<y;){var m=d+y>>>1;u[m]<f?d=m+1:y=m}f-u[d-1]<u[d]-f&&e+1<d&&--d;var _=u[d]-h,v=p-_;if(c-r>b-o){var x=p?(r*v+c*_)/p:c;t(e,d,_,r,o,x,b),t(d,n,v,x,o,c,b)}else{var k=p?(o*v+b*_)/p:b;t(e,d,_,r,o,c,k),t(d,n,v,r,k,c,b)}}(0,c,t.value,e,n,r,i)},treemapDice:Up,treemapSlice:ng,treemapSliceDice:function(t,e,n,r,i){(1&t.depth?ng:Up)(t,e,n,r,i)},treemapSquarify:ag,treemapResquarify:og,interpolate:Di,interpolateArray:function(t,e){return(wi(e)?ki:Ei)(t,e)},interpolateBasis:hi,interpolateBasisClosed:fi,interpolateDate:Ti,interpolateDiscrete:function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},interpolateHue:function(t,e){var n=gi(+t,+e);return function(t){var i=n(t);return i-360*Math.floor(i/360)}},interpolateNumber:Ci,interpolateNumberArray:ki,interpolateObject:Si,interpolateRound:Oi,interpolateString:Ni,interpolateTransformCss:Pi,interpolateTransformSvg:$i,interpolateZoom:Yi,interpolateRgb:bi,interpolateRgbBasis:vi,interpolateRgbBasisClosed:xi,interpolateHsl:Ui,interpolateHslLong:Wi,interpolateLab:function(t,e){var n=mi((t=jr(t)).l,(e=jr(e)).l),r=mi(t.a,e.a),i=mi(t.b,e.b),a=mi(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=a(s),t+""}},interpolateHcl:Hi,interpolateHclLong:Vi,interpolateCubehelix:Xi,interpolateCubehelixLong:Zi,piecewise:Qi,quantize:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},path:ys,polygonArea:function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2},polygonCentroid:function(t){for(var a,e,n=-1,r=t.length,o=0,i=0,s=t[r-1],c=0;++n<r;)a=s,s=t[n],c+=e=a[0]*s[1]-s[0]*a[1],o+=(a[0]+s[0])*e,i+=(a[1]+s[1])*e;return[o/(c*=3),i/c]},polygonHull:function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(cg),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=lg(r),s=lg(i),o=s[0]===a[0],c=s[s.length-1]===a[a.length-1],u=[];for(e=a.length-1;e>=0;--e)u.push(t[r[a[e]][2]]);for(e=+o;e<s.length-c;++e)u.push(t[r[s[e]][2]]);return u},polygonContains:function(t,e){for(var n,u,r=t.length,o=t[r-1],i=e[0],a=e[1],s=o[0],c=o[1],l=!1,h=0;h<r;++h)n=(o=t[h])[0],(u=o[1])>a!=c>a&&i<(s-n)*(a-u)/(c-u)+n&&(l=!l),s=n,c=u;return l},polygonLength:function(t){for(var i,a,e=-1,n=t.length,r=t[n-1],s=r[0],o=r[1],c=0;++e<n;)i=s,a=o,i-=s=(r=t[e])[0],a-=o=r[1],c+=Math.hypot(i,a);return c},quadtree:Kc,randomUniform:hg,randomInt:fg,randomNormal:dg,randomLogNormal:pg,randomBates:yg,randomIrwinHall:gg,randomExponential:mg,randomPareto:bg,randomBernoulli:_g,randomGeometric:vg,randomBinomial:wg,randomGamma:xg,randomBeta:kg,randomWeibull:Eg,randomCauchy:Tg,randomLogistic:Cg,randomPoisson:Sg,randomLcg:function(t=Math.random()){let e=0|(0<=t&&t<1?t/Ag:Math.abs(t));return()=>(e=1664525*e+1013904223|0,Ag*(e>>>0))},scaleBand:Lg,scalePoint:function(){return Bg(Lg.apply(null,arguments).paddingInner(1))},scaleIdentity:function t(e){var n;function r(t){return null==t||isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Ig),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,Ig):[0,1],qg(r)},scaleLinear:Hg,scaleLog:function t(){const e=ty(jg()).domain([1,10]);return e.copy=()=>Yg(e,t()).base(e.base()),Mg.apply(e,arguments),e},scaleSymlog:function t(){var e=ry(jg());return e.copy=function(){return Yg(e,t()).constant(e.constant())},Mg.apply(e,arguments)},scaleOrdinal:Og,scaleImplicit:Dg,scalePow:cy,scaleSqrt:function(){return cy.apply(null,arguments).exponent(.5)},scaleRadial:function t(){var e,n=Ug(),r=[0,1],o=!1;function i(a){var s=uy(n(a));return isNaN(s)?e:o?Math.round(s):s}return i.invert=function(a){return n.invert(ly(a))},i.domain=function(a){return arguments.length?(n.domain(a),i):n.domain()},i.range=function(a){return arguments.length?(n.range((r=Array.from(a,Ig)).map(ly)),i):r.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(o=!!a,i):o},i.clamp=function(a){return arguments.length?(n.clamp(a),i):n.clamp()},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return t(n.domain(),r).round(o).clamp(n.clamp()).unknown(e)},Mg.apply(i,arguments),qg(i)},scaleQuantile:function t(){var e,n=[],r=[],o=[];function i(){var s=0,t=Math.max(1,r.length);for(o=new Array(t-1);++s<t;)o[s-1]=zt(n,s/t);return a}function a(s){return null==s||isNaN(s=+s)?e:r[z(o,s)]}return a.invertExtent=function(s){var t=r.indexOf(s);return t<0?[NaN,NaN]:[t>0?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},a.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let t of s)null!=t&&!isNaN(t=+t)&&n.push(t);return n.sort(N),i()},a.range=function(s){return arguments.length?(r=Array.from(s),i()):r.slice()},a.unknown=function(s){return arguments.length?(e=s,a):e},a.quantiles=function(){return o.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},Mg.apply(a,arguments)},scaleQuantize:function t(){var a,e=0,n=1,r=1,o=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[z(o,t,0,r)]:a}function c(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,c()):[e,n]},s.range=function(t){return arguments.length?(r=(i=Array.from(t)).length-1,c()):i.slice()},s.invertExtent=function(t){var u=i.indexOf(t);return u<0?[NaN,NaN]:u<1?[e,o[0]]:u>=r?[o[r-1],n]:[o[u-1],o[u]]},s.unknown=function(t){return arguments.length&&(a=t),s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([e,n]).range(i).unknown(a)},Mg.apply(qg(s),arguments)},scaleThreshold:function t(){var e,n=[.5],r=[0,1],o=1;function i(a){return null!=a&&a<=a?r[z(n,a,0,o)]:e}return i.domain=function(a){return arguments.length?(n=Array.from(a),o=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(a){return arguments.length?(r=Array.from(a),o=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(a){var s=r.indexOf(a);return[n[s-1],n[s]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return t().domain(n).range(r).unknown(e)},Mg.apply(i,arguments)},scaleTime:v_,scaleUtc:function(){return Mg.apply(__(Im,Fm,Om,Mm,pm,hm,cm,am,Ty,Hm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},scaleSequential:function t(){var e=qg(x_()(Rg));return e.copy=function(){return k_(e,t())},Ng.apply(e,arguments)},scaleSequentialLog:function t(){var e=ty(x_()).domain([1,10]);return e.copy=function(){return k_(e,t()).base(e.base())},Ng.apply(e,arguments)},scaleSequentialPow:w_,scaleSequentialSqrt:function(){return w_.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function t(){var e=ry(x_());return e.copy=function(){return k_(e,t()).constant(e.constant())},Ng.apply(e,arguments)},scaleSequentialQuantile:function t(){var e=[],n=Rg;function r(t){if(null!=t&&!isNaN(t=+t))return n((z(e,t,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let i of t)null!=i&&!isNaN(i=+i)&&e.push(i);return e.sort(N),r},r.interpolator=function(t){return arguments.length?(n=t,r):n},r.range=function(){return e.map(((t,i)=>n(i/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((i,a)=>$t(e,a/t)))},r.copy=function(){return t(n).domain(e)},Ng.apply(r,arguments)},scaleDiverging:function t(){var e=qg(E_()(Rg));return e.copy=function(){return k_(e,t())},Ng.apply(e,arguments)},scaleDivergingLog:function t(){var e=ty(E_()).domain([.1,1,10]);return e.copy=function(){return k_(e,t()).base(e.base())},Ng.apply(e,arguments)},scaleDivergingPow:T_,scaleDivergingSqrt:function(){return T_.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function t(){var e=ry(E_());return e.copy=function(){return k_(e,t()).constant(e.constant())},Ng.apply(e,arguments)},tickFormat:Wg,schemeCategory10:S_,schemeAccent:A_,schemeDark2:M_,schemePaired:N_,schemePastel1:D_,schemePastel2:O_,schemeSet1:L_,schemeSet2:B_,schemeSet3:I_,schemeTableau10:F_,interpolateBrBG:$_,schemeBrBG:P_,interpolatePRGn:Y_,schemePRGn:z_,interpolatePiYG:U_,schemePiYG:j_,interpolatePuOr:q_,schemePuOr:W_,interpolateRdBu:V_,schemeRdBu:H_,interpolateRdGy:X_,schemeRdGy:G_,interpolateRdYlBu:Q_,schemeRdYlBu:Z_,interpolateRdYlGn:J_,schemeRdYlGn:K_,interpolateSpectral:ev,schemeSpectral:tv,interpolateBuGn:rv,schemeBuGn:nv,interpolateBuPu:av,schemeBuPu:iv,interpolateGnBu:sv,schemeGnBu:ov,interpolateOrRd:lv,schemeOrRd:cv,interpolatePuBuGn:hv,schemePuBuGn:uv,interpolatePuBu:dv,schemePuBu:fv,interpolatePuRd:gv,schemePuRd:pv,interpolateRdPu:mv,schemeRdPu:yv,interpolateYlGnBu:_v,schemeYlGnBu:bv,interpolateYlGn:xv,schemeYlGn:vv,interpolateYlOrBr:wv,schemeYlOrBr:kv,interpolateYlOrRd:Tv,schemeYlOrRd:Ev,interpolateBlues:Sv,schemeBlues:Cv,interpolateGreens:Mv,schemeGreens:Av,interpolateGreys:Dv,schemeGreys:Nv,interpolatePurples:Lv,schemePurples:Ov,interpolateReds:Iv,schemeReds:Bv,interpolateOranges:Rv,schemeOranges:Fv,interpolateCividis:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},interpolateCubehelixDefault:Pv,interpolateRainbow:function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Yv.h=360*t-100,Yv.s=1.5-1.5*e,Yv.l=.8-.9*e,Yv+""},interpolateWarm:$v,interpolateCool:zv,interpolateSinebow:function(t){var e;return t=(.5-t)*Math.PI,jv.r=255*(e=Math.sin(t))*e,jv.g=255*(e=Math.sin(t+Uv))*e,jv.b=255*(e=Math.sin(t+Wv))*e,jv+""},interpolateTurbo:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},interpolateViridis:Hv,interpolateMagma:Vv,interpolateInferno:Gv,interpolatePlasma:Xv,create:function(t){return Nn(ve(t).call(document.documentElement))},creator:ve,local:On,matcher:Ce,namespace:me,namespaces:ye,pointer:In,pointers:function(t,e){return t.target&&(t=Bn(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>In(t,e)))},select:Nn,selectAll:Fn,selection:Mn,selector:ke,selectorAll:Te,style:Ze,window:He,arc:mx,area:Tx,line:Ex,pie:Ax,areaRadial:Bx,radialArea:Bx,lineRadial:Lx,radialLine:Lx,pointRadial:Ix,link:Ux,linkHorizontal:function(){return Ux(Px)},linkVertical:function(){return Ux($x)},linkRadial:function(){const t=Ux(zx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},symbol:function(t,e){let n=null;function r(){let i;if(n||(n=i=ys()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:Zv(t||Hx),e="function"==typeof e?e:Zv(void 0===e?64:+e),r.type=function(i){return arguments.length?(t="function"==typeof i?i:Zv(i),r):t},r.size=function(i){return arguments.length?(e="function"==typeof i?i:Zv(+i),r):e},r.context=function(i){return arguments.length?(n=null==i?null:i,r):n},r},symbolsStroke:yk,symbolsFill:gk,symbols:gk,symbolAsterisk:qx,symbolCircle:Hx,symbolCross:Vx,symbolDiamond:Zx,symbolDiamond2:Qx,symbolPlus:Kx,symbolSquare:Jx,symbolSquare2:tk,symbolStar:ik,symbolTriangle:ok,symbolTriangle2:ck,symbolWye:dk,symbolX:pk,curveBasisClosed:kk,curveBasisOpen:Ek,curveBasis:vk,curveBumpX:Px,curveBumpY:$x,curveBundle:Ck,curveCardinalClosed:Dk,curveCardinalOpen:Lk,curveCardinal:Mk,curveCatmullRomClosed:Pk,curveCatmullRomOpen:zk,curveCatmullRom:Fk,curveLinearClosed:jk,curveLinear:xx,curveMonotoneX:Zk,curveMonotoneY:Qk,curveNatural:tw,curveStep:nw,curveStepAfter:iw,curveStepBefore:rw,stack:function(){var t=Zv([]),e=ow,n=aw,r=sw;function i(a){var o,c,s=Array.from(t.apply(this,arguments),cw),l=s.length,u=-1;for(const t of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(t,s[o].key,u,a)]).data=t;for(o=0,c=_x(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t="function"==typeof a?a:Zv(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r="function"==typeof a?a:Zv(+a),i):r},i.order=function(a){return arguments.length?(e=null==a?ow:"function"==typeof a?a:Zv(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=null==a?aw:a,i):n},i},stackOffsetExpand:function(t,e){if((r=t.length)>0){for(var n,r,s,i=0,a=t[0].length;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}aw(t,e)}},stackOffsetDiverging:function(t,e){if((o=t.length)>0)for(var n,i,a,s,r,o,c=0,u=t[e[0]].length;c<u;++c)for(s=r=0,n=0;n<o;++n)(a=(i=t[e[n]][c])[1]-i[0])>0?(i[0]=s,i[1]=s+=a):a<0?(i[1]=r,i[0]=r+=a):(i[0]=0,i[1]=a)},stackOffsetNone:aw,stackOffsetSilhouette:function(t,e){if((i=t.length)>0){for(var i,n=0,r=t[e[0]],a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}aw(t,e)}},stackOffsetWiggle:function(t,e){if((s=t.length)>0&&(a=(i=t[e[0]]).length)>0){for(var i,a,s,n=0,r=1;r<a;++r){for(var o=0,c=0,u=0;o<s;++o){for(var l=t[e[o]],h=l[r][1]||0,p=(h-(l[r-1][1]||0))/2,f=0;f<o;++f){var d=t[e[f]];p+=(d[r][1]||0)-(d[r-1][1]||0)}c+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,aw(t,e)}},stackOrderAppearance:lw,stackOrderAscending:hw,stackOrderDescending:function(t){return hw(t).reverse()},stackOrderInsideOut:function(t){var e,n,r=t.length,i=t.map(fw),a=lw(t),s=0,o=0,c=[],u=[];for(e=0;e<r;++e)n=a[e],s<o?(s+=i[n],c.push(n)):(o+=i[n],u.push(n));return u.reverse().concat(c)},stackOrderNone:ow,stackOrderReverse:function(t){return ow(t).reverse()},timeInterval:dy,timeMillisecond:gy,timeMilliseconds:yy,utcMillisecond:gy,utcMilliseconds:yy,timeSecond:Ty,timeSeconds:Cy,utcSecond:Ty,utcSeconds:Cy,timeMinute:Ay,timeMinutes:My,timeHour:Dy,timeHours:Oy,timeDay:By,timeDays:Iy,timeWeek:Ry,timeWeeks:Wy,timeSunday:Ry,timeSundays:Wy,timeMonday:Py,timeMondays:qy,timeTuesday:$y,timeTuesdays:Hy,timeWednesday:zy,timeWednesdays:Vy,timeThursday:Yy,timeThursdays:Gy,timeFriday:jy,timeFridays:Xy,timeSaturday:Uy,timeSaturdays:Zy,timeMonth:Ky,timeMonths:Jy,timeYear:nm,timeYears:rm,utcMinute:am,utcMinutes:om,utcHour:cm,utcHours:lm,utcDay:hm,utcDays:fm,utcWeek:pm,utcWeeks:xm,utcSunday:pm,utcSundays:xm,utcMonday:gm,utcMondays:km,utcTuesday:ym,utcTuesdays:wm,utcWednesday:mm,utcWednesdays:Em,utcThursday:bm,utcThursdays:Tm,utcFriday:_m,utcFridays:Cm,utcSaturday:vm,utcSaturdays:Sm,utcMonth:Mm,utcMonths:Nm,utcYear:Om,utcYears:Lm,utcTicks:Im,utcTickInterval:Fm,timeTicks:Rm,timeTickInterval:Pm,timeFormatDefaultLocale:h_,get timeFormat(){return Wm},get timeParse(){return qm},get utcFormat(){return Hm},get utcParse(){return Vm},timeFormatLocale:jm,isoFormat:p_,isoParse:y_,now:ca,timer:ha,timerFlush:fa,timeout:ya,interval:function(t,e,n){var r=new ua,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(a,s,t){s=+s,t=null==t?ca():+t,r._restart((function e(u){u+=i,r._restart(e,i+=s,t),a(u)}),s,t)},r.restart(t,e,n),r)},transition:Ka,active:function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new Qa([[t]],Co,e,+i);return null},interrupt:wa,zoom:function(){var t,e,n,r=vw,o=xw,c=Tw,l=ww,i=Ew,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],h=250,f=Yi,u=ue("start","zoom","end"),p=500,d=0,y=10;function b(t){t.property("__zoom",kw).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",C).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new gw(e,t.x,t.y)}function _(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new gw(t.k,r,o)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){k(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){k(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,c=arguments,l=k(t,c).event(r),h=o.apply(t,c),d=null==n?v(h):"function"==typeof n?n.apply(t,c):n,y=Math.max(h[1][0]-h[0][0],h[1][1]-h[0][1]),m=t.__zoom,_="function"==typeof e?e.apply(t,c):e,x=f(m.invert(d).concat(y/m.k),_.invert(d).concat(y/_.k));return function(t){if(1===t)t=_;else{var e=x(t),n=y/e[2];t=new gw(n,d[0]-e[0]*n,d[1]-e[1]*n)}l.zoom(null,t)}}))}function k(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(t,e),this.taps=0}function E(t,...e){if(r.apply(this,arguments)){var n=k(this,e).event(t),o=this.__zoom,h=Math.max(a[0],Math.min(a[1],o.k*Math.pow(2,l.apply(this,arguments)))),f=In(t);if(n.wheel)(n.mouse[0][0]!==f[0]||n.mouse[0][1]!==f[1])&&(n.mouse[1]=o.invert(n.mouse[0]=f)),clearTimeout(n.wheel);else{if(o.k===h)return;n.mouse=[f,o.invert(f)],wa(this),n.start()}_w(t),n.wheel=setTimeout(d,150),n.zoom("mouse",c(_(m(o,h),n.mouse[0],n.mouse[1]),n.extent,s))}function d(){n.wheel=null,n.end()}}function T(t,...e){if(!n&&r.apply(this,arguments)){var o=t.currentTarget,l=k(this,e,!0).event(t),h=Nn(t.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",x,!0),f=In(t,o),y=t.clientX,m=t.clientY;Yn(t.view),bw(t),l.mouse=[f,this.__zoom.invert(f)],wa(this),l.start()}function v(t){if(_w(t),!l.moved){var e=t.clientX-y,n=t.clientY-m;l.moved=e*e+n*n>d}l.event(t).zoom("mouse",c(_(l.that.__zoom,l.mouse[0]=In(t,o),l.mouse[1]),l.extent,s))}function x(t){h.on("mousemove.zoom mouseup.zoom",null),jn(t.view,l.moved),_w(t),l.event(t).end()}}function C(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,l=In(t.changedTouches?t.changedTouches[0]:t,this),f=n.invert(l),d=n.k*(t.shiftKey?.5:2),y=c(_(m(n,d),l,f),o.apply(this,e),s);_w(t),h>0?Nn(this).transition().duration(h).call(x,y,l,t):Nn(this).call(b.transform,y,l,t)}}function S(n,...o){if(r.apply(this,arguments)){var c,l,h,f,d=n.touches,y=d.length,m=k(this,o,n.changedTouches.length===y).event(n);for(bw(n),l=0;l<y;++l)f=[f=In(h=d[l],this),this.__zoom.invert(f),h.identifier],m.touch0?!m.touch1&&m.touch0[2]!==f[2]&&(m.touch1=f,m.taps=0):(m.touch0=f,c=!0,m.taps=1+!!t);t&&(t=clearTimeout(t)),c&&(m.taps<2&&(e=f[0],t=setTimeout((function(){t=null}),p)),wa(this),m.start())}}function A(t,...e){if(this.__zooming){var n,r,o,l,h=k(this,e).event(t),f=t.changedTouches,d=f.length;for(_w(t),n=0;n<d;++n)o=In(r=f[n],this),h.touch0&&h.touch0[2]===r.identifier?h.touch0[0]=o:h.touch1&&h.touch1[2]===r.identifier&&(h.touch1[0]=o);if(r=h.that.__zoom,h.touch1){var y=h.touch0[0],v=h.touch0[1],x=h.touch1[0],w=h.touch1[1],E=(E=x[0]-y[0])*E+(E=x[1]-y[1])*E,T=(T=w[0]-v[0])*T+(T=w[1]-v[1])*T;r=m(r,Math.sqrt(E/T)),o=[(y[0]+x[0])/2,(y[1]+x[1])/2],l=[(v[0]+w[0])/2,(v[1]+w[1])/2]}else{if(!h.touch0)return;o=h.touch0[0],l=h.touch0[1]}h.zoom("touch",c(_(r,o,l),h.extent,s))}}function M(t,...r){if(this.__zooming){var o,c,l=k(this,r).event(t),h=t.changedTouches,f=h.length;for(bw(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<f;++o)c=h[o],l.touch0&&l.touch0[2]===c.identifier?delete l.touch0:l.touch1&&l.touch1[2]===c.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(c=In(c,this),Math.hypot(e[0]-c[0],e[1]-c[1])<y)){var d=Nn(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return b.transform=function(t,e,n,r){var o=t.selection?t.selection():t;o.property("__zoom",kw),t!==o?x(t,e,n,r):o.interrupt().each((function(){k(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},b.scaleBy=function(t,e,n,r){b.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},b.scaleTo=function(t,e,n,r){b.transform(t,(function(){var t=o.apply(this,arguments),r=this.__zoom,l=null==n?v(t):"function"==typeof n?n.apply(this,arguments):n,h=r.invert(l),f="function"==typeof e?e.apply(this,arguments):e;return c(_(m(r,f),l,h),t,s)}),n,r)},b.translateBy=function(t,e,n,r){b.transform(t,(function(){return c(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),s)}),null,r)},b.translateTo=function(t,e,n,r,l){b.transform(t,(function(){var t=o.apply(this,arguments),l=this.__zoom,h=null==r?v(t):"function"==typeof r?r.apply(this,arguments):r;return c(yw.translate(h[0],h[1]).scale(l.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),r,l)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Nn(this.that).datum();u.call(t,this.that,new pw(t,{sourceEvent:this.sourceEvent,target:b,type:t,transform:this.that.__zoom,dispatch:u}),e)}},b.wheelDelta=function(t){return arguments.length?(l="function"==typeof t?t:dw(+t),b):l},b.filter=function(t){return arguments.length?(r="function"==typeof t?t:dw(!!t),b):r},b.touchable=function(t){return arguments.length?(i="function"==typeof t?t:dw(!!t),b):i},b.extent=function(t){return arguments.length?(o="function"==typeof t?t:dw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),b):o},b.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],b):[a[0],a[1]]},b.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(t){return arguments.length?(c=t,b):c},b.duration=function(t){return arguments.length?(h=+t,b):h},b.interpolate=function(t){return arguments.length?(f=t,b):f},b.on=function(){var t=u.on.apply(u,arguments);return t===u?b:t},b.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,b):Math.sqrt(d)},b.tapDistance=function(t){return arguments.length?(y=+t,b):y},b},zoomTransform:mw,zoomIdentity:yw,ZoomTransform:gw},Symbol.toStringTag,{value:"Module"}));function Sw(t){return(Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aw(t,e){return(Aw=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,e)}function Mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function Nw(t,e,n){return(Nw=Mw()?Reflect.construct:function(i,a,s){var t=[null];t.push.apply(t,a);var u=new(Function.bind.apply(i,t));return s&&Aw(u,s.prototype),u}).apply(null,arguments)}function Dw(t){return function(t){if(Array.isArray(t))return Ow(t)}(t)||function(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ow(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lw=Object.hasOwnProperty,Bw=Object.setPrototypeOf,Iw=Object.isFrozen,Fw=Object.getPrototypeOf,Rw=Object.getOwnPropertyDescriptor,Pw=Object.freeze,$w=Object.seal,zw=Object.create,Yw=typeof Reflect<"u"&&Reflect,jw=Yw.apply,Uw=Yw.construct;jw||(jw=function(t,e,n){return t.apply(e,n)}),Pw||(Pw=function(t){return t}),$w||($w=function(t){return t}),Uw||(Uw=function(t,e){return Nw(t,Dw(e))});var Ww=tE(Array.prototype.forEach),qw=tE(Array.prototype.pop),Hw=tE(Array.prototype.push),Vw=tE(String.prototype.toLowerCase),Gw=tE(String.prototype.match),Xw=tE(String.prototype.replace),Zw=tE(String.prototype.indexOf),Qw=tE(String.prototype.trim),Kw=tE(RegExp.prototype.test),Jw=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Uw(t,n)}}(TypeError);function tE(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return jw(t,e,r)}}function eE(t,e,n){n=n||Vw,Bw&&Bw(t,null);for(var r=e.length;r--;){var i=e[r];if("string"==typeof i){var a=n(i);a!==i&&(Iw(e)||(e[r]=a),i=a)}t[i]=!0}return t}function nE(t){var e,n=zw(null);for(e in t)jw(Lw,t,[e])&&(n[e]=t[e]);return n}function rE(t,e){for(;null!==t;){var n=Rw(t,e);if(n){if(n.get)return tE(n.get);if("function"==typeof n.value)return tE(n.value)}t=Fw(t)}return function(i){return console.warn("fallback value for",i),null}}var iE=Pw(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),aE=Pw(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),oE=Pw(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sE=Pw(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),cE=Pw(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),lE=Pw(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uE=Pw(["#text"]),hE=Pw(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fE=Pw(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dE=Pw(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),th=Pw(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pE=$w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gE=$w(/<%[\w\W]*|[\w\W]*%>/gm),yE=$w(/^data-[\-\w.\u00B7-\uFFFF]/),mE=$w(/^aria-[\-\w]+$/),bE=$w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_E=$w(/^(?:\w+script|data):/i),vE=$w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xE=$w(/^html$/i),kE=function(){return typeof window>"u"?null:window},wE=function(t,e){if("object"!==Sw(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(i)&&(n=e.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};var EE=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kE(),n=function(e){return t(e)};if(n.version="2.4.0",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,o=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.Node,c=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,h=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,f=e.HTMLFormElement,d=e.DOMParser,p=e.trustedTypes,y=c.prototype,m=rE(y,"cloneNode"),_=rE(y,"nextSibling"),b=rE(y,"childNodes"),v=rE(y,"parentNode");if("function"==typeof a){var x=o.createElement("template");x.content&&x.content.ownerDocument&&(o=x.content.ownerDocument)}var k=wE(p,r),w=k?k.createHTML(""):"",E=o,T=E.implementation,C=E.createNodeIterator,S=E.createDocumentFragment,A=E.getElementsByTagName,M=r.importNode,N={};try{N=nE(o).documentMode?o.documentMode:{}}catch{}var D={};n.isSupported="function"==typeof v&&T&&typeof T.createHTMLDocument<"u"&&9!==N;var O,L,B=pE,I=gE,F=yE,R=mE,P=_E,$=vE,z=bE,Y=null,j=eE({},[].concat(Dw(iE),Dw(aE),Dw(oE),Dw(cE),Dw(uE))),U=null,W=eE({},[].concat(Dw(hE),Dw(fE),Dw(dE),Dw(th))),H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,G=null,X=!0,Z=!0,Q=!1,q=!1,K=!1,J=!1,tt=!1,et=!1,nt=!1,it=!1,at=!0,ot=!1,st="user-content-",ct=!0,lt=!1,ut={},ht=null,ft=eE({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pt=null,gt=eE({},["audio","video","img","source","image","track"]),yt=null,mt=eE({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),bt="http://www.w3.org/1998/Math/MathML",_t="http://www.w3.org/2000/svg",vt="http://www.w3.org/1999/xhtml",xt=vt,kt=!1,wt=["application/xhtml+xml","text/html"],Et="text/html",Tt=null,Ct=o.createElement("form"),St=function(t){return t instanceof RegExp||t instanceof Function},At=function(t){Tt&&Tt===t||((!t||"object"!==Sw(t))&&(t={}),t=nE(t),O=O=-1===wt.indexOf(t.PARSER_MEDIA_TYPE)?Et:t.PARSER_MEDIA_TYPE,L="application/xhtml+xml"===O?function(t){return t}:Vw,Y="ALLOWED_TAGS"in t?eE({},t.ALLOWED_TAGS,L):j,U="ALLOWED_ATTR"in t?eE({},t.ALLOWED_ATTR,L):W,yt="ADD_URI_SAFE_ATTR"in t?eE(nE(mt),t.ADD_URI_SAFE_ATTR,L):mt,pt="ADD_DATA_URI_TAGS"in t?eE(nE(gt),t.ADD_DATA_URI_TAGS,L):gt,ht="FORBID_CONTENTS"in t?eE({},t.FORBID_CONTENTS,L):ft,V="FORBID_TAGS"in t?eE({},t.FORBID_TAGS,L):{},G="FORBID_ATTR"in t?eE({},t.FORBID_ATTR,L):{},ut="USE_PROFILES"in t&&t.USE_PROFILES,X=!1!==t.ALLOW_ARIA_ATTR,Z=!1!==t.ALLOW_DATA_ATTR,Q=t.ALLOW_UNKNOWN_PROTOCOLS||!1,q=t.SAFE_FOR_TEMPLATES||!1,K=t.WHOLE_DOCUMENT||!1,et=t.RETURN_DOM||!1,nt=t.RETURN_DOM_FRAGMENT||!1,it=t.RETURN_TRUSTED_TYPE||!1,tt=t.FORCE_BODY||!1,at=!1!==t.SANITIZE_DOM,ot=t.SANITIZE_NAMED_PROPS||!1,ct=!1!==t.KEEP_CONTENT,lt=t.IN_PLACE||!1,z=t.ALLOWED_URI_REGEXP||z,xt=t.NAMESPACE||vt,t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(Z=!1),nt&&(et=!0),ut&&(Y=eE({},Dw(uE)),U=[],!0===ut.html&&(eE(Y,iE),eE(U,hE)),!0===ut.svg&&(eE(Y,aE),eE(U,fE),eE(U,th)),!0===ut.svgFilters&&(eE(Y,oE),eE(U,fE),eE(U,th)),!0===ut.mathMl&&(eE(Y,cE),eE(U,dE),eE(U,th))),t.ADD_TAGS&&(Y===j&&(Y=nE(Y)),eE(Y,t.ADD_TAGS,L)),t.ADD_ATTR&&(U===W&&(U=nE(U)),eE(U,t.ADD_ATTR,L)),t.ADD_URI_SAFE_ATTR&&eE(yt,t.ADD_URI_SAFE_ATTR,L),t.FORBID_CONTENTS&&(ht===ft&&(ht=nE(ht)),eE(ht,t.FORBID_CONTENTS,L)),ct&&(Y["#text"]=!0),K&&eE(Y,["html","head","body"]),Y.table&&(eE(Y,["tbody"]),delete V.tbody),Pw&&Pw(t),Tt=t)},Mt=eE({},["mi","mo","mn","ms","mtext"]),Nt=eE({},["foreignobject","desc","title","annotation-xml"]),Dt=eE({},["title","style","font","a","script"]),Ot=eE({},aE);eE(Ot,oE),eE(Ot,sE);var Lt=eE({},cE);eE(Lt,lE);var Bt=function(t){var e=v(t);(!e||!e.tagName)&&(e={namespaceURI:vt,tagName:"template"});var n=Vw(t.tagName),r=Vw(e.tagName);return t.namespaceURI===_t?e.namespaceURI===vt?"svg"===n:e.namespaceURI===bt?"svg"===n&&("annotation-xml"===r||Mt[r]):Boolean(Ot[n]):t.namespaceURI===bt?e.namespaceURI===vt?"math"===n:e.namespaceURI===_t?"math"===n&&Nt[r]:Boolean(Lt[n]):t.namespaceURI===vt&&(!(e.namespaceURI===_t&&!Nt[r]||e.namespaceURI===bt&&!Mt[r])&&(!Lt[n]&&(Dt[n]||!Ot[n])))},It=function(t){Hw(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch{try{t.outerHTML=w}catch{t.remove()}}},Ft=function(t,e){try{Hw(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch{Hw(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!U[t])if(et||nt)try{It(e)}catch{}else try{e.setAttribute(t,"")}catch{}},Rt=function(t){var e,n;if(tt)t="<remove></remove>"+t;else{var r=Gw(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var c=k?k.createHTML(t):t;if(xt===vt)try{e=(new d).parseFromString(c,O)}catch{}if(!e||!e.documentElement){e=T.createDocument(xt,"template",null);try{e.documentElement.innerHTML=kt?"":c}catch{}}var l=e.body||e.documentElement;return t&&n&&l.insertBefore(o.createTextNode(n),l.childNodes[0]||null),xt===vt?A.call(e,K?"html":"body")[0]:K?e.documentElement:l},Pt=function(t){return C.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},$t=function(t){return t instanceof f&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof h)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},zt=function(t){return"object"===Sw(s)?t instanceof s:t&&"object"===Sw(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Yt=function(t,e,r){!D[t]||Ww(D[t],(function(t){t.call(n,e,r,Tt)}))},jt=function(t){var e;if(Yt("beforeSanitizeElements",t,null),$t(t)||Kw(/[\u0080-\uFFFF]/,t.nodeName))return It(t),!0;var r=L(t.nodeName);if(Yt("uponSanitizeElement",t,{tagName:r,allowedTags:Y}),t.hasChildNodes()&&!zt(t.firstElementChild)&&(!zt(t.content)||!zt(t.content.firstElementChild))&&Kw(/<[/\w]/g,t.innerHTML)&&Kw(/<[/\w]/g,t.textContent)||"select"===r&&Kw(/<template/i,t.innerHTML))return It(t),!0;if(!Y[r]||V[r]){if(!V[r]&&Wt(r)&&(H.tagNameCheck instanceof RegExp&&Kw(H.tagNameCheck,r)||H.tagNameCheck instanceof Function&&H.tagNameCheck(r)))return!1;if(ct&&!ht[r]){var o=v(t)||t.parentNode,l=b(t)||t.childNodes;if(l&&o)for(var h=l.length-1;h>=0;--h)o.insertBefore(m(l[h],!0),_(t))}return It(t),!0}return t instanceof c&&!Bt(t)||("noscript"===r||"noembed"===r)&&Kw(/<\/no(script|embed)/i,t.innerHTML)?(It(t),!0):(q&&3===t.nodeType&&(e=t.textContent,e=Xw(e,B," "),e=Xw(e,I," "),t.textContent!==e&&(Hw(n.removed,{element:t.cloneNode()}),t.textContent=e)),Yt("afterSanitizeElements",t,null),!1)},Ut=function(t,e,n){if(at&&("id"===e||"name"===e)&&(n in o||n in Ct))return!1;if((!Z||G[e]||!Kw(F,e))&&(!X||!Kw(R,e)))if(!U[e]||G[e]){if(!(Wt(t)&&(H.tagNameCheck instanceof RegExp&&Kw(H.tagNameCheck,t)||H.tagNameCheck instanceof Function&&H.tagNameCheck(t))&&(H.attributeNameCheck instanceof RegExp&&Kw(H.attributeNameCheck,e)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(e))||"is"===e&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Kw(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(!yt[e]&&!Kw(z,Xw(n,$,""))&&("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==Zw(n,"data:")||!pt[t])&&(!Q||Kw(P,Xw(n,$,"")))&&n)return!1;return!0},Wt=function(t){return t.indexOf("-")>0},qt=function(t){var e,r,o,c;Yt("beforeSanitizeAttributes",t,null);var l=t.attributes;if(l){var h={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};for(c=l.length;c--;){var f=e=l[c],d=f.name,y=f.namespaceURI;if(r="value"===d?e.value:Qw(e.value),o=L(d),h.attrName=o,h.attrValue=r,h.keepAttr=!0,h.forceKeepAttr=void 0,Yt("uponSanitizeAttribute",t,h),r=h.attrValue,!h.forceKeepAttr&&(Ft(d,t),h.keepAttr)){if(Kw(/\/>/i,r)){Ft(d,t);continue}q&&(r=Xw(r,B," "),r=Xw(r,I," "));var m=L(t.nodeName);if(Ut(m,o,r)){if(ot&&("id"===o||"name"===o)&&(Ft(d,t),r=st+r),k&&"object"===Sw(p)&&"function"==typeof p.getAttributeType&&!y)switch(p.getAttributeType(m,o)){case"TrustedHTML":r=k.createHTML(r);break;case"TrustedScriptURL":r=k.createScriptURL(r)}try{y?t.setAttributeNS(y,d,r):t.setAttribute(d,r),qw(n.removed)}catch{}}}}Yt("afterSanitizeAttributes",t,null)}},Ht=function t(e){var n,r=Pt(e);for(Yt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Yt("uponSanitizeShadowNode",n,null),!jt(n)&&(n.content instanceof i&&t(n.content),qt(n));Yt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){var o,c,l,h,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((kt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!zt(t)){if("function"!=typeof t.toString)throw Jw("toString is not a function");if("string"!=typeof(t=t.toString()))throw Jw("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Sw(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(zt(t))return e.toStaticHTML(t.outerHTML)}return t}if(J||At(d),n.removed=[],"string"==typeof t&&(lt=!1),lt){if(t.nodeName){var y=L(t.nodeName);if(!Y[y]||V[y])throw Jw("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof s)1===(c=(o=Rt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?o=c:o.appendChild(c);else{if(!et&&!q&&!K&&-1===t.indexOf("<"))return k&&it?k.createHTML(t):t;if(!(o=Rt(t)))return et?null:it?w:""}o&&tt&&It(o.firstChild);for(var m=Pt(lt?t:o);l=m.nextNode();)3===l.nodeType&&l===h||jt(l)||(l.content instanceof i&&Ht(l.content),qt(l),h=l);if(h=null,lt)return t;if(et){if(nt)for(f=S.call(o.ownerDocument);o.firstChild;)f.appendChild(o.firstChild);else f=o;return U.shadowroot&&(f=M.call(r,f,!0)),f}var _=K?o.outerHTML:o.innerHTML;return K&&Y["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Kw(xE,o.ownerDocument.doctype.name)&&(_="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+_),q&&(_=Xw(_,B," "),_=Xw(_,I," ")),k&&it?k.createHTML(_):_},n.setConfig=function(t){At(t),J=!0},n.clearConfig=function(){Tt=null,J=!1},n.isValidAttribute=function(t,e,n){Tt||At({});var r=L(t),o=L(e);return Ut(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(D[t]=D[t]||[],Hw(D[t],e))},n.removeHook=function(t){if(D[t])return qw(D[t])},n.removeHooks=function(t){D[t]&&(D[t]=[])},n.removeAllHooks=function(){D={}},n}();const TE=t=>EE.sanitize(t),CE=(t,e)=>{var n;if(!1!==(null==(n=e.flowchart)?void 0:n.htmlLabels)){const n=e.securityLevel;"antiscript"===n||"strict"===n?t=TE(t):"loose"!==n&&(t=(t=(t=ME(t)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),t=AE(t))}return t},li=(t,e)=>t&&(t=e.dompurifyConfig?EE.sanitize(CE(t,e),e.dompurifyConfig).toString():EE.sanitize(CE(t,e))),SE=/<br\s*\/?>/gi,AE=t=>t.replace(/#br#/g,"<br/>"),ME=t=>t.replace(SE,"#br#"),NE=t=>!(!1===t||["false","null","0"].includes(String(t).trim().toLowerCase())),DE=function(t){let e=t;return-1!==t.indexOf("~")?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),DE(e)):e},OE={getRows:t=>t?ME(t).replace(/\\n/g,"#br#").split("#br#"):[""],sanitizeText:li,sanitizeTextOrArray:(t,e)=>"string"==typeof t?li(t,e):t.flat().map((t=>li(t,e))),hasBreaks:t=>SE.test(t),splitBreaks:t=>t.split(SE),lineBreakRegex:SE,removeScript:TE,getUrl:t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},evaluate:NE},LE={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return 2.55*n;t/=360,e/=100;const i=(n/=100)<.5?n*(1+e):n+e-n*e,a=2*n-i;switch(r){case"r":return 255*LE.hue2rgb(a,i,t+1/3);case"g":return 255*LE.hue2rgb(a,i,t);case"b":return 255*LE.hue2rgb(a,i,t-1/3)}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),a=Math.min(t,e,n),s=(i+a)/2;if("l"===r)return 100*s;if(i===a)return 0;const o=i-a;if("s"===r)return 100*(s>.5?o/(2-i-a):o/(i+a));switch(i){case t:return 60*((e-n)/o+(e<n?6:0));case e:return 60*((n-t)/o+2);case n:return 60*((t-e)/o+4);default:return-1}}},BE={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},IE={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},FE={channel:LE,lang:BE,unit:IE},RE={};for(let t=0;t<=255;t++)RE[t]=FE.unit.dec2hex(t);const PE=0,$E=1,zE=2;const YE=class{constructor(){this.type=PE}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=PE}is(t){return this.type===t}};const jE=new class{constructor(t,e){this.color=e,this.changed=!1,this.data=t,this.type=new YE}set(t,e){return this.color=e,this.changed=!1,this.data=t,this.type.type=PE,this}_ensureHSL(){const t=this.data,{h:e,s:n,l:i}=t;void 0===e&&(t.h=FE.channel.rgb2hsl(t,"h")),void 0===n&&(t.s=FE.channel.rgb2hsl(t,"s")),void 0===i&&(t.l=FE.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:e,g:n,b:i}=t;void 0===e&&(t.r=FE.channel.hsl2rgb(t,"r")),void 0===n&&(t.g=FE.channel.hsl2rgb(t,"g")),void 0===i&&(t.b=FE.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,e=t.r;return this.type.is(zE)||void 0===e?(this._ensureHSL(),FE.channel.hsl2rgb(t,"r")):e}get g(){const t=this.data,e=t.g;return this.type.is(zE)||void 0===e?(this._ensureHSL(),FE.channel.hsl2rgb(t,"g")):e}get b(){const t=this.data,e=t.b;return this.type.is(zE)||void 0===e?(this._ensureHSL(),FE.channel.hsl2rgb(t,"b")):e}get h(){const t=this.data,e=t.h;return this.type.is($E)||void 0===e?(this._ensureRGB(),FE.channel.rgb2hsl(t,"h")):e}get s(){const t=this.data,e=t.s;return this.type.is($E)||void 0===e?(this._ensureRGB(),FE.channel.rgb2hsl(t,"s")):e}get l(){const t=this.data,e=t.l;return this.type.is($E)||void 0===e?(this._ensureRGB(),FE.channel.rgb2hsl(t,"l")):e}get a(){return this.data.a}set r(t){this.type.set($E),this.changed=!0,this.data.r=t}set g(t){this.type.set($E),this.changed=!0,this.data.g=t}set b(t){this.type.set($E),this.changed=!0,this.data.b=t}set h(t){this.type.set(zE),this.changed=!0,this.data.h=t}set s(t){this.type.set(zE),this.changed=!0,this.data.s=t}set l(t){this.type.set(zE),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}({r:0,g:0,b:0,a:0},"transparent"),UE={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(35!==t.charCodeAt(0))return;const e=t.match(UE.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,a=i%4==0,s=i>4,o=s?1:17,c=s?8:4,u=a?0:-1,l=s?255:15;return jE.set({r:(r>>c*(u+3)&l)*o,g:(r>>c*(u+2)&l)*o,b:(r>>c*(u+1)&l)*o,a:a?(r&l)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${RE[Math.round(e)]}${RE[Math.round(n)]}${RE[Math.round(r)]}${RE[Math.round(255*i)]}`:`#${RE[Math.round(e)]}${RE[Math.round(n)]}${RE[Math.round(r)]}`}},WE=UE,qE={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(qE.hueRe);if(e){const[,t,n]=e;switch(n){case"grad":return FE.channel.clamp.h(.9*parseFloat(t));case"rad":return FE.channel.clamp.h(180*parseFloat(t)/Math.PI);case"turn":return FE.channel.clamp.h(360*parseFloat(t))}}return FE.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(104!==e&&72!==e)return;const n=t.match(qE.re);if(!n)return;const[,r,i,a,s,o]=n;return jE.set({h:qE._hue2deg(r),s:FE.channel.clamp.s(parseFloat(i)),l:FE.channel.clamp.l(parseFloat(a)),a:s?FE.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${FE.lang.round(e)}, ${FE.lang.round(n)}%, ${FE.lang.round(r)}%, ${i})`:`hsl(${FE.lang.round(e)}, ${FE.lang.round(n)}%, ${FE.lang.round(r)}%)`}},HE=qE,VE={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=VE.colors[t];if(e)return WE.parse(e)},stringify:t=>{const e=WE.stringify(t);for(const t in VE.colors)if(VE.colors[t]===e)return t}},GE=VE,XE={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(114!==e&&82!==e)return;const n=t.match(XE.re);if(!n)return;const[,r,i,a,s,o,c,u,l]=n;return jE.set({r:FE.channel.clamp.r(i?2.55*parseFloat(r):parseFloat(r)),g:FE.channel.clamp.g(s?2.55*parseFloat(a):parseFloat(a)),b:FE.channel.clamp.b(c?2.55*parseFloat(o):parseFloat(o)),a:u?FE.channel.clamp.a(l?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${FE.lang.round(e)}, ${FE.lang.round(n)}, ${FE.lang.round(r)}, ${FE.lang.round(i)})`:`rgb(${FE.lang.round(e)}, ${FE.lang.round(n)}, ${FE.lang.round(r)})`}},ZE=XE,QE={format:{keyword:GE,hex:WE,rgb:ZE,rgba:ZE,hsl:HE,hsla:HE},parse:t=>{if("string"!=typeof t)return t;const e=WE.parse(t)||ZE.parse(t)||HE.parse(t)||GE.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(zE)||void 0===t.data.r?HE.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?ZE.stringify(t):WE.stringify(t)},KE=QE,JE=(t,e)=>{const n=KE.parse(t);for(const t in e)n[t]=FE.channel.clamp[t](e[t]);return KE.stringify(n)},tT=(t,e,n=0,r=1)=>{if("number"!=typeof t)return JE(t,{a:e});const i=jE.set({r:FE.channel.clamp.r(t),g:FE.channel.clamp.g(e),b:FE.channel.clamp.b(n),a:FE.channel.clamp.a(r)});return KE.stringify(i)},eT=(t,e,n)=>{const r=KE.parse(t),i=r[e],a=FE.channel.clamp[e](i+n);return i!==a&&(r[e]=a),KE.stringify(r)},nT=(t,e)=>eT(t,"l",e),rT=(t,e)=>eT(t,"l",-e),iT=(t,e)=>{const n=KE.parse(t),r={};for(const i in e)!e[i]||(r[i]=n[i]+e[i]);return JE(t,r)},aT=(t,e,n=50)=>{const{r:r,g:i,b:a,a:s}=KE.parse(t),{r:o,g:c,b:u,a:l}=KE.parse(e),h=n/100,f=2*h-1,p=s-l,d=((f*p==-1?f:(f+p)/(1+f*p))+1)/2,y=1-d;return tT(r*d+o*y,i*d+c*y,a*d+u*y,s*h+l*(1-h))},oT=(t,e=100)=>{const n=KE.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,aT(n,t,e)},sT=(t,e)=>iT(t,e?{s:-40,l:10}:{s:-40,l:-10}),cT="#ffffff",lT="#f2f2f2";class uT{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||iT(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||iT(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||sT(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||sT(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||sT(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||sT(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||oT(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||oT(this.tertiaryColor),this.lineColor=this.lineColor||oT(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?rT(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||rT(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||oT(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||nT(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||iT(this.primaryColor,{h:30}),this.cScale4=this.cScale4||iT(this.primaryColor,{h:60}),this.cScale5=this.cScale5||iT(this.primaryColor,{h:90}),this.cScale6=this.cScale6||iT(this.primaryColor,{h:120}),this.cScale7=this.cScale7||iT(this.primaryColor,{h:150}),this.cScale8=this.cScale8||iT(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||iT(this.primaryColor,{h:270}),this.cScale10=this.cScale10||iT(this.primaryColor,{h:300}),this.cScale11=this.cScale11||iT(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=rT(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=rT(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||oT(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||nT(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||rT(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||iT(this.primaryColor,{h:64}),this.fillType3=this.fillType3||iT(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||iT(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||iT(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||iT(this.primaryColor,{h:128}),this.fillType7=this.fillType7||iT(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||iT(this.primaryColor,{l:-10}),this.pie5=this.pie5||iT(this.secondaryColor,{l:-10}),this.pie6=this.pie6||iT(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||iT(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||iT(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||iT(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||iT(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||iT(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||iT(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?rT(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iT(this.primaryColor,{h:-30}),this.git4=this.git4||iT(this.primaryColor,{h:-60}),this.git5=this.git5||iT(this.primaryColor,{h:-90}),this.git6=this.git6||iT(this.primaryColor,{h:60}),this.git7=this.git7||iT(this.primaryColor,{h:120}),this.darkMode?(this.git0=nT(this.git0,25),this.git1=nT(this.git1,25),this.git2=nT(this.git2,25),this.git3=nT(this.git3,25),this.git4=nT(this.git4,25),this.git5=nT(this.git5,25),this.git6=nT(this.git6,25),this.git7=nT(this.git7,25)):(this.git0=rT(this.git0,25),this.git1=rT(this.git1,25),this.git2=rT(this.git2,25),this.git3=rT(this.git3,25),this.git4=rT(this.git4,25),this.git5=rT(this.git5,25),this.git6=rT(this.git6,25),this.git7=rT(this.git7,25)),this.gitInv0=this.gitInv0||oT(this.git0),this.gitInv1=this.gitInv1||oT(this.git1),this.gitInv2=this.gitInv2||oT(this.git2),this.gitInv3=this.gitInv3||oT(this.git3),this.gitInv4=this.gitInv4||oT(this.git4),this.gitInv5=this.gitInv5||oT(this.git5),this.gitInv6=this.gitInv6||oT(this.git6),this.gitInv7=this.gitInv7||oT(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cT,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lT}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class hT{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=nT(this.primaryColor,16),this.tertiaryColor=iT(this.primaryColor,{h:-160}),this.primaryBorderColor=oT(this.background),this.secondaryBorderColor=sT(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sT(this.tertiaryColor,this.darkMode),this.primaryTextColor=oT(this.primaryColor),this.secondaryTextColor=oT(this.secondaryColor),this.tertiaryTextColor=oT(this.tertiaryColor),this.lineColor=oT(this.background),this.textColor=oT(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=nT(oT("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=tT(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=rT("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=tT(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=tT(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=nT(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=nT(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=nT(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iT(this.primaryColor,{h:64}),this.fillType3=iT(this.secondaryColor,{h:64}),this.fillType4=iT(this.primaryColor,{h:-64}),this.fillType5=iT(this.secondaryColor,{h:-64}),this.fillType6=iT(this.primaryColor,{h:128}),this.fillType7=iT(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||iT(this.primaryColor,{h:30}),this.cScale4=this.cScale4||iT(this.primaryColor,{h:60}),this.cScale5=this.cScale5||iT(this.primaryColor,{h:90}),this.cScale6=this.cScale6||iT(this.primaryColor,{h:120}),this.cScale7=this.cScale7||iT(this.primaryColor,{h:150}),this.cScale8=this.cScale8||iT(this.primaryColor,{h:210}),this.cScale9=this.cScale9||iT(this.primaryColor,{h:270}),this.cScale10=this.cScale10||iT(this.primaryColor,{h:300}),this.cScale11=this.cScale11||iT(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||oT(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||nT(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?rT(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=nT(this.secondaryColor,20),this.git1=nT(this.pie2||this.secondaryColor,20),this.git2=nT(this.pie3||this.tertiaryColor,20),this.git3=nT(this.pie4||iT(this.primaryColor,{h:-30}),20),this.git4=nT(this.pie5||iT(this.primaryColor,{h:-60}),20),this.git5=nT(this.pie6||iT(this.primaryColor,{h:-90}),10),this.git6=nT(this.pie7||iT(this.primaryColor,{h:60}),10),this.git7=nT(this.pie8||iT(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||oT(this.git0),this.gitInv1=this.gitInv1||oT(this.git1),this.gitInv2=this.gitInv2||oT(this.git2),this.gitInv3=this.gitInv3||oT(this.git3),this.gitInv4=this.gitInv4||oT(this.git4),this.gitInv5=this.gitInv5||oT(this.git5),this.gitInv6=this.gitInv6||oT(this.git6),this.gitInv7=this.gitInv7||oT(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||nT(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||nT(this.background,2)}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class fT{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=iT(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=iT(this.primaryColor,{h:-160}),this.primaryBorderColor=sT(this.primaryColor,this.darkMode),this.secondaryBorderColor=sT(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sT(this.tertiaryColor,this.darkMode),this.primaryTextColor=oT(this.primaryColor),this.secondaryTextColor=oT(this.secondaryColor),this.tertiaryTextColor=oT(this.tertiaryColor),this.lineColor=oT(this.background),this.textColor=oT(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=tT(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||iT(this.primaryColor,{h:30}),this.cScale4=this.cScale4||iT(this.primaryColor,{h:60}),this.cScale5=this.cScale5||iT(this.primaryColor,{h:90}),this.cScale6=this.cScale6||iT(this.primaryColor,{h:120}),this.cScale7=this.cScale7||iT(this.primaryColor,{h:150}),this.cScale8=this.cScale8||iT(this.primaryColor,{h:210}),this.cScale9=this.cScale9||iT(this.primaryColor,{h:270}),this.cScale10=this.cScale10||iT(this.primaryColor,{h:300}),this.cScale11=this.cScale11||iT(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||rT(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||rT(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=rT(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||rT(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||iT(this["cScale"+t],{h:180});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||oT(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||oT(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=nT(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iT(this.primaryColor,{h:64}),this.fillType3=iT(this.secondaryColor,{h:64}),this.fillType4=iT(this.primaryColor,{h:-64}),this.fillType5=iT(this.secondaryColor,{h:-64}),this.fillType6=iT(this.primaryColor,{h:128}),this.fillType7=iT(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||iT(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||iT(this.primaryColor,{l:-10}),this.pie5=this.pie5||iT(this.secondaryColor,{l:-30}),this.pie6=this.pie6||iT(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||iT(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||iT(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||iT(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||iT(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||iT(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||iT(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iT(this.primaryColor,{h:-30}),this.git4=this.git4||iT(this.primaryColor,{h:-60}),this.git5=this.git5||iT(this.primaryColor,{h:-90}),this.git6=this.git6||iT(this.primaryColor,{h:60}),this.git7=this.git7||iT(this.primaryColor,{h:120}),this.darkMode?(this.git0=nT(this.git0,25),this.git1=nT(this.git1,25),this.git2=nT(this.git2,25),this.git3=nT(this.git3,25),this.git4=nT(this.git4,25),this.git5=nT(this.git5,25),this.git6=nT(this.git6,25),this.git7=nT(this.git7,25)):(this.git0=rT(this.git0,25),this.git1=rT(this.git1,25),this.git2=rT(this.git2,25),this.git3=rT(this.git3,25),this.git4=rT(this.git4,25),this.git5=rT(this.git5,25),this.git6=rT(this.git6,25),this.git7=rT(this.git7,25)),this.gitInv0=this.gitInv0||rT(oT(this.git0),25),this.gitInv1=this.gitInv1||oT(this.git1),this.gitInv2=this.gitInv2||oT(this.git2),this.gitInv3=this.gitInv3||oT(this.git3),this.gitInv4=this.gitInv4||oT(this.git4),this.gitInv5=this.gitInv5||oT(this.git5),this.gitInv6=this.gitInv6||oT(this.git6),this.gitInv7=this.gitInv7||oT(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||oT(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||oT(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cT,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lT}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class dT{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=nT("#cde498",10),this.primaryBorderColor=sT(this.primaryColor,this.darkMode),this.secondaryBorderColor=sT(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sT(this.tertiaryColor,this.darkMode),this.primaryTextColor=oT(this.primaryColor),this.secondaryTextColor=oT(this.secondaryColor),this.tertiaryTextColor=oT(this.primaryColor),this.lineColor=oT(this.background),this.textColor=oT(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||iT(this.primaryColor,{h:30}),this.cScale4=this.cScale4||iT(this.primaryColor,{h:60}),this.cScale5=this.cScale5||iT(this.primaryColor,{h:90}),this.cScale6=this.cScale6||iT(this.primaryColor,{h:120}),this.cScale7=this.cScale7||iT(this.primaryColor,{h:150}),this.cScale8=this.cScale8||iT(this.primaryColor,{h:210}),this.cScale9=this.cScale9||iT(this.primaryColor,{h:270}),this.cScale10=this.cScale10||iT(this.primaryColor,{h:300}),this.cScale11=this.cScale11||iT(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||rT(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||rT(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=rT(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||rT(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||iT(this["cScale"+t],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=rT(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iT(this.primaryColor,{h:64}),this.fillType3=iT(this.secondaryColor,{h:64}),this.fillType4=iT(this.primaryColor,{h:-64}),this.fillType5=iT(this.secondaryColor,{h:-64}),this.fillType6=iT(this.primaryColor,{h:128}),this.fillType7=iT(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||iT(this.primaryColor,{l:-30}),this.pie5=this.pie5||iT(this.secondaryColor,{l:-30}),this.pie6=this.pie6||iT(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||iT(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||iT(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||iT(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||iT(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||iT(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||iT(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iT(this.primaryColor,{h:-30}),this.git4=this.git4||iT(this.primaryColor,{h:-60}),this.git5=this.git5||iT(this.primaryColor,{h:-90}),this.git6=this.git6||iT(this.primaryColor,{h:60}),this.git7=this.git7||iT(this.primaryColor,{h:120}),this.darkMode?(this.git0=nT(this.git0,25),this.git1=nT(this.git1,25),this.git2=nT(this.git2,25),this.git3=nT(this.git3,25),this.git4=nT(this.git4,25),this.git5=nT(this.git5,25),this.git6=nT(this.git6,25),this.git7=nT(this.git7,25)):(this.git0=rT(this.git0,25),this.git1=rT(this.git1,25),this.git2=rT(this.git2,25),this.git3=rT(this.git3,25),this.git4=rT(this.git4,25),this.git5=rT(this.git5,25),this.git6=rT(this.git6,25),this.git7=rT(this.git7,25)),this.gitInv0=this.gitInv0||oT(this.git0),this.gitInv1=this.gitInv1||oT(this.git1),this.gitInv2=this.gitInv2||oT(this.git2),this.gitInv3=this.gitInv3||oT(this.git3),this.gitInv4=this.gitInv4||oT(this.git4),this.gitInv5=this.gitInv5||oT(this.git5),this.gitInv6=this.gitInv6||oT(this.git6),this.gitInv7=this.gitInv7||oT(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cT,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lT}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class pT{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=nT(this.contrast,55),this.background="#ffffff",this.tertiaryColor=iT(this.primaryColor,{h:-160}),this.primaryBorderColor=sT(this.primaryColor,this.darkMode),this.secondaryBorderColor=sT(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=sT(this.tertiaryColor,this.darkMode),this.primaryTextColor=oT(this.primaryColor),this.secondaryTextColor=oT(this.secondaryColor),this.tertiaryTextColor=oT(this.tertiaryColor),this.lineColor=oT(this.background),this.textColor=oT(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=nT(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||oT(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||nT(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||rT(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=nT(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=nT(this.contrast,30),this.sectionBkgColor2=nT(this.contrast,30),this.taskBorderColor=rT(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=nT(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=rT(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iT(this.primaryColor,{h:64}),this.fillType3=iT(this.secondaryColor,{h:64}),this.fillType4=iT(this.primaryColor,{h:-64}),this.fillType5=iT(this.secondaryColor,{h:-64}),this.fillType6=iT(this.primaryColor,{h:128}),this.fillType7=iT(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=rT(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||iT(this.primaryColor,{h:-30}),this.git4=this.pie5||iT(this.primaryColor,{h:-60}),this.git5=this.pie6||iT(this.primaryColor,{h:-90}),this.git6=this.pie7||iT(this.primaryColor,{h:60}),this.git7=this.pie8||iT(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||oT(this.git0),this.gitInv1=this.gitInv1||oT(this.git1),this.gitInv2=this.gitInv2||oT(this.git2),this.gitInv3=this.gitInv3||oT(this.git3),this.gitInv4=this.gitInv4||oT(this.git4),this.gitInv5=this.gitInv5||oT(this.git5),this.gitInv6=this.gitInv6||oT(this.git6),this.gitInv7=this.gitInv7||oT(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cT,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lT}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}const gT={base:{getThemeVariables:t=>{const e=new uT;return e.calculate(t),e}},dark:{getThemeVariables:t=>{const e=new hT;return e.calculate(t),e}},default:{getThemeVariables:t=>{const e=new fT;return e.calculate(t),e}},forest:{getThemeVariables:t=>{const e=new dT;return e.calculate(t),e}},neutral:{getThemeVariables:t=>{const e=new pT;return e.calculate(t),e}}},yT={theme:"default",themeVariables:gT.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};yT.class&&(yT.class.arrowMarkerAbsolute=yT.arrowMarkerAbsolute),yT.gitGraph&&(yT.gitGraph.arrowMarkerAbsolute=yT.arrowMarkerAbsolute);const mT=(t,e="")=>Object.keys(t).reduce(((n,r)=>Array.isArray(t[r])?n:"object"==typeof t[r]&&null!==t[r]?[...n,e+r,...mT(t[r],"")]:[...n,e+r]),[]),bT=mT(yT,""),_T=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,vT=/\s*%%.*\n/gm,xT={},kT=function(t,e){t=t.replace(_T,"").replace(vT,"\n");for(const[n,{detector:r}]of Object.entries(xT))if(r(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},wT=(t,e,n)=>{if(xT[t])throw new Error(`Detector with key ${t} already exists`);xT[t]={detector:e,loader:n},v.debug(`Detector with key ${t} added${n?" with loader":""}`)},ET=function(t,e,n){const{depth:r,clobber:i}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach((a=>ET(t,a,n))),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach((a=>{-1===t.indexOf(a)&&t.push(a)})),t):typeof t>"u"||r<=0?null!=t&&"object"==typeof t&&"object"==typeof e?Object.assign(t,e):e:(typeof e<"u"&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).forEach((a=>{"object"!=typeof e[a]||void 0!==t[a]&&"object"!=typeof t[a]?(i||"object"!=typeof t[a]&&"object"!=typeof e[a])&&(t[a]=e[a]):(void 0===t[a]&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=ET(t[a],e[a],{depth:r-1,clobber:i}))})),t)};var TT="object"==typeof l&&l&&l.Object===Object&&l,CT=TT,ST="object"==typeof self&&self&&self.Object===Object&&self,AT=CT||ST||Function("return this")(),ol=AT.Symbol,MT=ol,NT=Object.prototype,DT=NT.hasOwnProperty,OT=NT.toString,LT=MT?MT.toStringTag:void 0;var BT=function(t){var e=DT.call(t,LT),n=t[LT];try{t[LT]=void 0;var r=!0}catch{}var i=OT.call(t);return r&&(e?t[LT]=n:delete t[LT]),i},IT=Object.prototype.toString;var FT=function(t){return IT.call(t)},RT=BT,PT=FT,$T=ol?ol.toStringTag:void 0;var zT=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$T&&$T in Object(t)?RT(t):PT(t)};var YT=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},jT=zT,UT=YT;var WT=function(t){if(!UT(t))return!1;var e=jT(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},qT=AT["__core-js_shared__"],HT=function(){var t=/[^.]+$/.exec(qT&&qT.keys&&qT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var VT=function(t){return!!HT&&HT in t},GT=Function.prototype.toString;var XT=function(t){if(null!=t){try{return GT.call(t)}catch{}try{return t+""}catch{}}return""},ZT=WT,QT=VT,KT=YT,JT=XT,tC=/^\[object .+?Constructor\]$/,eC=Function.prototype,nC=Object.prototype,rC=eC.toString,iC=nC.hasOwnProperty,aC=RegExp("^"+rC.call(iC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var oC=function(t){return!(!KT(t)||QT(t))&&(ZT(t)?aC:tC).test(JT(t))};var sC=function(t,e){return null==t?void 0:t[e]},cC=oC,lC=sC;var uC=function(t,e){var n=lC(t,e);return cC(n)?n:void 0},hC=uC(Object,"create"),fC=hC;var dC=function(){this.__data__=fC?fC(null):{},this.size=0};var pC=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gC=hC,yC=Object.prototype.hasOwnProperty;var mC=function(t){var e=this.__data__;if(gC){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return yC.call(e,t)?e[t]:void 0},bC=hC,_C=Object.prototype.hasOwnProperty;var vC=function(t){var e=this.__data__;return bC?void 0!==e[t]:_C.call(e,t)},xC=hC;var kC=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xC&&void 0===e?"__lodash_hash_undefined__":e,this},wC=dC,EC=pC,TC=mC,CC=vC,SC=kC;function AC(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}AC.prototype.clear=wC,AC.prototype.delete=EC,AC.prototype.get=TC,AC.prototype.has=CC,AC.prototype.set=SC;var MC=AC;var NC=function(){this.__data__=[],this.size=0};var ul=function(t,e){return t===e||t!=t&&e!=e},DC=ul;var OC=function(t,e){for(var n=t.length;n--;)if(DC(t[n][0],e))return n;return-1},LC=OC,BC=Array.prototype.splice;var IC=function(t){var e=this.__data__,n=LC(e,t);return!(n<0)&&(n==e.length-1?e.pop():BC.call(e,n,1),--this.size,!0)},FC=OC;var RC=function(t){var e=this.__data__,n=FC(e,t);return n<0?void 0:e[n][1]},PC=OC;var $C=function(t){return PC(this.__data__,t)>-1},zC=OC;var YC=function(t,e){var n=this.__data__,r=zC(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},jC=NC,UC=IC,WC=RC,qC=$C,HC=YC;function VC(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}VC.prototype.clear=jC,VC.prototype.delete=UC,VC.prototype.get=WC,VC.prototype.has=qC,VC.prototype.set=HC;var GC=VC,XC=uC(AT,"Map"),ZC=MC,QC=GC,KC=XC;var JC=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},tS=JC;var eS=function(t,e){var n=t.__data__;return tS(e)?n["string"==typeof e?"string":"hash"]:n.map},nS=eS;var rS=function(t){var e=nS(this,t).delete(t);return this.size-=e?1:0,e},iS=eS;var aS=function(t){return iS(this,t).get(t)},oS=eS;var sS=function(t){return oS(this,t).has(t)},cS=eS;var lS=function(t,e){var n=cS(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},uS=function(){this.size=0,this.__data__={hash:new ZC,map:new(KC||QC),string:new ZC}},hS=rS,fS=aS,dS=sS,pS=lS;function gS(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gS.prototype.clear=uS,gS.prototype.delete=hS,gS.prototype.get=fS,gS.prototype.has=dS,gS.prototype.set=pS;var h4=gS,yS=h4;function mS(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(mS.Cache||yS),n}mS.Cache=yS;var bS=mS;const _S={curveBasis:vk,curveBasisClosed:kk,curveBasisOpen:Ek,curveLinear:xx,curveLinearClosed:jk,curveMonotoneX:Zk,curveMonotoneY:Qk,curveNatural:tw,curveStep:nw,curveStepAfter:iw,curveStepBefore:rw},vS=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,xS=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,kS=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${xS.source})(?=[}][%]{2}).*\n`,"ig");let r;t=t.trim().replace(n,"").replace(/'/gm,'"'),v.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);const i=[];for(;null!==(r=vS.exec(t));)if(r.index===vS.lastIndex&&vS.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const a=r[1]?r[1]:r[2],s=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:a,args:s})}return 0===i.length&&i.push({type:t,args:null}),1===i.length?i[0]:i}catch(n){return v.error(`ERROR: ${n.message} - Unable to parse directive\n      ${null!==e?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},wS=(t,e)=>{if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return _S[n]||e},ES=(t,e)=>t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0,TS=t=>{let e="",n="";for(let r=0;r<t.length;r++)typeof t[r]<"u"&&(t[r].startsWith("color:")||t[r].startsWith("text-align:")?n=n+t[r]+";":e=e+t[r]+";");return{style:e,labelStyle:n}};let CS=0;const SS=()=>(CS++,"id-"+Math.random().toString(36).substr(2,12)+"-"+CS);const AS=t=>function(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}(t.length),MS=function(t,e){const n=e.text.replace(OE.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),typeof e.class<"u"&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.attr("fill",e.fill),i.text(n),r},NS=bS(((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),OE.lineBreakRegex.test(t)))return t;const r=t.split(" "),i=[];let a="";return r.forEach(((s,t)=>{const o=LS(`${s} `,n),u=LS(a,n);if(o>e){const{hyphenatedStrings:t,remainingWord:p}=DS(s,e,"-",n);i.push(a,...t),a=p}else u+o>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");t+1===r.length&&i.push(a)})),i.filter((s=>""!==s)).join(n.joinWith)}),((t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`)),DS=bS(((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=t.split(""),a=[];let s="";return i.forEach(((t,o)=>{const u=`${s}${t}`;if(LS(u,r)>=e){const t=o+1,e=i.length===t,p=`${u}${n}`;a.push(e?u:p),s=""}else s=u})),{hyphenatedStrings:a,remainingWord:s}}),((t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`)),OS=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),BS(t,e).height},LS=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),BS(t,e).width},BS=bS((function(t,e){e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:r,fontWeight:i}=e;if(!t)return{width:0,height:0};const a=["sans-serif",r],s=t.split(OE.lineBreakRegex),o=[],c=Nn("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const t of a){let e=0;const p={width:0,height:0,lineHeight:0};for(const r of s){const o={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};o.text=r;const c=MS(u,o).style("font-size",n).style("font-weight",i).style("font-family",t),b=(c._groups||c)[0][0].getBBox();p.width=Math.round(Math.max(p.width,b.width)),e=Math.round(b.height),p.height+=e,p.lineHeight=Math.round(Math.max(p.lineHeight,e))}o.push(p)}u.remove();return o[isNaN(o[1].height)||isNaN(o[1].width)||isNaN(o[1].lineHeight)||o[0].height>o[1].height&&o[0].width>o[1].width&&o[0].lineHeight>o[1].lineHeight?0:1]}),((t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`));let IS;const FS=t=>{if(v.debug("directiveSanitizer called with",t),"object"==typeof t&&(t.length?t.forEach((t=>FS(t))):Object.keys(t).forEach((e=>{v.debug("Checking key",e),0===e.indexOf("__")&&(v.debug("sanitize deleting __ option",e),delete t[e]),e.indexOf("proto")>=0&&(v.debug("sanitize deleting proto option",e),delete t[e]),e.indexOf("constr")>=0&&(v.debug("sanitize deleting constr option",e),delete t[e]),e.indexOf("themeCSS")>=0&&(v.debug("sanitizing themeCss option"),t[e]=RS(t[e])),e.indexOf("fontFamily")>=0&&(v.debug("sanitizing fontFamily option"),t[e]=RS(t[e])),e.indexOf("altFontFamily")>=0&&(v.debug("sanitizing altFontFamily option"),t[e]=RS(t[e])),bT.indexOf(e)<0?(v.debug("sanitize deleting option",e),delete t[e]):"object"==typeof t[e]&&(v.debug("sanitize deleting object",e),FS(t[e]))}))),t.themeVariables){const e=Object.keys(t.themeVariables);for(let n=0;n<e.length;n++){const r=e[n],i=t.themeVariables[r];i&&i.match&&!i.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(t.themeVariables[r]="")}}v.debug("After sanitization",t)},RS=t=>{let e=0,n=0;for(let r=0;r<t.length;r++){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";"{"===t[r]?e++:"}"===t[r]&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function PS(t){return"str"in t}const $S={assignWithDepth:ET,wrapLabel:NS,calculateTextHeight:OS,calculateTextWidth:LS,calculateTextDimensions:BS,detectInit:function(t,e){const n=kS(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const i=n.map((a=>a.args));FS(i),r=ET(r,[...i])}else r=n.args;if(r){let i=kT(t,e);["config"].forEach((a=>{typeof r[a]<"u"&&("flowchart-v2"===i&&(i="flowchart"),r[i]=r[a],delete r[a])}))}return r},detectDirective:kS,isSubstringInArray:function(t,e){for(let n=0;n<e.length;n++)if(e[n].match(t))return n;return-1},interpolateToCurve:wS,calcLabelPosition:t=>1===t.length?t[0]:(t=>{let e,n=0;t.forEach((a=>{n+=ES(a,e),e=a}));let i,r=n/2;return e=void 0,t.forEach((a=>{if(e&&!i){const s=ES(a,e);if(s<r)r-=s;else{const t=r/s;t<=0&&(i=e),t>=1&&(i={x:a.x,y:a.y}),t>0&&t<1&&(i={x:(1-t)*e.x+t*a.x,y:(1-t)*e.y+t*a.y})}}e=a})),i})(t),calcCardinalityPosition:(t,e,n)=>{let r;v.info("our points",e),e[0]!==n&&(e=e.reverse()),e.forEach((t=>{totalDistance+=ES(t,r),r=t}));let s,a=25;r=void 0,e.forEach((t=>{if(r&&!s){const e=ES(t,r);if(e<a)a-=e;else{const n=a/e;n<=0&&(s=r),n>=1&&(s={x:t.x,y:t.y}),n>0&&n<1&&(s={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));const o=t?10:5,c=Math.atan2(e[0].y-s.y,e[0].x-s.x),u={x:0,y:0};return u.x=Math.sin(c)*o+(e[0].x+s.x)/2,u.y=-Math.cos(c)*o+(e[0].y+s.y)/2,u},calcTerminalLabelPosition:(t,e,n)=>{let i,r=JSON.parse(JSON.stringify(n));v.info("our points",r),"start_left"!==e&&"start_right"!==e&&(r=r.reverse()),r.forEach((t=>{i=t}));let o,s=25+t;i=void 0,r.forEach((t=>{if(i&&!o){const e=ES(t,i);if(e<s)s-=e;else{const p=s/e;p<=0&&(o=i),p>=1&&(o={x:t.x,y:t.y}),p>0&&p<1&&(o={x:(1-p)*i.x+p*t.x,y:(1-p)*i.y+p*t.y})}}i=t}));const c=10+.5*t,u=Math.atan2(r[0].y-o.y,r[0].x-o.x),l={x:0,y:0};return l.x=Math.sin(u)*c+(r[0].x+o.x)/2,l.y=-Math.cos(u)*c+(r[0].y+o.y)/2,"start_left"===e&&(l.x=Math.sin(u+Math.PI)*c+(r[0].x+o.x)/2,l.y=-Math.cos(u+Math.PI)*c+(r[0].y+o.y)/2),"end_right"===e&&(l.x=Math.sin(u-Math.PI)*c+(r[0].x+o.x)/2-5,l.y=-Math.cos(u-Math.PI)*c+(r[0].y+o.y)/2-5),"end_left"===e&&(l.x=Math.sin(u)*c+(r[0].x+o.x)/2-5,l.y=-Math.cos(u)*c+(r[0].y+o.y)/2-5),l},formatUrl:(t,e)=>{const n=t.trim();if(n)return"loose"!==e.securityLevel?E(n):n},getStylesFromArray:TS,generateId:SS,random:AS,runFunc:(t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let a=window;for(let s=0;s<r;s++)if(a=a[n[s]],!a)return;a[i](...e)},entityDecode:function(t){return IS=IS||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),IS.innerHTML=t,unescape(IS.textContent)},initIdGenerator:class{constructor(t,e){this.deterministic=t,this.seed=e,this.count=e?e.length:0}next(){return this.deterministic?this.count++:Date.now()}},directiveSanitizer:FS,sanitizeCss:RS};var zS="comm",YS="rule",jS="decl",US=Math.abs,WS=String.fromCharCode;function qS(t){return t.trim()}function HS(t,e,n){return t.replace(e,n)}function VS(t,e){return t.indexOf(e)}function GS(t,e){return 0|t.charCodeAt(e)}function XS(t,e,n){return t.slice(e,n)}function ZS(t){return t.length}function QS(t){return t.length}function KS(t,e){return e.push(t),t}var JS=1,tA=1,eA=0,nA=0,rA=0,dl="";function iA(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:JS,column:tA,length:s,return:""}}function aA(){return rA=nA<eA?GS(dl,nA++):0,tA++,10===rA&&(tA=1,JS++),rA}function oA(){return GS(dl,nA)}function sA(){return nA}function cA(t,e){return XS(dl,t,e)}function lA(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uA(t){return qS(cA(nA-1,dA(91===t?t+2:40===t?t+1:t)))}function hA(t){for(;(rA=oA())&&rA<33;)aA();return lA(t)>2||lA(rA)>3?"":" "}function fA(t,e){for(;--e&&aA()&&!(rA<48||rA>102||rA>57&&rA<65||rA>70&&rA<97););return cA(t,sA()+(e<6&&32==oA()&&32==aA()))}function dA(t){for(;aA();)switch(rA){case t:return nA;case 34:case 39:34!==t&&39!==t&&dA(rA);break;case 40:41===t&&dA(t);break;case 92:aA()}return nA}function pA(t,e){for(;aA()&&t+rA!==57&&(t+rA!==84||47!==oA()););return"/*"+cA(e,nA-1)+"*"+WS(47===t?t:aA())}function gA(t){for(;!lA(oA());)aA();return cA(t,nA)}function yA(t){return function(t){return dl="",t}(mA("",null,null,null,[""],t=function(t){return JS=tA=1,eA=ZS(dl=t),nA=0,[]}(t),0,[0],t))}function mA(t,e,n,r,i,a,s,o,c){for(var u=0,l=0,h=s,f=0,p=0,d=0,y=1,m=1,b=1,_=0,v="",x=i,k=a,w=r,E=v;m;)switch(d=_,_=aA()){case 40:if(108!=d&&58==GS(E,h-1)){-1!=VS(E+=HS(uA(_),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:E+=uA(_);break;case 9:case 10:case 13:case 32:E+=hA(d);break;case 92:E+=fA(sA()-1,7);continue;case 47:switch(oA()){case 42:case 47:KS(_A(pA(aA(),sA()),e,n),c);break;default:E+="/"}break;case 123*y:o[u++]=ZS(E)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+l:p>0&&ZS(E)-h&&KS(p>32?vA(E+";",r,n,h-1):vA(HS(E," ","")+";",r,n,h-2),c);break;case 59:E+=";";default:if(KS(w=bA(E,e,n,u,l,i,o,v,x=[],k=[],h),a),123===_)if(0===l)mA(E,e,w,w,x,a,h,o,k);else switch(f){case 100:case 109:case 115:mA(t,w,w,r&&KS(bA(t,w,w,0,0,i,o,v,i,x=[],h),k),i,k,h,o,r?x:k);break;default:mA(E,w,w,w,[""],k,0,o,k)}}u=l=p=0,y=b=1,v=E="",h=s;break;case 58:h=1+ZS(E),p=d;default:if(y<1)if(123==_)--y;else if(125==_&&0==y++&&125==(rA=nA>0?GS(dl,--nA):0,tA--,10===rA&&(tA=1,JS--),rA))continue;switch(E+=WS(_),_*y){case 38:b=l>0?1:(E+="\f",-1);break;case 44:o[u++]=(ZS(E)-1)*b,b=1;break;case 64:45===oA()&&(E+=uA(aA())),f=oA(),l=h=ZS(v=E+=gA(sA())),_++;break;case 45:45===d&&2==ZS(E)&&(y=0)}}return a}function bA(t,e,n,r,i,a,s,o,c,u,l){for(var h=i-1,f=0===i?a:[""],p=QS(f),d=0,y=0,m=0;d<r;++d)for(var b=0,_=XS(t,h+1,h=US(y=s[d])),v=t;b<p;++b)(v=qS(y>0?f[b]+" "+_:HS(_,/&\f/g,f[b])))&&(c[m++]=v);return iA(t,e,n,0===i?YS:o,c,u,l)}function _A(t,e,n){return iA(t,e,n,zS,WS(rA),XS(t,2,-2),0)}function vA(t,e,n,r){return iA(t,e,n,jS,XS(t,0,r),XS(t,r+1,-1),r)}function xA(t,e){for(var n="",r=QS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function kA(t,e,n,r){switch(t.type){case"@import":case jS:return t.return=t.return||t.value;case zS:return"";case"@keyframes":return t.return=t.value+"{"+xA(t.children,r)+"}";case YS:t.value=t.props.join(",")}return ZS(n=xA(t.children,r))?t.return=t.value+"{"+n+"}":""}const wA="9.2.2",EA=Object.freeze(yT);let TA,CA=ET({},EA),SA=[],AA=ET({},EA);const MA=(t,e)=>{let n=ET({},t),r={};for(let i=0;i<e.length;i++){const a=e[i];LA(a),r=ET(r,a)}if(n=ET(n,r),r.theme&&r.theme in gT){const i=ET({},TA),a=ET(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in gT&&(n.themeVariables=gT[n.theme].getThemeVariables(a))}return AA=n,PA(AA),AA},NA=()=>ET({},CA),DA=t=>(PA(t),ET(AA,t),OA()),OA=()=>ET({},AA),LA=t=>{var e;["secure",...null!=(e=CA.secure)?e:[]].forEach((e=>{typeof t[e]<"u"&&(v.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])})),Object.keys(t).forEach((e=>{0===e.indexOf("__")&&delete t[e]})),Object.keys(t).forEach((e=>{"string"==typeof t[e]&&(t[e].indexOf("<")>-1||t[e].indexOf(">")>-1||t[e].indexOf("url(data:")>-1)&&delete t[e],"object"==typeof t[e]&&LA(t[e])}))},BA=t=>{t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),SA.push(t),MA(CA,SA)},IA=(t=CA)=>{SA=[],MA(t,SA)};var FA=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(FA||{});const RA={},PA=t=>{!t||(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&(t=>{RA[t]||(v.warn(FA[t]),RA[t]=!0)})("LAZY_LOAD_DEPRECATED")},$A=function(t,e,n,r){const i=function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):r.set("width",e),r}(0,n,r);!function(t,e){for(let n of e)t.attr(n[0],n[1])}(t,i)},zA=function(t,e,n,r){const i=e.node().getBBox(),a=i.width,s=i.height;v.info(`SVG bounds: ${a}x${s}`,i);let o=0,c=0;v.info(`Graph bounds: ${o}x${c}`,t),o=a+2*n,c=s+2*n,v.info(`Calculated bounds: ${o}x${c}`),$A(e,0,o,r);const u=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",u)},YA=t=>`g.classGroup text {\n  fill: ${t.nodeBorder};\n  fill: ${t.classText};\n  stroke: none;\n  font-family: ${t.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${t.classText};\n}\n.edgeLabel .label rect {\n  fill: ${t.mainBkg};\n}\n.label text {\n  fill: ${t.classText};\n}\n.edgeLabel .label span {\n  background: ${t.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${t.nodeBorder};\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${t.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${t.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n`,jA=t=>`\n  .entityBox {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${t.attributeBackgroundColorOdd};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${t.attributeBackgroundColorEven};\n    stroke: ${t.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${t.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${t.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${t.lineColor};\n    }\n`,UA=()=>"",WA=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span {\n    color: ${t.titleColor};\n  }\n\n  .label text,span {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n`,qA=t=>`\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${t.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${t.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${t.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${t.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${t.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${t.fontFamily};\n      fill: ${t.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${t.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${t.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${t.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${t.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${t.taskBkgColor};\n    stroke: ${t.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${t.activeTaskBkgColor};\n    stroke: ${t.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${t.doneTaskBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`,HA=()=>"",VA=t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`,GA=t=>`\n\n  marker {\n    fill: ${t.relationColor};\n    stroke: ${t.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${t.lineColor};\n  }\n\n  svg {\n    font-family: ${t.fontFamily};\n    font-size: ${t.fontSize};\n  }\n\n  .reqBox {\n    fill: ${t.requirementBackground};\n    fill-opacity: 100%;\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${t.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${t.relationLabelBackground};\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${t.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${t.relationLabelColor};\n  }\n\n`,XA=t=>`.actor {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${t.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${t.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${t.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${t.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${t.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .messageText {\n    fill: ${t.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${t.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${t.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${t.noteBorderColor};\n    fill: ${t.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${t.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${t.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n    stroke-width: 2px;\n  }\n`,ZA=t=>`\ndefs #statediagram-barbEnd {\n    fill: ${t.transitionColor};\n    stroke: ${t.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${t.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${t.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${t.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${t.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${t.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${t.noteBorderColor};\n  fill: ${t.noteBkgColor};\n\n  text {\n    fill: ${t.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${t.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${t.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${t.innerEndBackground};\n  stroke: ${t.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${t.compositeBackground||t.background};\n  // stroke: ${t.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${t.stateBkg||t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${t.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${t.compositeTitleBackground};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${t.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${t.stateBorder||t.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${t.compositeBackground||t.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${t.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${t.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${t.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${t.lineColor};\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n`,QA=t=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${t.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${t.textColor}\n  }\n\n  .legend {\n    fill: ${t.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${t.textColor}\n  }\n\n  .face {\n    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${t.fillType0?`fill: ${t.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${t.fillType0?`fill: ${t.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${t.fillType0?`fill: ${t.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${t.fillType0?`fill: ${t.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${t.fillType0?`fill: ${t.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${t.fillType0?`fill: ${t.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${t.fillType0?`fill: ${t.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${t.fillType0?`fill: ${t.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${t.actor0?`fill: ${t.actor0}`:""};\n  }\n  .actor-1 {\n    ${t.actor1?`fill: ${t.actor1}`:""};\n  }\n  .actor-2 {\n    ${t.actor2?`fill: ${t.actor2}`:""};\n  }\n  .actor-3 {\n    ${t.actor3?`fill: ${t.actor3}`:""};\n  }\n  .actor-4 {\n    ${t.actor4?`fill: ${t.actor4}`:""};\n  }\n  .actor-5 {\n    ${t.actor5?`fill: ${t.actor5}`:""};\n  }\n`,KA=t=>`.person {\n    stroke: ${t.personBorder};\n    fill: ${t.personBkg};\n  }\n`,JA={flowchart:WA,"flowchart-v2":WA,sequence:XA,gantt:qA,classDiagram:YA,"classDiagram-v2":YA,class:YA,stateDiagram:ZA,state:ZA,info:HA,pie:VA,er:jA,error:UA,journey:QA,requirement:GA,c4:KA},tM=(t,e,n)=>{let r="";return t in JA&&JA[t]?r=JA[t](n):v.warn(`No theme found for ${t}`),` {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n\n  ${r}\n\n  ${e}\n`},eM=v,nM=x,rM=OA,iM=t=>li(t,rM()),aM=zA,oM={},sM=(t,e,n)=>{eM.debug(`Registering diagram ${t}`),oM[t]&&eM.warn(`Diagram ${t} already registered.`),oM[t]=e,n&&wT(t,n),((t,e)=>{JA[t]=e})(t,e.styles),e.injectUtils&&e.injectUtils(eM,nM,rM,iM,aM),eM.debug(`Registered diagram ${t}. ${Object.keys(oM).join(", ")} diagrams registered.`)},cM=t=>{if(eM.debug(`Getting diagram ${t}. ${Object.keys(oM).join(", ")} diagrams registered.`),t in oM)return oM[t];throw new lM(t)};class lM extends Error{constructor(t){super(`Diagram ${t} not found.`)}}var uM=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,7],r=[1,5],i=[1,9],a=[1,6],s=[2,6],o=[1,16],c=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],u=[8,14,20,22,24,25,27,29,32,37,40],l=[8,13,14,20,22,24,25,27,29,32,37,40],h=[1,26],f=[6,8,14,50,54],p=[8,14,54],d=[1,65],y=[1,66],m=[1,67],b=[8,14,33,35,42,54],_={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 3:return c[h];case 4:return c[h-1];case 5:return r.setDirection(c[h-3]),c[h-1];case 7:r.setOptions(c[h-1]),this.$=c[h];break;case 8:c[h-1]+=c[h],this.$=c[h-1];break;case 10:this.$=[];break;case 11:c[h-1].push(c[h]),this.$=c[h-1];break;case 12:this.$=c[h-1];break;case 17:this.$=c[h].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(c[h].substr(8)),this.$=c[h].substr(8);break;case 22:r.checkout(c[h]);break;case 23:r.branch(c[h]);break;case 24:r.branch(c[h-2],c[h]);break;case 25:r.cherryPick(c[h],"",void 0);break;case 26:r.cherryPick(c[h-2],"",c[h]);break;case 27:case 29:r.cherryPick(c[h-2],"","");break;case 28:r.cherryPick(c[h],"",c[h-2]);break;case 30:r.merge(c[h],"","","");break;case 31:r.merge(c[h-2],c[h],"","");break;case 32:r.merge(c[h-2],"",c[h],"");break;case 33:r.merge(c[h-2],"","",c[h]);break;case 34:r.merge(c[h-4],c[h],"",c[h-2]);break;case 35:r.merge(c[h-4],"",c[h],c[h-2]);break;case 36:r.merge(c[h-4],"",c[h-2],c[h]);break;case 37:r.merge(c[h-4],c[h-2],c[h],"");break;case 38:r.merge(c[h-4],c[h-2],"",c[h]);break;case 39:r.merge(c[h-4],c[h],c[h-2],"");break;case 40:r.merge(c[h-6],c[h-4],c[h-2],c[h]);break;case 41:r.merge(c[h-6],c[h],c[h-4],c[h-2]);break;case 42:r.merge(c[h-6],c[h-4],c[h],c[h-2]);break;case 43:r.merge(c[h-6],c[h-2],c[h-4],c[h]);break;case 44:r.merge(c[h-6],c[h],c[h-2],c[h-4]);break;case 45:r.merge(c[h-6],c[h-2],c[h],c[h-4]);break;case 46:r.commit(c[h]);break;case 47:r.commit("","",r.commitType.NORMAL,c[h]);break;case 48:r.commit("","",c[h],"");break;case 49:r.commit("","",c[h],c[h-2]);break;case 50:r.commit("","",c[h-2],c[h]);break;case 51:r.commit("",c[h],r.commitType.NORMAL,"");break;case 52:r.commit("",c[h-2],r.commitType.NORMAL,c[h]);break;case 53:r.commit("",c[h],r.commitType.NORMAL,c[h-2]);break;case 54:r.commit("",c[h-2],c[h],"");break;case 55:r.commit("",c[h],c[h-2],"");break;case 56:r.commit("",c[h-4],c[h-2],c[h]);break;case 57:r.commit("",c[h-4],c[h],c[h-2]);break;case 58:r.commit("",c[h-2],c[h-4],c[h]);break;case 59:r.commit("",c[h],c[h-4],c[h-2]);break;case 60:r.commit("",c[h],c[h-2],c[h-4]);break;case 61:r.commit("",c[h-2],c[h],c[h-4]);break;case 62:r.commit(c[h],"",r.commitType.NORMAL,"");break;case 63:r.commit(c[h],"",r.commitType.NORMAL,c[h-2]);break;case 64:r.commit(c[h-2],"",r.commitType.NORMAL,c[h]);break;case 65:r.commit(c[h-2],"",c[h],"");break;case 66:r.commit(c[h],"",c[h-2],"");break;case 67:r.commit(c[h],c[h-2],r.commitType.NORMAL,"");break;case 68:r.commit(c[h-2],c[h],r.commitType.NORMAL,"");break;case 69:r.commit(c[h-4],"",c[h-2],c[h]);break;case 70:r.commit(c[h-4],"",c[h],c[h-2]);break;case 71:r.commit(c[h-2],"",c[h-4],c[h]);break;case 72:r.commit(c[h],"",c[h-4],c[h-2]);break;case 73:r.commit(c[h],"",c[h-2],c[h-4]);break;case 74:r.commit(c[h-2],"",c[h],c[h-4]);break;case 75:r.commit(c[h-4],c[h],c[h-2],"");break;case 76:r.commit(c[h-4],c[h-2],c[h],"");break;case 77:r.commit(c[h-2],c[h],c[h-4],"");break;case 78:r.commit(c[h],c[h-2],c[h-4],"");break;case 79:r.commit(c[h],c[h-4],c[h-2],"");break;case 80:r.commit(c[h-2],c[h-4],c[h],"");break;case 81:r.commit(c[h-4],c[h],r.commitType.NORMAL,c[h-2]);break;case 82:r.commit(c[h-4],c[h-2],r.commitType.NORMAL,c[h]);break;case 83:r.commit(c[h-2],c[h],r.commitType.NORMAL,c[h-4]);break;case 84:r.commit(c[h],c[h-2],r.commitType.NORMAL,c[h-4]);break;case 85:r.commit(c[h],c[h-4],r.commitType.NORMAL,c[h-2]);break;case 86:r.commit(c[h-2],c[h-4],r.commitType.NORMAL,c[h]);break;case 87:r.commit(c[h-6],c[h-4],c[h-2],c[h]);break;case 88:r.commit(c[h-6],c[h-4],c[h],c[h-2]);break;case 89:r.commit(c[h-6],c[h-2],c[h-4],c[h]);break;case 90:r.commit(c[h-6],c[h],c[h-4],c[h-2]);break;case 91:r.commit(c[h-6],c[h-2],c[h],c[h-4]);break;case 92:r.commit(c[h-6],c[h],c[h-2],c[h-4]);break;case 93:r.commit(c[h-4],c[h-6],c[h-2],c[h]);break;case 94:r.commit(c[h-4],c[h-6],c[h],c[h-2]);break;case 95:r.commit(c[h-2],c[h-6],c[h-4],c[h]);break;case 96:r.commit(c[h],c[h-6],c[h-4],c[h-2]);break;case 97:r.commit(c[h-2],c[h-6],c[h],c[h-4]);break;case 98:r.commit(c[h],c[h-6],c[h-2],c[h-4]);break;case 99:r.commit(c[h],c[h-4],c[h-2],c[h-6]);break;case 100:r.commit(c[h-2],c[h-4],c[h],c[h-6]);break;case 101:r.commit(c[h],c[h-2],c[h-4],c[h-6]);break;case 102:r.commit(c[h-2],c[h],c[h-4],c[h-6]);break;case 103:r.commit(c[h-4],c[h-2],c[h],c[h-6]);break;case 104:r.commit(c[h-4],c[h],c[h-2],c[h-6]);break;case 105:r.commit(c[h-2],c[h-4],c[h-6],c[h]);break;case 106:r.commit(c[h],c[h-4],c[h-6],c[h-2]);break;case 107:r.commit(c[h-2],c[h],c[h-6],c[h-4]);break;case 108:r.commit(c[h],c[h-2],c[h-6],c[h-4]);break;case 109:r.commit(c[h-4],c[h-2],c[h-6],c[h]);break;case 110:r.commit(c[h-4],c[h],c[h-6],c[h-2]);break;case 111:this.$="";break;case 112:this.$=c[h];break;case 113:this.$=r.commitType.NORMAL;break;case 114:this.$=r.commitType.REVERSE;break;case 115:this.$=r.commitType.HIGHLIGHT;break;case 118:r.parseDirective("%%{","open_directive");break;case 119:r.parseDirective(c[h],"type_directive");break;case 120:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 121:r.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{3:11,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{7:12,8:s,9:[1,13],10:[1,14],11:15,14:o},t(c,[2,122]),t(c,[2,123]),t(c,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:s,11:15,14:o},{9:[1,21]},t(u,[2,10],{12:22,13:[1,23]}),t(l,[2,9]),{9:[1,25],48:24,53:h},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:s,11:15,14:o},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(l,[2,8]),t(f,[2,116]),{49:45,52:[1,46]},t(f,[2,121]),{1:[2,4]},{8:[1,47]},t(u,[2,11]),{4:48,8:n,14:r,54:a},t(u,[2,13]),t(p,[2,14]),t(p,[2,15]),t(p,[2,16]),{21:[1,49]},{23:[1,50]},t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),{28:[1,51]},t(p,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:h},{53:[2,120]},{1:[2,5]},t(u,[2,12]),t(p,[2,17]),t(p,[2,18]),t(p,[2,22]),t(p,[2,46]),{34:[1,63]},{39:64,43:d,44:y,45:m},{34:[1,68]},{34:[1,69]},t(p,[2,112]),t(p,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},t(p,[2,23],{30:[1,76]}),t(f,[2,117]),t(p,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),t(p,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),t(b,[2,113]),t(b,[2,114]),t(b,[2,115]),t(p,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),t(p,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:d,44:y,45:m},{34:[1,91]},t(p,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:d,44:y,45:m},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:d,44:y,45:m},{34:[1,104]},{34:[1,105]},{39:106,43:d,44:y,45:m},{34:[1,107]},t(p,[2,31],{35:[1,109],38:[1,108]}),t(p,[2,32],{33:[1,111],35:[1,110]}),t(p,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},t(p,[2,24]),t(p,[2,49],{33:[1,118],42:[1,119]}),t(p,[2,53],{38:[1,120],42:[1,121]}),t(p,[2,63],{33:[1,123],38:[1,122]}),t(p,[2,50],{33:[1,124],42:[1,125]}),t(p,[2,55],{35:[1,126],42:[1,127]}),t(p,[2,66],{33:[1,129],35:[1,128]}),t(p,[2,52],{38:[1,130],42:[1,131]}),t(p,[2,54],{35:[1,132],42:[1,133]}),t(p,[2,67],{35:[1,135],38:[1,134]}),t(p,[2,64],{33:[1,137],38:[1,136]}),t(p,[2,65],{33:[1,139],35:[1,138]}),t(p,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:d,44:y,45:m},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:d,44:y,45:m},t(p,[2,26]),t(p,[2,27]),t(p,[2,28]),t(p,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:d,44:y,45:m},{34:[1,151]},{39:152,43:d,44:y,45:m},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:d,44:y,45:m},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:d,44:y,45:m},{34:[1,165]},{39:166,43:d,44:y,45:m},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:d,44:y,45:m},{34:[1,171]},t(p,[2,37],{35:[1,172]}),t(p,[2,38],{38:[1,173]}),t(p,[2,36],{33:[1,174]}),t(p,[2,39],{35:[1,175]}),t(p,[2,34],{38:[1,176]}),t(p,[2,35],{33:[1,177]}),t(p,[2,60],{42:[1,178]}),t(p,[2,73],{33:[1,179]}),t(p,[2,61],{42:[1,180]}),t(p,[2,84],{38:[1,181]}),t(p,[2,74],{33:[1,182]}),t(p,[2,83],{38:[1,183]}),t(p,[2,59],{42:[1,184]}),t(p,[2,72],{33:[1,185]}),t(p,[2,58],{42:[1,186]}),t(p,[2,78],{35:[1,187]}),t(p,[2,71],{33:[1,188]}),t(p,[2,77],{35:[1,189]}),t(p,[2,57],{42:[1,190]}),t(p,[2,85],{38:[1,191]}),t(p,[2,56],{42:[1,192]}),t(p,[2,79],{35:[1,193]}),t(p,[2,80],{35:[1,194]}),t(p,[2,86],{38:[1,195]}),t(p,[2,70],{33:[1,196]}),t(p,[2,81],{38:[1,197]}),t(p,[2,69],{33:[1,198]}),t(p,[2,75],{35:[1,199]}),t(p,[2,76],{35:[1,200]}),t(p,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:d,44:y,45:m},{34:[1,204]},{34:[1,205]},{39:206,43:d,44:y,45:m},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:d,44:y,45:m},{34:[1,212]},{39:213,43:d,44:y,45:m},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:d,44:y,45:m},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:d,44:y,45:m},{34:[1,226]},{39:227,43:d,44:y,45:m},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:d,44:y,45:m},t(p,[2,40]),t(p,[2,42]),t(p,[2,41]),t(p,[2,43]),t(p,[2,45]),t(p,[2,44]),t(p,[2,101]),t(p,[2,102]),t(p,[2,99]),t(p,[2,100]),t(p,[2,104]),t(p,[2,103]),t(p,[2,108]),t(p,[2,107]),t(p,[2,106]),t(p,[2,105]),t(p,[2,110]),t(p,[2,109]),t(p,[2,98]),t(p,[2,97]),t(p,[2,96]),t(p,[2,95]),t(p,[2,93]),t(p,[2,94]),t(p,[2,92]),t(p,[2,91]),t(p,[2,90]),t(p,[2,89]),t(p,[2,87]),t(p,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,_=c.slice.call(arguments,1),v=Object.create(this.lexer),x={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(x.yy[k]=this.yy[k]);v.setInput(t,x.yy),x.yy.lexer=v,x.yy.parser=this,typeof v.yylloc>"u"&&(v.yylloc={});var w=v.yylloc;c.push(w);var E=v.options&&v.options.ranges;function T(){var t;return"number"!=typeof(t=r.pop()||v.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var C,S,A,M,N,q,D,O,L={};;){if(S=n[n.length-1],this.defaultActions[S]?A=this.defaultActions[S]:((null===C||typeof C>"u")&&(C=T()),A=l[S]&&l[S][C]),typeof A>"u"||!A.length||!A[0]){var B="";for(N in O=[],l[S])this.terminals_[N]&&N>y&&O.push("'"+this.terminals_[N]+"'");B=v.showPosition?"Parse error on line "+(f+1)+":\n"+v.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(C==m?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(B,{text:v.match,token:this.terminals_[C]||C,line:v.yylineno,loc:w,expected:O})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+C);switch(A[0]){case 1:n.push(C),o.push(v.yytext),c.push(v.yylloc),n.push(A[1]),C=null,d=v.yyleng,h=v.yytext,f=v.yylineno,w=v.yylloc;break;case 2:if(q=this.productions_[A[1]][1],L.$=o[o.length-q],L._$={first_line:c[c.length-(q||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(q||1)].first_column,last_column:c[c.length-1].last_column},E&&(L._$.range=[c[c.length-(q||1)].range[0],c[c.length-1].range[1]]),typeof(M=this.performAction.apply(L,[h,d,f,x.yy,A[1],o,c].concat(_)))<"u")return M;q&&(n=n.slice(0,-1*q*2),o=o.slice(0,-1*q),c=c.slice(0,-1*q)),n.push(this.productions_[A[1]][0]),o.push(L.$),c.push(L._$),D=l[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},v={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 34:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};function x(){this.yy={}}return _.lexer=v,x.prototype=_,_.Parser=x,new x}();uM.parser=uM;const hM=t=>null!==t.match(/^\s*gitGraph/);let fM="",dM="",pM="";const gM=t=>li(t,OA()),yM=function(){fM="",pM="",dM=""},mM=function(t){fM=gM(t).replace(/^\s+/g,"")},bM=function(){return fM||dM},_M=function(t){pM=gM(t).replace(/\n\s+/g,"\n")},vM=function(){return pM},xM=function(t){dM=gM(t)},kM=function(){return dM};let wM=OA().gitGraph.mainBranchName,EM=OA().gitGraph.mainBranchOrder,TM={},CM=null,SM={};SM[wM]={name:wM,order:EM};let AM={};AM[wM]=CM;let MM=wM,NM="LR",DM=0;function OM(){return AS({length:7})}let LM={};const BM=function(t){if(t=OE.sanitizeText(t,OA()),typeof AM[t]>"u"){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}{MM=t;const e=AM[MM];CM=TM[e]}};function IM(t,e,n){const r=t.indexOf(e);-1===r?t.push(n):t.splice(r,1,n)}function FM(t){const e=t.reduce(((i,a)=>i.seq>a.seq?i:a),t[0]);let n="";t.forEach((function(i){n+=i===e?"\t*":"\t|"}));const r=[n,e.id,e.seq];for(let i in AM)AM[i]===e.id&&r.push(i);if(v.debug(r.join(" ")),e.parents&&2==e.parents.length){const i=TM[e.parents[0]];IM(t,e,i),t.push(TM[e.parents[1]])}else{if(0==e.parents.length)return;{const i=TM[e.parents];IM(t,e,i)}}t=function(t,e){const n=Object.create(null);return t.reduce(((t,i)=>{const a=e(i);return n[a]||(n[a]=!0,t.push(i)),t}),[])}(t,(i=>i.id)),FM(t)}const RM=function(){const t=Object.keys(TM).map((function(t){return TM[t]}));return t.forEach((function(t){v.debug(t.id)})),t.sort(((t,e)=>t.seq-e.seq)),t},PM={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},$M={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().gitGraph,setDirection:function(t){NM=t},setOptions:function(t){v.debug("options str",t),t=(t=t&&t.trim())||"{}";try{LM=JSON.parse(t)}catch(t){v.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return LM},commit:function(t,e,n,r){v.debug("Entering commit:",t,e,n,r),e=OE.sanitizeText(e,OA()),t=OE.sanitizeText(t,OA()),r=OE.sanitizeText(r,OA());const i={id:e||DM+"-"+OM(),message:t,seq:DM++,type:n||PM.NORMAL,tag:r||"",parents:null==CM?[]:[CM.id],branch:MM};CM=i,TM[i.id]=i,AM[MM]=i.id,v.debug("in pushCommit "+i.id)},branch:function(t,e){if(t=OE.sanitizeText(t,OA()),!(typeof AM[t]>"u")){let e=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw e.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},e}AM[t]=null!=CM?CM.id:null,SM[t]={name:t,order:e?parseInt(e,10):null},BM(t),v.debug("in createBranch")},merge:function(t,e,n,r){t=OE.sanitizeText(t,OA()),e=OE.sanitizeText(e,OA());const i=TM[AM[MM]],a=TM[AM[t]];if(MM===t){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(typeof i>"u"||!i){let e=new Error('Incorrect usage of "merge". Current branch ('+MM+")has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},e}if(typeof AM[t]>"u"){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},e}if(typeof a>"u"||!a){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},e}if(i===a){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(e&&typeof TM[e]<"u"){let o=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw o.hash={text:"merge "+t+e+n+r,token:"merge "+t+e+n+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+r]},o}const s={id:e||DM+"-"+OM(),message:"merged branch "+t+" into "+MM,seq:DM++,parents:[null==CM?null:CM.id,AM[t]],branch:MM,type:PM.MERGE,customType:n,customId:!!e,tag:r||""};CM=s,TM[s.id]=s,AM[MM]=s.id,v.debug(AM),v.debug("in mergeBranch")},cherryPick:function(t,e,n){if(v.debug("Entering cherryPick:",t,e,n),t=OE.sanitizeText(t,OA()),e=OE.sanitizeText(e,OA()),n=OE.sanitizeText(n,OA()),!t||typeof TM[t]>"u"){let a=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}let r=TM[t],i=r.branch;if(r.type===PM.MERGE){let a=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}if(!e||typeof TM[e]>"u"){if(i===MM){let n=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const a=TM[AM[MM]];if(typeof a>"u"||!a){let n=new Error('Incorrect usage of "cherry-pick". Current branch ('+MM+")has no commits");throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const s={id:DM+"-"+OM(),message:"cherry-picked "+r+" into "+MM,seq:DM++,parents:[null==CM?null:CM.id,r.id],branch:MM,type:PM.CHERRY_PICK,tag:null!=n?n:"cherry-pick:"+r.id};CM=s,TM[s.id]=s,AM[MM]=s.id,v.debug(AM),v.debug("in cherryPick")}},checkout:BM,prettyPrint:function(){v.debug(TM);FM([RM()[0]])},clear:function(){TM={},CM=null;let t=OA().gitGraph.mainBranchName,e=OA().gitGraph.mainBranchOrder;AM={},AM[t]=null,SM={},SM[t]={name:t,order:e},MM=t,DM=0,yM()},getBranchesAsObjArray:function(){return Object.values(SM).map(((t,e)=>null!==t.order?t:{...t,order:parseFloat(`0.${e}`,10)})).sort(((t,e)=>t.order-e.order)).map((({name:t})=>({name:t})))},getBranches:function(){return AM},getCommits:function(){return TM},getCommitsArray:RM,getCurrentBranch:function(){return MM},getDirection:function(){return NM},getHead:function(){return CM},setAccTitle:mM,getAccTitle:bM,getAccDescription:vM,setAccDescription:_M,commitType:PM};function zM(t,e,n){if(typeof e.insert>"u")return;let r=t.getAccTitle(),i=t.getAccDescription();e.attr("role","img").attr("aria-labelledby","chart-title-"+n+" chart-desc-"+n),e.insert("desc",":first-child").attr("id","chart-desc-"+n).text(i),e.insert("title",":first-child").attr("id","chart-title-"+n).text(r)}let YM={};const jM=0,UM=1,WM=2,qM=3,HM=4;let VM={},GM={},XM=[],ZM=0;const h6=(t,e,n)=>{const r=rM().gitGraph,i=t.append("g").attr("class","commit-bullets"),a=t.append("g").attr("class","commit-labels");let s=0;Object.keys(e).sort(((u,t)=>e[u].seq-e[t].seq)).forEach((u=>{const t=e[u],o=VM[t.branch].pos,c=s+10;if(n){let p,e=typeof t.customType<"u"&&""!==t.customType?t.customType:t.type;switch(e){case jM:p="commit-normal";break;case UM:p="commit-reverse";break;case WM:p="commit-highlight";break;case qM:p="commit-merge";break;case HM:p="commit-cherry-pick";break;default:p="commit-normal"}if(e===WM){const e=i.append("rect");e.attr("x",c-10),e.attr("y",o-10),e.attr("height",20),e.attr("width",20),e.attr("class",`commit ${t.id} commit-highlight${VM[t.branch].index%8} ${p}-outer`),i.append("rect").attr("x",c-6).attr("y",o-6).attr("height",12).attr("width",12).attr("class",`commit ${t.id} commit${VM[t.branch].index%8} ${p}-inner`)}else if(e===HM)i.append("circle").attr("cx",c).attr("cy",o).attr("r",10).attr("class",`commit ${t.id} ${p}`),i.append("circle").attr("cx",c-3).attr("cy",o+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${p}`),i.append("circle").attr("cx",c+3).attr("cy",o+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${p}`),i.append("line").attr("x1",c+3).attr("y1",o+1).attr("x2",c).attr("y2",o-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${p}`),i.append("line").attr("x1",c-3).attr("y1",o+1).attr("x2",c).attr("y2",o-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${p}`);else{const n=i.append("circle");if(n.attr("cx",c),n.attr("cy",o),n.attr("r",t.type===qM?9:10),n.attr("class",`commit ${t.id} commit${VM[t.branch].index%8}`),e===qM){const e=i.append("circle");e.attr("cx",c),e.attr("cy",o),e.attr("r",6),e.attr("class",`commit ${p} ${t.id} commit${VM[t.branch].index%8}`)}e===UM&&i.append("path").attr("d",`M ${c-5},${o-5}L${c+5},${o+5}M${c-5},${o+5}L${c+5},${o-5}`).attr("class",`commit ${p} ${t.id} commit${VM[t.branch].index%8}`)}}if(GM[t.id]={x:s+10,y:o},n){if(t.type!==HM&&(t.customId&&t.type===qM||t.type!==qM)&&r.showCommitLabel){const e=a.append("g"),n=e.insert("rect").attr("class","commit-label-bkg"),b=e.append("text").attr("x",s).attr("y",o+25).attr("class","commit-label").text(t.id);let c=b.node().getBBox();if(n.attr("x",s+10-c.width/2-2).attr("y",o+13.5).attr("width",c.width+4).attr("height",c.height+4),b.attr("x",s+10-c.width/2),r.rotateCommitLabel){let t=-7.5-(c.width+10)/25*9.5,n=10+c.width/25*8.5;e.attr("transform","translate("+t+", "+n+") rotate("+"-45, "+s+", "+o+")")}}if(t.tag){const e=a.insert("polygon"),n=a.append("circle"),b=a.append("text").attr("y",o-16).attr("class","tag-label").text(t.tag);let r=b.node().getBBox();b.attr("x",s+10-r.width/2);const c=r.height/2,l=o-19.2;e.attr("class","tag-label-bkg").attr("points",`\n          ${s-r.width/2-2},${l+2}\n          ${s-r.width/2-2},${l-2}\n          ${s+10-r.width/2-4},${l-c-2}\n          ${s+10+r.width/2+4},${l-c-2}\n          ${s+10+r.width/2+4},${l+c+2}\n          ${s+10-r.width/2-4},${l+c+2}`),n.attr("cx",s-r.width/2+2).attr("cy",l).attr("r",1.5).attr("class","tag-hole")}}s+=50,s>ZM&&(ZM=s)}))},QM=(t,e,n)=>{const r=n||0,i=t+Math.abs(t-e)/2;if(r>5)return i;let a=!0;for(let t=0;t<XM.length;t++)Math.abs(XM[t]-i)<10&&(a=!1);if(a)return XM.push(i),i;const s=Math.abs(t-e);return QM(t,e-s/5,r+1)},KM=(t,e,n,r)=>{const i=GM[e.id],a=GM[n.id],s=((t,e,n)=>Object.keys(n).filter((a=>n[a].branch===e.branch&&n[a].seq>t.seq&&n[a].seq<e.seq)).length>0)(e,n,r);let o,c="",l="",u=0,h=0,f=VM[n.branch].index;if(s){c="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10,f=VM[n.branch].index;const p=i.y<a.y?QM(i.y,a.y):QM(a.y,i.y);o=i.y<a.y?`M ${i.x} ${i.y} L ${i.x} ${p-u} ${c} ${i.x+h} ${p} L ${a.x-u} ${p} ${l} ${a.x} ${p+h} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${p+u} ${l} ${i.x+h} ${p} L ${a.x-u} ${p} ${c} ${a.x} ${p-h} L ${a.x} ${a.y}`}else i.y<a.y&&(c="A 20 20, 0, 0, 0,",u=20,h=20,f=VM[n.branch].index,o=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${c} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(c="A 20 20, 0, 0, 0,",u=20,h=20,f=VM[e.branch].index,o=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${c} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.y===a.y&&(f=VM[e.branch].index,o=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${c} ${i.x+h} ${a.y} L ${a.x} ${a.y}`);t.append("path").attr("d",o).attr("class","arrow arrow"+f%8)},JM=(t,e)=>{const n=rM().gitGraph,r=t.append("g");e.forEach(((i,a)=>{const s=a%8,t=VM[i.name].pos,e=r.append("line");e.attr("x1",0),e.attr("y1",t),e.attr("x2",ZM),e.attr("y2",t),e.attr("class","branch branch"+s),XM.push(t);const o=(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];n="string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?t:[];for(let t=0;t<n.length;t++){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n[t].trim(),e.appendChild(i)}return e})(i.name),c=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+s);p.node().appendChild(o);let l=o.getBBox();c.attr("class","branchLabelBkg label"+s).attr("rx",4).attr("ry",4).attr("x",-l.width-4-(!0===n.rotateCommitLabel?30:0)).attr("y",-l.height/2+8).attr("width",l.width+18).attr("height",l.height+4),p.attr("transform","translate("+(-l.width-14-(!0===n.rotateCommitLabel?30:0))+", "+(t-l.height/2-1)+")"),c.attr("transform","translate(-19, "+(t-l.height/2)+")")}))},tN={draw:function(t,e,n,r){VM={},GM={},YM={},ZM=0,XM=[];const i=rM(),a=rM().gitGraph;v.debug("in gitgraph renderer",t+"\n","id:",e,n),YM=r.db.getCommits();const s=r.db.getBranchesAsObjArray();let o=0;s.forEach(((u,t)=>{VM[u.name]={pos:o,index:t},o+=50+(a.rotateCommitLabel?40:0)}));const c=Nn(`[id="${e}"]`);zM(r.db,c,e),h6(c,YM,!1),a.showBranches&&JM(c,s),((t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach((t=>{const i=e[t];i.parents&&i.parents.length>0&&i.parents.forEach((a=>{KM(n,e[a],i,e)}))}))})(c,YM),h6(c,YM,!0),aM(void 0,c,a.diagramPadding,i.useMaxWidth)}},eN=t=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map((e=>`\n        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }\n        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }\n        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }\n        .label${e}  { fill: ${t["git"+e]}; }\n        .arrow${e} { stroke: ${t["git"+e]}; }\n        `)).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${t.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}\n  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}\n  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }\n  .tag-hole { fill: ${t.textColor}; }\n\n  .commit-merge {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  }\n`;var nN=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,6],n=[1,7],r=[1,8],i=[1,9],a=[1,16],s=[1,11],o=[1,12],l=[1,13],u=[1,14],h=[1,15],f=[1,27],d=[1,33],p=[1,34],y=[1,35],m=[1,36],_=[1,37],b=[1,72],v=[1,73],x=[1,74],k=[1,75],w=[1,76],E=[1,77],T=[1,78],C=[1,38],S=[1,39],A=[1,40],M=[1,41],N=[1,42],D=[1,43],O=[1,44],L=[1,45],B=[1,46],I=[1,47],F=[1,48],R=[1,49],P=[1,50],$=[1,51],z=[1,52],Y=[1,53],j=[1,54],U=[1,55],W=[1,56],H=[1,57],V=[1,59],G=[1,60],X=[1,61],q=[1,62],Z=[1,63],Q=[1,64],K=[1,65],J=[1,66],tt=[1,67],et=[1,68],nt=[1,69],it=[24,52],at=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ot=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],st=[1,94],ct=[1,95],lt=[1,96],ut=[1,97],ht=[15,24,52],ft=[7,8,9,10,18,22,25,26,27,28],pt=[15,24,43,52],gt=[15,24,43,52,86,87,89,90],yt=[15,43],mt=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],bt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 4:r.setDirection("TB");break;case 5:r.setDirection("BT");break;case 6:r.setDirection("RL");break;case 7:r.setDirection("LR");break;case 11:r.parseDirective("%%{","open_directive");break;case 12:break;case 13:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 14:r.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:r.setC4Type(c[h-3]);break;case 26:r.setTitle(c[h].substring(6)),this.$=c[h].substring(6);break;case 27:r.setAccDescription(c[h].substring(15)),this.$=c[h].substring(15);break;case 28:this.$=c[h].trim(),r.setTitle(this.$);break;case 29:case 30:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 35:case 36:c[h].splice(2,0,"ENTERPRISE"),r.addPersonOrSystemBoundary(...c[h]),this.$=c[h];break;case 37:r.addPersonOrSystemBoundary(...c[h]),this.$=c[h];break;case 38:c[h].splice(2,0,"CONTAINER"),r.addContainerBoundary(...c[h]),this.$=c[h];break;case 39:r.addDeploymentNode("node",...c[h]),this.$=c[h];break;case 40:r.addDeploymentNode("nodeL",...c[h]),this.$=c[h];break;case 41:r.addDeploymentNode("nodeR",...c[h]),this.$=c[h];break;case 42:r.popBoundaryParseStack();break;case 46:r.addPersonOrSystem("person",...c[h]),this.$=c[h];break;case 47:r.addPersonOrSystem("external_person",...c[h]),this.$=c[h];break;case 48:r.addPersonOrSystem("system",...c[h]),this.$=c[h];break;case 49:r.addPersonOrSystem("system_db",...c[h]),this.$=c[h];break;case 50:r.addPersonOrSystem("system_queue",...c[h]),this.$=c[h];break;case 51:r.addPersonOrSystem("external_system",...c[h]),this.$=c[h];break;case 52:r.addPersonOrSystem("external_system_db",...c[h]),this.$=c[h];break;case 53:r.addPersonOrSystem("external_system_queue",...c[h]),this.$=c[h];break;case 54:r.addContainer("container",...c[h]),this.$=c[h];break;case 55:r.addContainer("container_db",...c[h]),this.$=c[h];break;case 56:r.addContainer("container_queue",...c[h]),this.$=c[h];break;case 57:r.addContainer("external_container",...c[h]),this.$=c[h];break;case 58:r.addContainer("external_container_db",...c[h]),this.$=c[h];break;case 59:r.addContainer("external_container_queue",...c[h]),this.$=c[h];break;case 60:r.addComponent("component",...c[h]),this.$=c[h];break;case 61:r.addComponent("component_db",...c[h]),this.$=c[h];break;case 62:r.addComponent("component_queue",...c[h]),this.$=c[h];break;case 63:r.addComponent("external_component",...c[h]),this.$=c[h];break;case 64:r.addComponent("external_component_db",...c[h]),this.$=c[h];break;case 65:r.addComponent("external_component_queue",...c[h]),this.$=c[h];break;case 67:r.addRel("rel",...c[h]),this.$=c[h];break;case 68:r.addRel("birel",...c[h]),this.$=c[h];break;case 69:r.addRel("rel_u",...c[h]),this.$=c[h];break;case 70:r.addRel("rel_d",...c[h]),this.$=c[h];break;case 71:r.addRel("rel_l",...c[h]),this.$=c[h];break;case 72:r.addRel("rel_r",...c[h]),this.$=c[h];break;case 73:r.addRel("rel_b",...c[h]),this.$=c[h];break;case 74:c[h].splice(0,1),r.addRel("rel",...c[h]),this.$=c[h];break;case 75:r.updateElStyle("update_el_style",...c[h]),this.$=c[h];break;case 76:r.updateRelStyle("update_rel_style",...c[h]),this.$=c[h];break;case 77:r.updateLayoutConfig("update_layout_config",...c[h]),this.$=c[h];break;case 78:this.$=[c[h]];break;case 79:c[h].unshift(c[h-1]),this.$=c[h];break;case 80:case 82:this.$=c[h].trim();break;case 81:let t={};t[c[h-1].trim()]=c[h].trim(),this.$=t;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:a,22:s,25:o,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:a,22:s,25:o,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:f},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:d,33:p,34:y,36:m,38:_,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{23:79,29:29,30:30,31:31,32:d,33:p,34:y,36:m,38:_,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{23:80,29:29,30:30,31:31,32:d,33:p,34:y,36:m,38:_,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{23:81,29:29,30:30,31:31,32:d,33:p,34:y,36:m,38:_,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{23:82,29:29,30:30,31:31,32:d,33:p,34:y,36:m,38:_,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(it,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:v,47:x,48:k,49:w,50:E,51:T,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt}),t(it,[2,21]),t(at,[2,23],{15:[1,88]}),t(it,[2,43],{15:[1,89]}),t(ot,[2,26]),t(ot,[2,27]),{35:[1,90]},{37:[1,91]},t(ot,[2,30]),{45:92,85:93,86:st,87:ct,89:lt,90:ut},{45:98,85:93,86:st,87:ct,89:lt,90:ut},{45:99,85:93,86:st,87:ct,89:lt,90:ut},{45:100,85:93,86:st,87:ct,89:lt,90:ut},{45:101,85:93,86:st,87:ct,89:lt,90:ut},{45:102,85:93,86:st,87:ct,89:lt,90:ut},{45:103,85:93,86:st,87:ct,89:lt,90:ut},{45:104,85:93,86:st,87:ct,89:lt,90:ut},{45:105,85:93,86:st,87:ct,89:lt,90:ut},{45:106,85:93,86:st,87:ct,89:lt,90:ut},{45:107,85:93,86:st,87:ct,89:lt,90:ut},{45:108,85:93,86:st,87:ct,89:lt,90:ut},{45:109,85:93,86:st,87:ct,89:lt,90:ut},{45:110,85:93,86:st,87:ct,89:lt,90:ut},{45:111,85:93,86:st,87:ct,89:lt,90:ut},{45:112,85:93,86:st,87:ct,89:lt,90:ut},{45:113,85:93,86:st,87:ct,89:lt,90:ut},{45:114,85:93,86:st,87:ct,89:lt,90:ut},{45:115,85:93,86:st,87:ct,89:lt,90:ut},{45:116,85:93,86:st,87:ct,89:lt,90:ut},t(ht,[2,66]),{45:117,85:93,86:st,87:ct,89:lt,90:ut},{45:118,85:93,86:st,87:ct,89:lt,90:ut},{45:119,85:93,86:st,87:ct,89:lt,90:ut},{45:120,85:93,86:st,87:ct,89:lt,90:ut},{45:121,85:93,86:st,87:ct,89:lt,90:ut},{45:122,85:93,86:st,87:ct,89:lt,90:ut},{45:123,85:93,86:st,87:ct,89:lt,90:ut},{45:124,85:93,86:st,87:ct,89:lt,90:ut},{45:125,85:93,86:st,87:ct,89:lt,90:ut},{45:126,85:93,86:st,87:ct,89:lt,90:ut},{45:127,85:93,86:st,87:ct,89:lt,90:ut},{30:128,39:58,40:70,42:71,44:b,46:v,47:x,48:k,49:w,50:E,51:T,53:32,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt},{15:[1,130],43:[1,129]},{45:131,85:93,86:st,87:ct,89:lt,90:ut},{45:132,85:93,86:st,87:ct,89:lt,90:ut},{45:133,85:93,86:st,87:ct,89:lt,90:ut},{45:134,85:93,86:st,87:ct,89:lt,90:ut},{45:135,85:93,86:st,87:ct,89:lt,90:ut},{45:136,85:93,86:st,87:ct,89:lt,90:ut},{45:137,85:93,86:st,87:ct,89:lt,90:ut},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(ft,[2,9]),{14:142,21:f},{21:[2,13]},{1:[2,15]},t(it,[2,22]),t(at,[2,24],{31:31,29:143,32:d,33:p,34:y,36:m,38:_}),t(it,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:d,33:p,34:y,36:m,38:_,44:b,46:v,47:x,48:k,49:w,50:E,51:T,54:C,55:S,56:A,57:M,58:N,59:D,60:O,61:L,62:B,63:I,64:F,65:R,66:P,67:$,68:z,69:Y,70:j,71:U,72:W,73:H,74:V,75:G,76:X,77:q,78:Z,79:Q,80:K,81:J,82:tt,83:et,84:nt}),t(ot,[2,28]),t(ot,[2,29]),t(ht,[2,46]),t(pt,[2,78],{85:93,45:145,86:st,87:ct,89:lt,90:ut}),t(gt,[2,80]),{88:[1,146]},t(gt,[2,82]),t(gt,[2,83]),t(ht,[2,47]),t(ht,[2,48]),t(ht,[2,49]),t(ht,[2,50]),t(ht,[2,51]),t(ht,[2,52]),t(ht,[2,53]),t(ht,[2,54]),t(ht,[2,55]),t(ht,[2,56]),t(ht,[2,57]),t(ht,[2,58]),t(ht,[2,59]),t(ht,[2,60]),t(ht,[2,61]),t(ht,[2,62]),t(ht,[2,63]),t(ht,[2,64]),t(ht,[2,65]),t(ht,[2,67]),t(ht,[2,68]),t(ht,[2,69]),t(ht,[2,70]),t(ht,[2,71]),t(ht,[2,72]),t(ht,[2,73]),t(ht,[2,74]),t(ht,[2,75]),t(ht,[2,76]),t(ht,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(yt,[2,35]),t(yt,[2,36]),t(yt,[2,37]),t(yt,[2,38]),t(yt,[2,39]),t(yt,[2,40]),t(yt,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(at,[2,25]),t(it,[2,45]),t(pt,[2,79]),t(gt,[2,81]),t(ht,[2,31]),t(ht,[2,42]),t(mt,[2,32]),t(mt,[2,33],{15:[1,152]}),t(ft,[2,10]),t(mt,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,_=c.slice.call(arguments,1),v=Object.create(this.lexer),x={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(x.yy[k]=this.yy[k]);v.setInput(t,x.yy),x.yy.lexer=v,x.yy.parser=this,typeof v.yylloc>"u"&&(v.yylloc={});var w=v.yylloc;c.push(w);var E=v.options&&v.options.ranges;function T(){var t;return"number"!=typeof(t=r.pop()||v.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var C,S,A,M,N,D,O,L,B={};;){if(S=n[n.length-1],this.defaultActions[S]?A=this.defaultActions[S]:((null===C||typeof C>"u")&&(C=T()),A=l[S]&&l[S][C]),typeof A>"u"||!A.length||!A[0]){var I="";for(N in L=[],l[S])this.terminals_[N]&&N>y&&L.push("'"+this.terminals_[N]+"'");I=v.showPosition?"Parse error on line "+(f+1)+":\n"+v.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(C==m?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(I,{text:v.match,token:this.terminals_[C]||C,line:v.yylineno,loc:w,expected:L})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+C);switch(A[0]){case 1:n.push(C),o.push(v.yytext),c.push(v.yylloc),n.push(A[1]),C=null,d=v.yyleng,h=v.yytext,f=v.yylineno,w=v.yylloc;break;case 2:if(D=this.productions_[A[1]][1],B.$=o[o.length-D],B._$={first_line:c[c.length-(D||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(D||1)].first_column,last_column:c[c.length-1].last_column},E&&(B._$.range=[c[c.length-(D||1)].range[0],c[c.length-1].range[1]]),typeof(M=this.performAction.apply(B,[h,d,f,x.yy,A[1],o,c].concat(_)))<"u")return M;D&&(n=n.slice(0,-1*D*2),o=o.slice(0,-1*D),c=c.slice(0,-1*D)),n.push(this.productions_[A[1]][0]),o.push(B.$),c.push(B._$),O=l[n[n.length-2]][n[n.length-1]],n.push(O);break;case 3:return!0}}return!0}},_t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 78:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:case 75:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:case 58:return this.begin("rel_u"),76;case 59:case 60:return this.begin("rel_d"),77;case 61:case 62:return this.begin("rel_l"),78;case 63:case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:case 84:this.popState(),this.popState();break;case 74:case 76:return 90;case 77:this.begin("string");break;case 79:case 85:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};function vt(){this.yy={}}return bt.lexer=_t,vt.prototype=bt,bt.Parser=vt,new vt}();nN.parser=nN;const rN=t=>null!==t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/);let iN=[],aN=[""],oN="global",sN="",cN=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],lN=[],uN="",hN=!1,fN=4,dN=2;var pN;const gN=function(t){return null==t?iN:iN.filter((e=>e.parentBoundary===t))},yN=function(){return hN},mN={addPersonOrSystem:function(t,e,n,r,i,a,s){if(null===e||null===n)return;let o={};const c=iN.find((u=>u.alias===e));if(c&&e===c.alias?o=c:(o.alias=e,iN.push(o)),o.label=null==n?{text:""}:{text:n},null==r)o.descr={text:""};else if("object"==typeof r){let[u,t]=Object.entries(r)[0];o[u]={text:t}}else o.descr={text:r};if("object"==typeof i){let[u,t]=Object.entries(i)[0];o[u]=t}else o.sprite=i;if("object"==typeof a){let[u,t]=Object.entries(a)[0];o[u]=t}else o.tags=a;if("object"==typeof s){let[u,t]=Object.entries(s)[0];o[u]=t}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=oN,o.wrap=yN()},addPersonOrSystemBoundary:function(t,e,n,r,i){if(null===t||null===e)return;let a={};const s=cN.find((e=>e.alias===t));if(s&&t===s.alias?a=s:(a.alias=t,cN.push(a)),a.label=null==e?{text:""}:{text:e},null==n)a.type={text:"system"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];a[t]={text:e}}else a.type={text:n};if("object"==typeof r){let[t,e]=Object.entries(r)[0];a[t]=e}else a.tags=r;if("object"==typeof i){let[t,e]=Object.entries(i)[0];a[t]=e}else a.link=i;a.parentBoundary=oN,a.wrap=yN(),sN=oN,oN=t,aN.push(sN)},addContainer:function(t,e,n,r,i,a,s,o){if(null===e||null===n)return;let c={};const u=iN.find((t=>t.alias===e));if(u&&e===u.alias?c=u:(c.alias=e,iN.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.techn={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.techn={text:r};if(null==i)c.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.descr={text:i};if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.sprite=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.link=o;c.wrap=yN(),c.typeC4Shape={text:t},c.parentBoundary=oN},addContainerBoundary:function(t,e,n,r,i){if(null===t||null===e)return;let a={};const s=cN.find((e=>e.alias===t));if(s&&t===s.alias?a=s:(a.alias=t,cN.push(a)),a.label=null==e?{text:""}:{text:e},null==n)a.type={text:"container"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];a[t]={text:e}}else a.type={text:n};if("object"==typeof r){let[t,e]=Object.entries(r)[0];a[t]=e}else a.tags=r;if("object"==typeof i){let[t,e]=Object.entries(i)[0];a[t]=e}else a.link=i;a.parentBoundary=oN,a.wrap=yN(),sN=oN,oN=t,aN.push(sN)},addComponent:function(t,e,n,r,i,a,s,o){if(null===e||null===n)return;let c={};const u=iN.find((t=>t.alias===e));if(u&&e===u.alias?c=u:(c.alias=e,iN.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.techn={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.techn={text:r};if(null==i)c.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.descr={text:i};if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.sprite=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.link=o;c.wrap=yN(),c.typeC4Shape={text:t},c.parentBoundary=oN},addDeploymentNode:function(t,e,n,r,i,a,s,o){if(null===e||null===n)return;let c={};const u=cN.find((t=>t.alias===e));if(u&&e===u.alias?c=u:(c.alias=e,cN.push(c)),c.label=null==n?{text:""}:{text:n},null==r)c.type={text:"node"};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.type={text:r};if(null==i)c.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.descr={text:i};if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.link=o;c.nodeType=t,c.parentBoundary=oN,c.wrap=yN(),sN=oN,oN=e,aN.push(sN)},popBoundaryParseStack:function(){oN=sN,aN.pop(),sN=aN.pop(),aN.push(sN)},addRel:function(t,e,n,r,i,a,s,o,c){if(null==t||null==e||null==n||null==r)return;let u={};const l=lN.find((t=>t.from===e&&t.to===n));if(l?u=l:lN.push(u),u.type=t,u.from=e,u.to=n,u.label={text:r},null==i)u.techn={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];u[t]={text:e}}else u.techn={text:i};if(null==a)u.descr={text:""};else if("object"==typeof a){let[t,e]=Object.entries(a)[0];u[t]={text:e}}else u.descr={text:a};if("object"==typeof s){let[t,e]=Object.entries(s)[0];u[t]=e}else u.sprite=s;if("object"==typeof o){let[t,e]=Object.entries(o)[0];u[t]=e}else u.tags=o;if("object"==typeof c){let[t,e]=Object.entries(c)[0];u[t]=e}else u.link=c;u.wrap=yN()},updateElStyle:function(t,e,n,r,i,a,s,o,c,u,l){let h=iN.find((t=>t.alias===e));if(void 0!==h||(h=cN.find((t=>t.alias===e)),void 0!==h)){if(null!=n)if("object"==typeof n){let[t,p]=Object.entries(n)[0];h[t]=p}else h.bgColor=n;if(null!=r)if("object"==typeof r){let[t,p]=Object.entries(r)[0];h[t]=p}else h.fontColor=r;if(null!=i)if("object"==typeof i){let[t,p]=Object.entries(i)[0];h[t]=p}else h.borderColor=i;if(null!=a)if("object"==typeof a){let[t,p]=Object.entries(a)[0];h[t]=p}else h.shadowing=a;if(null!=s)if("object"==typeof s){let[t,p]=Object.entries(s)[0];h[t]=p}else h.shape=s;if(null!=o)if("object"==typeof o){let[t,p]=Object.entries(o)[0];h[t]=p}else h.sprite=o;if(null!=c)if("object"==typeof c){let[t,p]=Object.entries(c)[0];h[t]=p}else h.techn=c;if(null!=u)if("object"==typeof u){let[t,p]=Object.entries(u)[0];h[t]=p}else h.legendText=u;if(null!=l)if("object"==typeof l){let[t,p]=Object.entries(l)[0];h[t]=p}else h.legendSprite=l}},updateRelStyle:function(t,e,n,r,i,a,s){const o=lN.find((t=>t.from===e&&t.to===n));if(void 0!==o){if(null!=r)if("object"==typeof r){let[t,u]=Object.entries(r)[0];o[t]=u}else o.textColor=r;if(null!=i)if("object"==typeof i){let[t,u]=Object.entries(i)[0];o[t]=u}else o.lineColor=i;if(null!=a)if("object"==typeof a){let[t,u]=Object.entries(a)[0];o[t]=parseInt(u)}else o.offsetX=parseInt(a);if(null!=s)if("object"==typeof s){let[t,u]=Object.entries(s)[0];o[t]=parseInt(u)}else o.offsetY=parseInt(s)}},updateLayoutConfig:function(t,e,n){let r=fN,i=dN;if("object"==typeof e){const a=Object.values(e)[0];r=parseInt(a)}else r=parseInt(e);if("object"==typeof n){const a=Object.values(n)[0];i=parseInt(a)}else i=parseInt(n);r>=1&&(fN=r),i>=1&&(dN=i)},autoWrap:yN,setWrap:function(t){hN=t},getC4ShapeArray:gN,getC4Shape:function(t){return iN.find((e=>e.alias===t))},getC4ShapeKeys:function(t){return Object.keys(gN(t))},getBoundarys:function(t){return null==t?cN:cN.filter((e=>e.parentBoundary===t))},getCurrentBoundaryParse:function(){return oN},getParentBoundaryParse:function(){return sN},getRels:function(){return lN},getTitle:function(){return uN},getC4Type:function(){return pN},getC4ShapeInRow:function(){return fN},getC4BoundaryInRow:function(){return dN},setAccTitle:mM,getAccTitle:bM,getAccDescription:vM,setAccDescription:_M,parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().c4,clear:function(){iN=[],cN=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],sN="",oN="global",aN=[""],lN=[],aN=[""],uN="",hN=!1,fN=4,dN=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){uN=li(t,OA())},setC4Type:function(t){pN=li(t,OA())}},bN=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(let t in e.attrs)n.attr(t,e.attrs[t]);return"undefined"!==e.class&&n.attr("class",e.class),n},_N=function(t,e,n,r,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",n),s.attr("x",r),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:E(a);s.attr("xlink:href",o)},vN=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},xN=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),kN=function(){function t(i,a,s,t,e,u,n){r(a.append("text").attr("x",s+e/2).attr("y",t+u/2+5).style("text-anchor","middle").text(i),n)}function e(i,a,s,t,e,u,n,o){const{fontSize:c,fontFamily:p,fontWeight:l}=o,h=i.split(OE.lineBreakRegex);for(let o=0;o<h.length;o++){const b=o*c-c*(h.length-1)/2,f=a.append("text").attr("x",s+e/2).attr("y",t).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",c).style("font-weight",l).style("font-family",p);f.append("tspan").attr("dy",b).text(h[o]).attr("alignment-baseline","mathematical"),r(f,n)}}function n(i,a,s,t,n,u,o,c){const l=a.append("switch"),h=l.append("foreignObject").attr("x",s).attr("y",t).attr("width",n).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,l,s,t,n,0,o,c),r(h,o)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),wN=function(t,e,n){const r=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let c={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};bN(r,c);let u=n.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,kN(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&""!==e.type.text&&(u=n.boundaryFont(),u.fontColor=s,kN(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&""!==e.descr.text&&(u=n.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,kN(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},EN=function(t,e,n){let r=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const o=t.append("g");o.attr("class","person-man");const c=vN();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":c.x=e.x,c.y=e.y,c.fill=r,c.width=e.width,c.height=e.height,c.style="stroke:"+i+";stroke-width:0.5;",c.rx=2.5,c.ry=2.5,bN(o,c);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}let u=xN(n,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":_N(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s)}let l=n[e.typeC4Shape.text+"Font"]();return l.fontWeight="bold",l.fontSize=l.fontSize+2,l.fontColor=a,kN(n)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},l),l=n[e.typeC4Shape.text+"Font"](),l.fontColor=a,e.thchn&&""!==e.thchn.text?kN(n)(e.thchn.text,o,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:a,"font-style":"italic"},l):e.type&&""!==e.type.text&&kN(n)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},l),e.descr&&""!==e.descr.text&&(l=n.personFont(),l.fontColor=a,kN(n)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},l)),e.height},TN=(t,e,n)=>{const r=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",t=a.lineColor?a.lineColor:"#444444",e=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,o="";if(0===i){let e=r.append("line");e.attr("x1",a.startPoint.x),e.attr("y1",a.startPoint.y),e.attr("x2",a.endPoint.x),e.attr("y2",a.endPoint.y),e.attr("stroke-width","1"),e.attr("stroke",t),e.style("fill","none"),"rel_b"!==a.type&&e.attr("marker-end","url("+o+"#arrowhead)"),("birel"===a.type||"rel_b"===a.type)&&e.attr("marker-start","url("+o+"#arrowend)"),i=-1}else{let e=r.append("path");e.attr("fill","none").attr("stroke-width","1").attr("stroke",t).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),"rel_b"!==a.type&&e.attr("marker-end","url("+o+"#arrowhead)"),("birel"===a.type||"rel_b"===a.type)&&e.attr("marker-start","url("+o+"#arrowend)")}let c=n.messageFont();kN(n)(a.label.text,r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+e,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},c),a.techn&&""!==a.techn.text&&(c=n.messageFont(),kN(n)("["+a.techn.text+"]",r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+e,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+n.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},c))}},CN=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},SN=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},AN=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},MN=function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},NN=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},DN=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},ON=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")};let LN=0,BN=0,IN=4,FN=2;nN.yy=mN;let RN={};class PN{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,$N(t.db.getConfig())}setData(t,e,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,e,n,i){typeof t[e]>"u"?t[e]=n:t[e]=i(n,t[e])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,i=this.nextData.starty+2*t.margin,a=i+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>IN)&&(e=this.nextData.startx+t.margin+RN.nextLinePaddingX,i=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+t.height,this.nextData.cnt=1),t.x=e,t.y=i,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},$N(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}}const $N=function(t){ET(RN,t),t.fontFamily&&(RN.personFontFamily=RN.systemFontFamily=RN.messageFontFamily=t.fontFamily),t.fontSize&&(RN.personFontSize=RN.systemFontSize=RN.messageFontSize=t.fontSize),t.fontWeight&&(RN.personFontWeight=RN.systemFontWeight=RN.messageFontWeight=t.fontWeight)},zN=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),YN=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),jN=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function UN(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=NS(e[t].text,i,r),e[t].textLines=e[t].text.split(OE.lineBreakRegex).length,e[t].width=i,e[t].height=OS(e[t].text,r);else{let a=e[t].text.split(OE.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(let n=0;n<a.length;n++)e[t].width=Math.max(LS(a[n],r),e[t].width),s=OS(a[n],r),e[t].height=e[t].height+s}}const WN=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=RN.c4ShapeMargin-35;let r=e.wrap&&RN.wrap,i=YN(RN);i.fontSize=i.fontSize+2,i.fontWeight="bold",UN("label",e,r,i,LS(e.label.text,i)),wN(t,e,RN)},qN=function(t,e,n,r){let i=0;for(let a=0;a<r.length;a++){i=0;const s=n[r[a]];let o=zN(RN,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=LS("<<"+s.typeC4Shape.text+">>",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=RN.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let c=s.wrap&&RN.wrap,u=RN.width-2*RN.c4ShapePadding,l=zN(RN,s.typeC4Shape.text);if(l.fontSize=l.fontSize+2,l.fontWeight="bold",UN("label",s,c,l,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&""!==s.type.text){s.type.text="["+s.type.text+"]",UN("type",s,c,zN(RN,s.typeC4Shape.text),u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&""!==s.techn.text){s.techn.text="["+s.techn.text+"]",UN("techn",s,c,zN(RN,s.techn.text),u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let h=i,f=s.label.width;if(s.descr&&""!==s.descr.text){UN("descr",s,c,zN(RN,s.typeC4Shape.text),u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),h=i-5*s.descr.textLines}f+=RN.c4ShapePadding,s.width=Math.max(s.width||RN.width,f,RN.width),s.height=Math.max(s.height||RN.height,h,RN.height),s.margin=s.margin||RN.c4ShapeMargin,t.insert(s),EN(e,s,RN)}t.bumpLastMargin(RN.c4ShapeMargin)};class HN{constructor(t,e){this.x=t,this.y=e}}let VN=function(t,e){let n=t.x,r=t.y,i=e.x,a=e.y,s=n+t.width/2,o=r+t.height/2,c=Math.abs(n-i),u=Math.abs(r-a),l=u/c,h=t.height/t.width,f=null;return r==a&&n<i?f=new HN(n+t.width,o):r==a&&n>i?f=new HN(n,o):n==i&&r<a?f=new HN(s,r+t.height):n==i&&r>a&&(f=new HN(s,r)),n>i&&r<a?f=h>=l?new HN(n,o+l*t.width/2):new HN(s-c/u*t.height/2,r+t.height):n<i&&r<a?f=h>=l?new HN(n+t.width,o+l*t.width/2):new HN(s+c/u*t.height/2,r+t.height):n<i&&r>a?f=h>=l?new HN(n+t.width,o-l*t.width/2):new HN(s+t.height/2*c/u,r):n>i&&r>a&&(f=h>=l?new HN(n,o-t.width/2*l):new HN(s-t.height/2*c/u,r)),f},GN=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let r=VN(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:r,endPoint:VN(e,n)}};function XN(t,e,n,r,i){let a=new PN(i);a.data.widthLimit=n.data.widthLimit/Math.min(FN,r.length);for(let s=0;s<r.length;s++){let o=r[s],c=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=c,c=o.image.Y+o.image.height);let u=o.wrap&&RN.wrap,l=YN(RN);if(l.fontSize=l.fontSize+2,l.fontWeight="bold",UN("label",o,u,l,a.data.widthLimit),o.label.Y=c+8,c=o.label.Y+o.label.height,o.type&&""!==o.type.text){o.type.text="["+o.type.text+"]",UN("type",o,u,YN(RN),a.data.widthLimit),o.type.Y=c+5,c=o.type.Y+o.type.height}if(o.descr&&""!==o.descr.text){let t=YN(RN);t.fontSize=t.fontSize-2,UN("descr",o,u,t,a.data.widthLimit),o.descr.Y=c+20,c=o.descr.Y+o.descr.height}if(0==s||s%FN==0){let t=n.data.startx+RN.diagramMarginX,e=n.data.stopy+RN.diagramMarginY+c;a.setData(t,t,e,e)}else{let t=a.data.stopx!==a.data.startx?a.data.stopx+RN.diagramMarginX:a.data.startx,e=a.data.starty;a.setData(t,t,e,e)}a.name=o.alias;let h=i.db.getC4ShapeArray(o.alias),f=i.db.getC4ShapeKeys(o.alias);f.length>0&&qN(a,t,h,f),e=o.alias;let p=i.db.getBoundarys(e);p.length>0&&XN(t,e,a,p,i),"global"!==o.alias&&WN(t,o,a),n.data.stopy=Math.max(a.data.stopy+RN.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(a.data.stopx+RN.c4ShapeMargin,n.data.stopx),LN=Math.max(LN,n.data.stopx),BN=Math.max(BN,n.data.stopy)}}const ZN={drawPersonOrSystemArray:qN,drawBoundary:WN,setConf:$N,draw:function(t,e,n,r){RN=OA().c4;const i=OA().securityLevel;let a;"sandbox"===i&&(a=Nn("#i"+e));const s=Nn("sandbox"===i?a.nodes()[0].contentDocument.body:"body");let o=r.db;r.db.setWrap(RN.wrap),IN=o.getC4ShapeInRow(),FN=o.getC4BoundaryInRow(),v.debug(`C:${JSON.stringify(RN,null,2)}`);const c="sandbox"===i?s.select(`[id="${e}"]`):Nn(`[id="${e}"]`);DN(c),NN(c),ON(c);let u=new PN(r);u.setData(RN.diagramMarginX,RN.diagramMarginX,RN.diagramMarginY,RN.diagramMarginY),u.data.widthLimit=screen.availWidth,LN=RN.diagramMarginX,BN=RN.diagramMarginY;const l=r.db.getTitle();XN(c,"",u,r.db.getBoundarys(""),r),CN(c),SN(c),MN(c),AN(c),function(t,e,n,r){let i=0;for(let a of e){i+=1;let s=a.wrap&&RN.wrap,t=jN(RN);"C4Dynamic"===r.db.getC4Type()&&(a.label.text=i+": "+a.label.text);let u=LS(a.label.text,t);UN("label",a,s,t,u),a.techn&&""!==a.techn.text&&(u=LS(a.techn.text,t),UN("techn",a,s,t,u)),a.descr&&""!==a.descr.text&&(u=LS(a.descr.text,t),UN("descr",a,s,t,u));let e=n(a.from),o=n(a.to),c=GN(e,o);a.startPoint=c.startPoint,a.endPoint=c.endPoint}TN(t,e,RN)}(c,r.db.getRels(),r.db.getC4Shape,r),u.data.stopx=LN,u.data.stopy=BN;const h=u.data;let f=h.stopy-h.starty+2*RN.diagramMarginY;const d=h.stopx-h.startx+2*RN.diagramMarginX;l&&c.append("text").text(l).attr("x",(h.stopx-h.startx)/2-4*RN.diagramMarginX).attr("y",h.starty+RN.diagramMarginY),$A(c,0,d,RN.useMaxWidth);const b=l?60:0;c.attr("viewBox",h.startx-RN.diagramMarginX+" -"+(RN.diagramMarginY+b)+" "+d+" "+(f+b)),zM(nN.yy,c,e),v.debug("models:",h)}};var QN=function(){var t=function(t,e,n,q){for(n=n||{},q=t.length;q--;n[t[q]]=e);return n},e=[1,3],n=[1,7],r=[1,8],i=[1,9],a=[1,10],s=[1,13],o=[1,12],c=[1,16,25],u=[1,20],l=[1,31],h=[1,32],f=[1,33],p=[1,35],d=[1,38],y=[1,36],m=[1,37],b=[1,39],_=[1,40],v=[1,41],x=[1,42],k=[1,45],w=[1,46],E=[1,47],T=[1,48],C=[16,25],S=[1,62],A=[1,63],M=[1,64],N=[1,65],D=[1,66],O=[1,67],L=[1,68],B=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],I=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],F=[5,8,9,10,11,16,19,23,25],R=[53,84,85,86,87],P=[53,61,62,84,85,86,87],$=[53,56,57,58,59,60,84,85,86,87],z=[16,25,32],Y=[1,100],j={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(t,e,q,n,r,o,c){var l=o.length-1;switch(r){case 5:n.setDirection("TB");break;case 6:n.setDirection("BT");break;case 7:n.setDirection("RL");break;case 8:n.setDirection("LR");break;case 12:n.parseDirective("%%{","open_directive");break;case 13:n.parseDirective(o[l],"type_directive");break;case 14:o[l]=o[l].trim().replace(/'/g,'"'),n.parseDirective(o[l],"arg_directive");break;case 15:n.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=o[l];break;case 22:this.$=o[l-1]+o[l];break;case 23:case 24:this.$=o[l-1]+"~"+o[l];break;case 25:n.addRelation(o[l]);break;case 26:o[l-1].title=n.cleanupLabel(o[l]),n.addRelation(o[l-1]);break;case 34:this.$=o[l].trim(),n.setAccTitle(this.$);break;case 35:case 36:this.$=o[l].trim(),n.setAccDescription(this.$);break;case 37:n.addClass(o[l]);break;case 38:n.addClass(o[l-2]),n.setCssClass(o[l-2],o[l]);break;case 39:n.addClass(o[l-3]),n.addMembers(o[l-3],o[l-1]);break;case 40:n.addClass(o[l-5]),n.setCssClass(o[l-5],o[l-3]),n.addMembers(o[l-5],o[l-1]);break;case 41:n.addAnnotation(o[l],o[l-2]);break;case 42:this.$=[o[l]];break;case 43:o[l].push(o[l-1]),this.$=o[l];break;case 44:case 46:case 47:break;case 45:n.addMember(o[l-1],n.cleanupLabel(o[l]));break;case 48:this.$={id1:o[l-2],id2:o[l],relation:o[l-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:o[l-3],id2:o[l],relation:o[l-1],relationTitle1:o[l-2],relationTitle2:"none"};break;case 50:this.$={id1:o[l-3],id2:o[l],relation:o[l-2],relationTitle1:"none",relationTitle2:o[l-1]};break;case 51:this.$={id1:o[l-4],id2:o[l],relation:o[l-2],relationTitle1:o[l-3],relationTitle2:o[l-1]};break;case 52:this.$={type1:o[l-2],type2:o[l],lineType:o[l-1]};break;case 53:this.$={type1:"none",type2:o[l],lineType:o[l-1]};break;case 54:this.$={type1:o[l-1],type2:"none",lineType:o[l]};break;case 55:this.$={type1:"none",type2:"none",lineType:o[l]};break;case 56:this.$=n.relationType.AGGREGATION;break;case 57:this.$=n.relationType.EXTENSION;break;case 58:this.$=n.relationType.COMPOSITION;break;case 59:this.$=n.relationType.DEPENDENCY;break;case 60:this.$=n.relationType.LOLLIPOP;break;case 61:this.$=n.lineType.LINE;break;case 62:this.$=n.lineType.DOTTED_LINE;break;case 63:case 69:this.$=o[l-2],n.setClickEvent(o[l-1],o[l]);break;case 64:case 70:this.$=o[l-3],n.setClickEvent(o[l-2],o[l-1]),n.setTooltip(o[l-2],o[l]);break;case 65:case 73:this.$=o[l-2],n.setLink(o[l-1],o[l]);break;case 66:case 74:this.$=o[l-3],n.setLink(o[l-2],o[l-1],o[l]);break;case 67:case 75:this.$=o[l-3],n.setLink(o[l-2],o[l-1]),n.setTooltip(o[l-2],o[l]);break;case 68:case 76:this.$=o[l-4],n.setLink(o[l-3],o[l-2],o[l]),n.setTooltip(o[l-3],o[l-1]);break;case 71:this.$=o[l-3],n.setClickEvent(o[l-2],o[l-1],o[l]);break;case 72:this.$=o[l-4],n.setClickEvent(o[l-3],o[l-2],o[l-1]),n.setTooltip(o[l-3],o[l]);break;case 77:n.setCssClass(o[l-1],o[l])}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:a,12:6,13:11,19:s,23:o},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:a,12:6,13:11,19:s,23:o},{1:[2,9]},t(c,[2,5]),t(c,[2,6]),t(c,[2,7]),t(c,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:u},t([17,22],[2,13]),{6:30,7:29,8:n,9:r,10:i,11:a,13:11,19:s,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:l,40:h,42:f,43:p,48:d,50:y,51:m,63:b,64:_,66:v,70:x,84:k,85:w,86:E,87:T},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},t(C,[2,25],{32:[1,54]}),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),t(C,[2,30]),t(C,[2,31]),t(C,[2,32]),t(C,[2,33]),{39:[1,55]},{41:[1,56]},t(C,[2,36]),t(C,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:S,57:A,58:M,59:N,60:D,61:O,62:L}),{27:69,28:43,29:44,84:k,85:w,86:E,87:T},t(C,[2,46]),t(C,[2,47]),{28:70,84:k,85:w,86:E},{27:71,28:43,29:44,84:k,85:w,86:E,87:T},{27:72,28:43,29:44,84:k,85:w,86:E,87:T},{27:73,28:43,29:44,84:k,85:w,86:E,87:T},{53:[1,74]},t(B,[2,20],{28:43,29:44,27:75,30:[1,76],84:k,85:w,86:E,87:T}),t(B,[2,21],{30:[1,77]}),t(I,[2,91]),t(I,[2,92]),t(I,[2,93]),t([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),t(F,[2,10]),{15:78,22:u},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:n,9:r,10:i,11:a,13:11,19:s,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:l,40:h,42:f,43:p,48:d,50:y,51:m,63:b,64:_,66:v,70:x,84:k,85:w,86:E,87:T},t(C,[2,26]),t(C,[2,34]),t(C,[2,35]),{27:80,28:43,29:44,53:[1,81],84:k,85:w,86:E,87:T},{52:82,54:60,55:61,56:S,57:A,58:M,59:N,60:D,61:O,62:L},t(C,[2,45]),{55:83,61:O,62:L},t(R,[2,55],{54:84,56:S,57:A,58:M,59:N,60:D}),t(P,[2,56]),t(P,[2,57]),t(P,[2,58]),t(P,[2,59]),t(P,[2,60]),t($,[2,61]),t($,[2,62]),t(C,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:k,85:w,86:E},t(B,[2,22]),t(B,[2,23]),t(B,[2,24]),{16:[1,93]},{25:[2,19]},t(z,[2,48]),{27:94,28:43,29:44,84:k,85:w,86:E,87:T},{27:95,28:43,29:44,53:[1,96],84:k,85:w,86:E,87:T},t(R,[2,54],{54:97,56:S,57:A,58:M,59:N,60:D}),t(R,[2,53]),{28:98,84:k,85:w,86:E},{46:99,50:Y},{27:101,28:43,29:44,84:k,85:w,86:E,87:T},t(C,[2,63],{53:[1,102]}),t(C,[2,65],{53:[1,104],65:[1,103]}),t(C,[2,69],{53:[1,105],68:[1,106]}),t(C,[2,73],{53:[1,108],65:[1,107]}),t(C,[2,77]),t(F,[2,11]),t(z,[2,50]),t(z,[2,49]),{27:109,28:43,29:44,84:k,85:w,86:E,87:T},t(R,[2,52]),t(C,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:Y},t(C,[2,41]),t(C,[2,64]),t(C,[2,66]),t(C,[2,67],{65:[1,113]}),t(C,[2,70]),t(C,[2,71],{53:[1,114]}),t(C,[2,74]),t(C,[2,75],{65:[1,115]}),t(z,[2,51]),{46:116,50:Y},t(C,[2,39]),{47:[2,43]},t(C,[2,68]),t(C,[2,72]),t(C,[2,76]),{47:[1,117]},t(C,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:function(t,e){if(!e.recoverable){var q=new Error(t);throw q.hash=e,q}this.trace(t)},parse:function(t){var e=this,q=[0],n=[],r=[null],o=[],c=this.table,l="",h=0,f=0,d=2,y=1,m=o.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;o.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=n.pop()||_.lex()||y)&&(t instanceof Array&&(t=(n=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=q[q.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=c[C]&&c[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],c[C])this.terminals_[M]&&M>d&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(T==y?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:q.push(T),r.push(_.yytext),o.push(_.yylloc),q.push(S[1]),T=null,f=_.yyleng,l=_.yytext,h=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=r[r.length-N],L._$={first_line:o[o.length-(N||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(N||1)].first_column,last_column:o[o.length-1].last_column},w&&(L._$.range=[o[o.length-(N||1)].range[0],o[o.length-1].range[1]]),typeof(A=this.performAction.apply(L,[l,f,h,v.yy,S[1],r,o].concat(m)))<"u")return A;N&&(q=q.slice(0,-1*N*2),r=r.slice(0,-1*N),o=o.slice(0,-1*N)),q.push(this.productions_[S[1]][0]),r.push(L.$),o.push(L._$),D=c[q[q.length-2]][q[q.length-1]],q.push(D);break;case 3:return!0}}return!0}},U={EOF:1,parseError:function(t,q){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,q)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,q=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===n.length?this.yylloc.first_column:0)+n[n.length-q.length].length-q[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var q,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],q=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,q,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((q=this._input.match(this.rules[r[o]]))&&(!e||q[0].length>e[0].length)){if(e=q,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(q,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,q,e,n){switch(e){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 27:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 37:case 40:case 43:case 46:case 49:case 52:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 41:return"STR";case 42:this.begin("bqstring");break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 47:return 69;case 48:this.begin("callback_name");break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 53:return 68;case 54:case 55:case 56:case 57:return 65;case 58:case 59:return 57;case 60:case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};function W(){this.yy={}}return j.lexer=U,W.prototype=j,j.Parser=W,new W}();QN.parser=QN;const KN=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*classDiagram/)},JN=(t,e)=>{var n;return null!==t.match(/^\s*classDiagram/)&&"dagre-wrapper"===(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)||null!==t.match(/^\s*classDiagram-v2/)},tD="classid-";let eD=[],nD={},rD=0,iD=[];const aD=t=>OE.sanitizeText(t,OA()),oD=function(t){let e="",n=t;if(t.indexOf("~")>0){let r=t.split("~");n=r[0],e=OE.sanitizeText(r[1],OA())}return{className:n,type:e}},sD=function(t){let e=oD(t);typeof nD[e.className]<"u"||(nD[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:tD+e.className+"-"+rD},rD++)},cD=function(t){const e=Object.keys(nD);for(let n=0;n<e.length;n++)if(nD[e[n]].id===t)return nD[e[n]].domId},lD=function(t,e){const n=oD(t).className,r=nD[n];if("string"==typeof e){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(aD(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(aD(i)):i&&r.members.push(aD(i))}},uD=function(t,e){t.split(",").forEach((function(t){let n=t;t[0].match(/\d/)&&(n=tD+n),typeof nD[n]<"u"&&nD[n].cssClasses.push(e)}))},hD=function(t,e,n){const r=OA();let i=t,a=cD(i);if("loose"===r.securityLevel&&!(typeof e>"u")&&typeof nD[i]<"u"){let s=[];if("string"==typeof n){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<s.length;t++){let e=s[t].trim();'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),s[t]=e}}0===s.length&&s.push(a),iD.push((function(){const t=document.querySelector(`[id="${a}"]`);null!==t&&t.addEventListener("click",(function(){$S.runFunc(e,...s)}),!1)}))}},fD=function(t){let e=Nn(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=Nn("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Nn(t).select("svg").selectAll("g.node").on("mouseover",(function(){const i=Nn(this);if(null===i.attr("title"))return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),Nn(this).classed("hover",!1)}))};iD.push(fD);let dD="TB";const pD={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},setAccTitle:mM,getAccTitle:bM,getAccDescription:vM,setAccDescription:_M,getConfig:()=>OA().class,addClass:sD,bindFunctions:function(t){iD.forEach((function(e){e(t)}))},clear:function(){eD=[],nD={},iD=[],iD.push(fD),yM()},getClass:function(t){return nD[t]},getClasses:function(){return nD},addAnnotation:function(t,e){const n=oD(t).className;nD[n].annotations.push(e)},getRelations:function(){return eD},addRelation:function(t){v.debug("Adding relation: "+JSON.stringify(t)),sD(t.id1),sD(t.id2),t.id1=oD(t.id1).className,t.id2=oD(t.id2).className,t.relationTitle1=OE.sanitizeText(t.relationTitle1.trim(),OA()),t.relationTitle2=OE.sanitizeText(t.relationTitle2.trim(),OA()),eD.push(t)},getDirection:()=>dD,setDirection:t=>{dD=t},addMember:lD,addMembers:function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach((e=>lD(t,e))))},cleanupLabel:function(t){return":"===t.substring(0,1)?OE.sanitizeText(t.substr(1).trim(),OA()):aD(t.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){hD(t,e,n),nD[t].haveCallback=!0})),uD(t,"clickable")},setCssClass:uD,setLink:function(t,e,n){const r=OA();t.split(",").forEach((function(i){let a=i;i[0].match(/\d/)&&(a=tD+a),typeof nD[a]<"u"&&(nD[a].link=$S.formatUrl(e,r),"sandbox"===r.securityLevel?nD[a].linkTarget="_top":nD[a].linkTarget="string"==typeof n?aD(n):"_blank")})),uD(t,"clickable")},getTooltip:function(t){return nD[t].tooltip},setTooltip:function(t,e){const n=OA();t.split(",").forEach((function(t){typeof e<"u"&&(nD[t].tooltip=OE.sanitizeText(e,n))}))},lookUpDomId:cD};var gD,yD,mD,bD,_D,vD,xD,kD,wD,ED,TD,CD,SD,AD,MD,ND,DD,OD,LD,BD,ID,FD,RD,PD,$D,zD,YD,jD,UD,WD,qD,HD;function VD(){if(CD)return TD;CD=1;var t=GC,e=function(){if(yD)return gD;yD=1;var t=GC;return gD=function(){this.__data__=new t,this.size=0}}(),n=bD?mD:(bD=1,mD=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}),r=vD?_D:(vD=1,_D=function(t){return this.__data__.get(t)}),i=kD?xD:(kD=1,xD=function(t){return this.__data__.has(t)}),a=function(){if(ED)return wD;ED=1;var t=GC,e=XC,n=h4;return wD=function(a,s){var r=this.__data__;if(r instanceof t){var o=r.__data__;if(!e||o.length<199)return o.push([a,s]),this.size=++r.size,this;r=this.__data__=new n(o)}return r.set(a,s),this.size=r.size,this}}();function s(e){var n=this.__data__=new t(e);this.size=n.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,TD=s}function GD(){if(AD)return SD;return AD=1,SD=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}}function XD(){if(ND)return MD;ND=1;var t=uC,e=function(){try{var e=t(Object,"defineProperty");return e({},"",{}),e}catch{}}();return MD=e}function ZD(){if(OD)return DD;OD=1;var t=XD();return DD=function(e,n,i){"__proto__"==n&&t?t(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}}function QD(){if(BD)return LD;BD=1;var t=ZD(),e=ul,n=Object.prototype.hasOwnProperty;return LD=function(a,s,r){var o=a[s];(!n.call(a,s)||!e(o,r)||void 0===r&&!(s in a))&&t(a,s,r)}}function KD(){if(FD)return ID;FD=1;var t=QD(),e=ZD();return ID=function(n,i,a,s){var r=!a;a||(a={});for(var o=-1,u=i.length;++o<u;){var c=i[o],l=s?s(a[c],n[c],c,a,n):void 0;void 0===l&&(l=n[c]),r?e(a,c,l):t(a,c,l)}return a}}function JD(){if(zD)return $D;return zD=1,$D=function(t){return null!=t&&"object"==typeof t}}function tO(){if(WD)return UD;WD=1;var t=function(){if(jD)return YD;jD=1;var t=zT,e=JD();return YD=function(i){return e(i)&&"[object Arguments]"==t(i)}}(),e=JD(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return UD=a}function br(){if(HD)return qD;HD=1;var t=Array.isArray;return qD=t}var eO,nO,rO,iO,aO,oO,sO,cO,lO,uO,hO,fO={exports:{}};function dO(){return rO||(rO=1,function(t,e){var n=AT,r=nO?eO:(nO=1,eO=function(){return!1}),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i?n.Buffer:void 0,u=(o?o.isBuffer:void 0)||r;t.exports=u}(fO,fO.exports)),fO.exports}function pO(){if(aO)return iO;aO=1;var t=/^(?:0|[1-9]\d*)$/;return iO=function(e,i){var a=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<i}}function gO(){if(sO)return oO;sO=1;return oO=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}}function yO(){if(hO)return uO;return hO=1,uO=function(t){return function(e){return t(e)}}}var mO,bO,_O,vO,xO,kO,wO,EO,TO,CO,SO,AO,MO,NO,DO,OO,LO,BO,IO,FO,RO,PO,$O,zO,YO,h2,jO,UO={exports:{}};function WO(){return mO||(mO=1,function(t,e){var n=TT,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,s=i&&i.exports===r&&n.process,o=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(UO,UO.exports)),UO.exports}function qO(){if(_O)return bO;_O=1;var t=function(){if(lO)return cO;lO=1;var t=zT,e=gO(),n=JD(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,cO=function(o){return n(o)&&e(o.length)&&!!r[t(o)]}}(),e=yO(),n=WO(),r=n&&n.isTypedArray,i=r?e(r):t;return bO=i}function HO(){if(xO)return vO;xO=1;var t=PD?RD:(PD=1,RD=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}),e=tO(),n=br(),r=dO(),i=pO(),a=qO(),o=Object.prototype.hasOwnProperty;return vO=function(u,c){var l=n(u),h=!l&&e(u),p=!l&&!h&&r(u),f=!l&&!h&&!p&&a(u),d=l||h||p||f,y=d?t(u.length,String):[],b=y.length;for(var m in u)(c||o.call(u,m))&&(!d||!("length"==m||p&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||i(m,b)))&&y.push(m);return y}}function VO(){if(wO)return kO;wO=1;var t=Object.prototype;return kO=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}}function GO(){if(TO)return EO;return TO=1,EO=function(t,e){return function(n){return t(e(n))}}}function XO(){if(MO)return AO;MO=1;var t=VO(),e=function(){if(SO)return CO;SO=1;var t=GO()(Object.keys,Object);return CO=t}(),n=Object.prototype.hasOwnProperty;return AO=function(a){if(!t(a))return e(a);var s=[];for(var r in Object(a))n.call(a,r)&&"constructor"!=r&&s.push(r);return s}}function ZO(){if(DO)return NO;DO=1;var t=WT,e=gO();return NO=function(n){return null!=n&&e(n.length)&&!t(n)}}function QO(){if(LO)return OO;LO=1;var t=HO(),e=XO(),n=ZO();return OO=function(i){return n(i)?t(i):e(i)}}function KO(){if($O)return PO;$O=1;var t=YT,e=VO(),n=RO?FO:(RO=1,FO=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}),i=Object.prototype.hasOwnProperty;return PO=function(s){if(!t(s))return n(s);var r=e(s),o=[];for(var u in s)"constructor"==u&&(r||!i.call(s,u))||o.push(u);return o}}function JO(){if(YO)return zO;YO=1;var t=HO(),e=KO(),n=ZO();return zO=function(i){return n(i)?t(i,!0):e(i)}}var tL,eL,nL,rL,iL,aL,oL,sL,cL,lL,uL,hL,fL,dL,pL,gL,yL,mL,bL,_L,vL,xL,kL,wL,EL,TL,CL,SL,AL,ML,NL,DL,OL,LL,BL,IL,FL,RL,PL,$L,zL,YL,jL,UL,WL,qL,HL,VL,GL,XL,ZL,QL,KL,JL,tB,eB,nB,rB,iB,aB,oB,sB,cB,lB,uB,hB,fB,dB,pB,gB={exports:{}};function yB(){return tL||(tL=1,function(t,e){var n=AT,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,s=i&&i.exports===r?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;t.exports=function(u,t){if(t)return u.slice();var e=u.length,n=o?o(e):new u.constructor(e);return u.copy(n),n}}(gB,gB.exports)),gB.exports}function mB(){if(nL)return eL;return nL=1,eL=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}}function bB(){if(iL)return rL;return iL=1,rL=function(t,e){for(var n=-1,i=null==t?0:t.length,a=0,s=[];++n<i;){var r=t[n];e(r,n,t)&&(s[a++]=r)}return s}}function _B(){if(oL)return aL;return oL=1,aL=function(){return[]}}function vB(){if(cL)return sL;cL=1;var t=bB(),e=_B(),n=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;return sL=i?function(s){return null==s?[]:(s=Object(s),t(i(s),(function(t){return n.call(s,t)})))}:e}function xB(){if(fL)return hL;return fL=1,hL=function(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}}function kB(){if(pL)return dL;pL=1;var t=GO()(Object.getPrototypeOf,Object);return dL=t}function wB(){if(yL)return gL;yL=1;var t=xB(),e=kB(),n=vB(),r=_B(),i=Object.getOwnPropertySymbols;return gL=i?function(s){for(var r=[];s;)t(r,n(s)),s=e(s);return r}:r}function EB(){if(vL)return _L;vL=1;var t=xB(),e=br();return _L=function(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}}function TB(){if(kL)return xL;kL=1;var t=EB(),e=vB(),n=QO();return xL=function(i){return t(i,n,e)}}function CB(){if(NL)return ML;NL=1;var t=uC(AT,"Set");return ML=t}function SB(){if(BL)return LL;BL=1;var t=function(){if(CL)return TL;CL=1;var t=uC(AT,"DataView");return TL=t}(),e=XC,n=function(){if(AL)return SL;AL=1;var t=uC(AT,"Promise");return SL=t}(),r=CB(),i=function(){if(OL)return DL;OL=1;var t=uC(AT,"WeakMap");return DL=t}(),a=zT,s=XT,o="[object Map]",u="[object Promise]",c="[object Set]",l="[object WeakMap]",h="[object DataView]",p=s(t),f=s(e),d=s(n),y=s(r),b=s(i),m=a;return(t&&m(new t(new ArrayBuffer(1)))!=h||e&&m(new e)!=o||n&&m(n.resolve())!=u||r&&m(new r)!=c||i&&m(new i)!=l)&&(m=function(t){var e=a(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case p:return h;case f:return o;case d:return u;case y:return c;case b:return l}return e}),LL=m}function AB(){if(PL)return RL;PL=1;var t=AT.Uint8Array;return RL=t}function MB(){if(zL)return $L;zL=1;var t=AB();return $L=function(e){var n=new e.constructor(e.byteLength);return new t(n).set(new t(e)),n}}function NB(){if(GL)return VL;GL=1;var t=MB();return VL=function(e,n){var i=n?t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}}function DB(){if(ZL)return XL;ZL=1;var t=MB(),e=function(){if(jL)return YL;jL=1;var t=MB();return YL=function(e,n){var i=n?t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}}(),n=function(){if(WL)return UL;WL=1;var t=/\w*$/;return UL=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}}(),r=function(){if(HL)return qL;HL=1;var t=ol?ol.prototype:void 0,e=t?t.valueOf:void 0;return qL=function(i){return e?Object(e.call(i)):{}}}(),i=NB();return XL=function(o,c,l){var h=o.constructor;switch(c){case"[object ArrayBuffer]":return t(o);case"[object Boolean]":case"[object Date]":return new h(+o);case"[object DataView]":return e(o,l);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(o,l);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(o);case"[object RegExp]":return n(o);case"[object Symbol]":return r(o)}}}function OB(){if(KL)return QL;KL=1;var t=YT,e=Object.create,n=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return QL=n}function LB(){if(tB)return JL;tB=1;var t=OB(),e=kB(),n=VO();return JL=function(i){return"function"!=typeof i.constructor||n(i)?{}:t(e(i))}}function BB(){if(iB)return rB;iB=1;var t=function(){if(nB)return eB;nB=1;var t=SB(),e=JD();return eB=function(i){return e(i)&&"[object Map]"==t(i)}}(),e=yO(),n=WO(),r=n&&n.isMap,i=r?e(r):t;return rB=i}function IB(){if(cB)return sB;cB=1;var t=function(){if(oB)return aB;oB=1;var t=SB(),e=JD();return aB=function(i){return e(i)&&"[object Set]"==t(i)}}(),e=yO(),n=WO(),r=n&&n.isSet,i=r?e(r):t;return sB=i}function FB(){if(uB)return lB;uB=1;var t=VD(),e=GD(),n=QD(),r=function(){if(IO)return BO;IO=1;var t=KD(),e=QO();return BO=function(n,i){return n&&t(i,e(i),n)}}(),i=function(){if(jO)return h2;jO=1;var t=KD(),e=JO();return h2=function(n,i){return n&&t(i,e(i),n)}}(),a=yB(),s=mB(),o=function(){if(uL)return lL;uL=1;var t=KD(),e=vB();return lL=function(n,i){return t(n,e(n),i)}}(),c=function(){if(bL)return mL;bL=1;var t=KD(),e=wB();return mL=function(n,i){return t(n,e(n),i)}}(),u=TB(),l=function(){if(EL)return wL;EL=1;var t=EB(),e=wB(),n=JO();return wL=function(i){return t(i,n,e)}}(),h=SB(),f=function(){if(FL)return IL;FL=1;var t=Object.prototype.hasOwnProperty;return IL=function(e){var i=e.length,a=new e.constructor(i);return i&&"string"==typeof e[0]&&t.call(e,"index")&&(a.index=e.index,a.input=e.input),a}}(),p=DB(),d=LB(),y=br(),m=dO(),b=BB(),_=YT,v=IB(),x=QO(),k=JO(),w="[object Arguments]",E="[object Function]",T="[object Object]",C={};return C[w]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[E]=C["[object WeakMap]"]=!1,lB=function S(A,M,N,D,O,L){var B,I=1&M,F=2&M,R=4&M;if(N&&(B=O?N(A,D,O,L):N(A)),void 0!==B)return B;if(!_(A))return A;var P=y(A);if(P){if(B=f(A),!I)return s(A,B)}else{var $=h(A),z=$==E||"[object GeneratorFunction]"==$;if(m(A))return a(A,I);if($==T||$==w||z&&!O){if(B=F||z?{}:d(A),!I)return F?c(A,i(B,A)):o(A,r(B,A))}else{if(!C[$])return O?A:{};B=p(A,$,I)}}L||(L=new t);var Y=L.get(A);if(Y)return Y;L.set(A,B),v(A)?A.forEach((function(t){B.add(S(t,M,N,t,A,L))})):b(A)&&A.forEach((function(t,e){B.set(e,S(t,M,N,e,A,L))}));var j=P?void 0:(R?F?l:u:F?k:x)(A);return e(j||A,(function(t,e){j&&(t=A[e=t]),n(B,e,S(t,M,N,e,A,L))})),B},lB}function RB(){if(pB)return dB;return pB=1,dB=function(t){return function(){return t}}}var PB,$B,zB,YB,jB,UB,WB,qB,HB,VB,GB,XB,ZB,QB,KB,JB,tI,eI,nI,rp,rI,iI,aI,oI,sI,cI,lI,uI,hI,fI,dI,pI,gI,yI,mI,bI,_I,vI,xI,kI,wI,EI,TI,CI,SI,AI,MI,NI,DI,OI,LI,BI,II,FI,RI,PI,$I,zI,YI,jI,UI,WI,qI,HI,VI,GI,XI,ZI,QI,KI,JI,tF,eF,nF,rF,iF,aF,oF,sF,cF,lF,uF,hF,fF,dF,pF,gF,yF,mF,bF,_F,vF,xF,kF,wF,EF,TF,CF,SF,AF,MF,NF,DF,OF,LF,BF,IF,FF,RF,PF,$F,zF,YF,jF,UF,WF,qF,HF,VF,GF,XF,ZF,QF,KF,JF,tR,eR,nR,rR,iR,aR,oR,sR,cR,lR,uR,hR,fR,dR,pR,gR,yR,mR,bR,_R,vR,xR,kR,wR,ER,TR,CR,SR,AR,MR,NR,DR,OR,LR,BR,IR,FR,RR,PR,$R,zR,YR,jR,UR={exports:{}};function WR(){if(YB)return zB;YB=1;var t=$B?PB:($B=1,PB=function(t){return function(e,n,i){for(var a=-1,s=Object(e),r=i(e),o=r.length;o--;){var u=r[t?o:++a];if(!1===n(s[u],u,s))break}return e}}),e=t();return zB=e}function qR(){if(UB)return jB;UB=1;var t=WR(),e=QO();return jB=function(n,i){return n&&t(n,i,e)}}function HR(){if(VB)return HB;VB=1;var t=qR(),e=function(){if(qB)return WB;qB=1;var t=ZO();return WB=function(e,n){return function(i,a){if(null==i)return i;if(!t(i))return e(i,a);for(var s=i.length,r=n?s:-1,o=Object(i);(n?r--:++r<s)&&!1!==a(o[r],r,o););return i}}}(),n=e(t);return HB=n}function VR(){if(XB)return GB;return XB=1,GB=function(t){return t}}function GR(){if(QB)return ZB;QB=1;var t=VR();return ZB=function(e){return"function"==typeof e?e:t}}function XR(){if(JB)return KB;JB=1;var t=GD(),e=HR(),n=GR(),r=br();return KB=function(a,s){return(r(a)?t:e)(a,n(s))}}function ZR(){return tI||(tI=1,function(t){t.exports=XR()}(UR)),UR.exports}function QR(){if(sI)return oI;sI=1;var t=h4,e=rI?rp:(rI=1,rp=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}),n=aI?iI:(aI=1,iI=function(t){return this.__data__.has(t)});function r(i){var a=-1,s=null==i?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,oI=r}function KR(){if(hI)return uI;return hI=1,uI=function(t,e){return t.has(e)}}function JR(){if(dI)return fI;dI=1;var t=QR(),e=lI?cI:(lI=1,cI=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}),n=KR();return fI=function(s,r,o,u,c,l){var h=1&o,p=s.length,f=r.length;if(p!=f&&!(h&&f>p))return!1;var d=l.get(s),y=l.get(r);if(d&&y)return d==r&&y==s;var b=-1,m=!0,_=2&o?new t:void 0;for(l.set(s,r),l.set(r,s);++b<p;){var v=s[b],x=r[b];if(u)var k=h?u(x,v,b,r,s,l):u(v,x,b,s,r,l);if(void 0!==k){if(k)continue;m=!1;break}if(_){if(!e(r,(function(t,e){if(!n(_,e)&&(v===t||c(v,t,o,u,l)))return _.push(e)}))){m=!1;break}}else if(v!==x&&!c(v,x,o,u,l)){m=!1;break}}return l.delete(s),l.delete(r),m}}function tP(){if(mI)return yI;return mI=1,yI=function(t){var e=-1,n=Array(t.size);return t.forEach((function(i){n[++e]=i})),n}}function eP(){if(_I)return bI;_I=1;var t=ol,e=AB(),n=ul,r=JR(),i=gI?pI:(gI=1,pI=function(t){var e=-1,n=Array(t.size);return t.forEach((function(i,a){n[++e]=[a,i]})),n}),a=tP(),o=t?t.prototype:void 0,c=o?o.valueOf:void 0;return bI=function(t,o,l,h,f,d,y){switch(l){case"[object DataView]":if(t.byteLength!=o.byteLength||t.byteOffset!=o.byteOffset)return!1;t=t.buffer,o=o.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=o.byteLength||!d(new e(t),new e(o)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+t,+o);case"[object Error]":return t.name==o.name&&t.message==o.message;case"[object RegExp]":case"[object String]":return t==o+"";case"[object Map]":var m=i;case"[object Set]":var _=1&h;if(m||(m=a),t.size!=o.size&&!_)return!1;var v=y.get(t);if(v)return v==o;h|=2,y.set(t,o);var x=r(m(t),m(o),h,f,d,y);return y.delete(t),x;case"[object Symbol]":if(c)return c.call(t)==c.call(o)}return!1}}function nP(){if(wI)return kI;wI=1;var t=VD(),e=JR(),n=eP(),r=function(){if(xI)return vI;xI=1;var t=TB(),e=Object.prototype.hasOwnProperty;return vI=function(a,s,n,r,u,o){var c=1&n,l=t(a),p=l.length;if(p!=t(s).length&&!c)return!1;for(var h=p;h--;){var b=l[h];if(!(c?b in s:e.call(s,b)))return!1}var f=o.get(a),d=o.get(s);if(f&&d)return f==s&&d==a;var y=!0;o.set(a,s),o.set(s,a);for(var m=c;++h<p;){var _=a[b=l[h]],v=s[b];if(r)var x=c?r(v,_,b,s,a,o):r(_,v,b,a,s,o);if(!(void 0===x?_===v||u(_,v,n,r,o):x)){y=!1;break}m||(m="constructor"==b)}if(y&&!m){var k=a.constructor,w=s.constructor;k!=w&&"constructor"in a&&"constructor"in s&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(y=!1)}return o.delete(a),o.delete(s),y}}(),i=SB(),a=br(),s=dO(),o=qO(),u="[object Arguments]",c="[object Array]",l="[object Object]",p=Object.prototype.hasOwnProperty;return kI=function(h,f,b,d,y,m){var _=a(h),v=a(f),x=_?c:i(h),k=v?c:i(f),w=(x=x==u?l:x)==l,E=(k=k==u?l:k)==l,T=x==k;if(T&&s(h)){if(!s(f))return!1;_=!0,w=!1}if(T&&!w)return m||(m=new t),_||o(h)?e(h,f,b,d,y,m):n(h,f,x,b,d,y,m);if(!(1&b)){var C=w&&p.call(h,"__wrapped__"),S=E&&p.call(f,"__wrapped__");if(C||S){var A=C?h.value():h,M=S?f.value():f;return m||(m=new t),y(A,M,b,d,m)}}return!!T&&(m||(m=new t),r(h,f,b,d,y,m))}}function rP(){if(TI)return EI;TI=1;var t=nP(),e=JD();return EI=function n(r,i,a,s,o){return r===i||(null==r||null==i||!e(r)&&!e(i)?r!=r&&i!=i:t(r,i,a,s,n,o))},EI}function iP(){if(MI)return AI;MI=1;var t=YT;return AI=function(e){return e==e&&!t(e)}}function aP(){if(LI)return OI;return LI=1,OI=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}}function oP(){if(II)return BI;II=1;var t=function(){if(SI)return CI;SI=1;var t=VD(),e=rP();return CI=function(a,s,n,r){var u=n.length,o=u,c=!r;if(null==a)return!o;for(a=Object(a);u--;){var l=n[u];if(c&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++u<o;){var p=(l=n[u])[0],h=a[p],f=l[1];if(c&&l[2]){if(void 0===h&&!(p in a))return!1}else{var d=new t;if(r)var b=r(h,f,p,a,s,d);if(!(void 0===b?e(f,h,3,r,d):b))return!1}}return!0}}(),e=function(){if(DI)return NI;DI=1;var t=iP(),e=QO();return NI=function(n){for(var i=e(n),a=i.length;a--;){var s=i[a],r=n[s];i[a]=[s,r,t(r)]}return i}}(),n=aP();return BI=function(i){var a=e(i);return 1==a.length&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}}function sP(){if(RI)return FI;RI=1;var t=zT,e=JD();return FI=function(i){return"symbol"==typeof i||e(i)&&"[object Symbol]"==t(i)}}function cP(){if($I)return PI;$I=1;var t=br(),e=sP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return PI=function(a,s){if(t(a))return!1;var o=typeof a;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=a&&!e(a))||(r.test(a)||!n.test(a)||null!=s&&a in Object(s))}}function lP(){if(UI)return jI;UI=1;var t=function(){if(YI)return zI;YI=1;var t=bS;return zI=function(e){var i=t(e,(function(s){return 500===a.size&&a.clear(),s})),a=i.cache;return i}}(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t((function(i){var a=[];return 46===i.charCodeAt(0)&&a.push(""),i.replace(e,(function(s,t,e,u){a.push(e?u.replace(n,"$1"):t||s)})),a}));return jI=r}function uP(){if(qI)return WI;return qI=1,WI=function(t,e){for(var n=-1,i=null==t?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}}function hP(){if(XI)return GI;XI=1;var t=function(){if(VI)return HI;VI=1;var t=ol,e=uP(),n=br(),r=sP(),a=t?t.prototype:void 0,s=a?a.toString:void 0;return HI=function t(o){if("string"==typeof o)return o;if(n(o))return e(o,t)+"";if(r(o))return s?s.call(o):"";var u=o+"";return"0"==u&&1/o==-1/0?"-0":u}}();return GI=function(e){return null==e?"":t(e)}}function fP(){if(QI)return ZI;QI=1;var t=br(),e=cP(),n=lP(),r=hP();return ZI=function(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}}function dP(){if(JI)return KI;JI=1;var t=sP();return KI=function(e){if("string"==typeof e||t(e))return e;var i=e+"";return"0"==i&&1/e==-Infinity?"-0":i}}function pP(){if(eF)return tF;eF=1;var t=fP(),e=dP();return tF=function(n,i){for(var a=0,s=(i=t(i,n)).length;null!=n&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}}function gP(){if(sF)return oF;sF=1;var t=fP(),e=tO(),n=br(),r=pO(),i=gO(),a=dP();return oF=function(o,c,u){for(var l=-1,h=(c=t(c,o)).length,f=!1;++l<h;){var p=a(c[l]);if(!(f=null!=o&&u(o,p)))break;o=o[p]}return f||++l!=h?f:!!(h=null==o?0:o.length)&&i(h)&&r(p,h)&&(n(o)||e(o))}}function yP(){if(lF)return cF;lF=1;var t=aF?iF:(aF=1,iF=function(t,e){return null!=t&&e in Object(t)}),e=gP();return cF=function(n,i){return null!=n&&e(n,i,t)}}function mP(){if(hF)return uF;hF=1;var t=rP(),e=function(){if(rF)return nF;rF=1;var t=pP();return nF=function(e,n,i){var a=null==e?void 0:t(e,n);return void 0===a?i:a}}(),n=yP(),r=cP(),i=iP(),a=aP(),s=dP();return uF=function(o,c){return r(o)&&i(c)?a(s(o),c):function(r){var p=e(r,o);return void 0===p&&p===c?n(r,o):t(c,p,3)}}}function bP(){if(dF)return fF;return dF=1,fF=function(t){return function(e){return null==e?void 0:e[t]}}}function _P(){if(mF)return yF;mF=1;var t=bP(),e=function(){if(gF)return pF;gF=1;var t=pP();return pF=function(e){return function(n){return t(n,e)}}}(),n=cP(),r=dP();return yF=function(a){return n(a)?t(r(a)):e(a)}}function vP(){if(_F)return bF;_F=1;var t=oP(),e=mP(),n=VR(),r=br(),i=_P();return bF=function(s){return"function"==typeof s?s:null==s?n:"object"==typeof s?r(s)?e(s[0],s[1]):t(s):i(s)}}function xP(){if(xF)return vF;xF=1;var t=bB(),e=function(){if(nI)return eI;nI=1;var t=HR();return eI=function(e,n){var i=[];return t(e,(function(a,s,t){n(a,s,t)&&i.push(a)})),i}}(),n=vP(),r=br();return vF=function(a,s){return(r(a)?t:e)(a,n(s,3))}}function kP(){if(TF)return EF;TF=1;var t=function(){if(wF)return kF;wF=1;var t=Object.prototype.hasOwnProperty;return kF=function(e,i){return null!=e&&t.call(e,i)}}(),e=gP();return EF=function(n,i){return null!=n&&e(n,i,t)}}function wP(){if(MF)return AF;return MF=1,AF=function(t){return void 0===t}}function EP(){if(DF)return NF;DF=1;var t=HR(),e=ZO();return NF=function(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,(function(t,e,u){s[++a]=i(t,e,u)})),s}}function TP(){if(LF)return OF;LF=1;var t=uP(),e=vP(),n=EP(),r=br();return OF=function(a,s){return(r(a)?t:n)(a,e(s,3))}}function CP(){if($F)return PF;$F=1;var t=IF?BF:(IF=1,BF=function(t,e,n,i){var a=-1,s=null==t?0:t.length;for(i&&s&&(n=t[++a]);++a<s;)n=e(n,t[a],a,t);return n}),e=HR(),n=vP(),r=RF?FF:(RF=1,FF=function(t,e,n,i,a){return a(t,(function(s,t,r){n=i?(i=!1,s):e(n,s,t,r)})),n}),i=br();return PF=function(s,o,c){var u=i(s)?t:r,l=arguments.length<3;return u(s,n(o,4),c,l,e)},PF}function SP(){if(XF)return GF;XF=1;var t=function(){if(UF)return jF;UF=1;var t=bP()("length");return jF=t}(),e=function(){if(qF)return WF;qF=1;var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return WF=function(u){return t.test(u)}}(),n=function(){if(VF)return HF;VF=1;var t="\\ud800-\\udfff",s="["+t+"]",e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+e+"|"+n+")?",h="[\\ufe0e\\ufe0f]?",b=h+l+"(?:\\u200d(?:"+[r,o,c].join("|")+")"+h+l+")*",f="(?:"+[r+e+"?",e,o,c,s].join("|")+")",d=RegExp(n+"(?="+n+")|"+f+b,"g");return HF=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}}();return GF=function(i){return e(i)?n(i):t(i)}}function AP(){if(rR)return nR;rR=1;var t=xB(),e=function(){if(eR)return tR;eR=1;var t=ol,e=tO(),n=br(),r=t?t.isConcatSpreadable:void 0;return tR=function(a){return n(a)||e(a)||!!(r&&a&&a[r])}}();return nR=function n(r,i,a,s,o){var c=-1,u=r.length;for(a||(a=e),o||(o=[]);++c<u;){var l=r[c];i>0&&a(l)?i>1?n(l,i-1,a,s,o):t(o,l):s||(o[o.length]=l)}return o},nR}function MP(){if(sR)return oR;sR=1;var t=aR?iR:(aR=1,iR=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}),e=Math.max;return oR=function(n,i,a){return i=e(void 0===i?n.length-1:i,0),function(){for(var s=arguments,r=-1,o=e(s.length-i,0),u=Array(o);++r<o;)u[r]=s[i+r];r=-1;for(var c=Array(i+1);++r<i;)c[r]=s[r];return c[i]=a(u),t(n,this,c)}},oR}function NP(){if(dR)return fR;dR=1;var t=function(){if(lR)return cR;lR=1;var t=RB(),e=XD(),n=VR();return cR=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n}(),e=function(){if(hR)return uR;hR=1;var t=Date.now;return uR=function(i){var a=0,s=0;return function(){var e=t(),n=16-(e-s);if(s=e,n>0){if(++a>=800)return arguments[0]}else a=0;return i.apply(void 0,arguments)}},uR}(),n=e(t);return fR=n}function DP(){if(gR)return pR;gR=1;var t=VR(),e=MP(),n=NP();return pR=function(i,a){return n(e(i,a,t),i+"")}}function OP(){if(mR)return yR;return mR=1,yR=function(t,e,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(e(t[s],s,t))return s;return-1}}function LP(){if(wR)return kR;wR=1;var t=OP(),e=_R?bR:(_R=1,bR=function(t){return t!=t}),n=xR?vR:(xR=1,vR=function(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1});return kR=function(i,a,s){return a==a?n(i,a,s):t(i,e,s)}}function BP(){if(DR)return NR;DR=1;var t=CB(),e=MR?AR:(MR=1,AR=function(){}),n=tP(),i=t&&1/n(new t([,-0]))[1]==1/0?function(a){return new t(a)}:e;return NR=i}function IP(){if(LR)return OR;LR=1;var t=QR(),e=function(){if(TR)return ER;TR=1;var t=LP();return ER=function(e,n){return!(null==e||!e.length)&&t(e,n,0)>-1}}(),n=SR?CR:(SR=1,CR=function(t,e,n){for(var i=-1,a=null==t?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}),r=KR(),i=BP(),a=tP();return OR=function(o,u,c){var l=-1,h=e,p=o.length,f=!0,d=[],y=d;if(c)f=!1,h=n;else if(p>=200){var b=u?null:i(o);if(b)return a(b);f=!1,h=r,y=new t}else y=u?[]:d;t:for(;++l<p;){var m=o[l],_=u?u(m):m;if(m=c||0!==m?m:0,f&&_==_){for(var v=y.length;v--;)if(y[v]===_)continue t;u&&y.push(_),d.push(m)}else h(y,_,c)||(y!==d&&y.push(_),d.push(m))}return d}}function FP(){if(IR)return BR;IR=1;var t=ZO(),e=JD();return BR=function(n){return e(n)&&t(n)}}function RP(){if(YR)return zR;YR=1;var t=function(){if($R)return PR;$R=1;var t=uP();return PR=function(e,n){return t(n,(function(i){return e[i]}))}}(),e=QO();return zR=function(n){return null==n?[]:t(n,e(n))}}try{jR={clone:function(){if(fB)return hB;fB=1;var t=FB();return hB=function(e){return t(e,4)}}(),constant:RB(),each:ZR(),filter:xP(),has:kP(),isArray:br(),isEmpty:function(){if(SF)return CF;SF=1;var t=XO(),e=SB(),n=tO(),r=br(),i=ZO(),a=dO(),s=VO(),o=qO(),c=Object.prototype.hasOwnProperty;return CF=function(p){if(null==p)return!0;if(i(p)&&(r(p)||"string"==typeof p||"function"==typeof p.splice||a(p)||o(p)||n(p)))return!p.length;var l=e(p);if("[object Map]"==l||"[object Set]"==l)return!p.size;if(s(p))return!t(p).length;for(var h in p)if(c.call(p,h))return!1;return!0}}(),isFunction:WT,isUndefined:wP(),keys:QO(),map:TP(),reduce:CP(),size:function(){if(QF)return ZF;QF=1;var t=XO(),e=SB(),n=ZO(),r=function(){if(YF)return zF;YF=1;var t=zT,e=br(),n=JD();return zF=function(a){return"string"==typeof a||!e(a)&&n(a)&&"[object String]"==t(a)}}(),i=SP();return ZF=function(o){if(null==o)return 0;if(n(o))return r(o)?i(o):o.length;var u=e(o);return"[object Map]"==u||"[object Set]"==u?o.size:t(o).length}}(),transform:function(){if(JF)return KF;JF=1;var t=GD(),e=OB(),n=qR(),r=vP(),i=kB(),a=br(),s=dO(),o=WT,c=YT,u=qO();return KF=function(l,h,p){var f=a(l),d=f||s(l)||u(l);if(h=r(h,4),null==p){var y=l&&l.constructor;p=d?f?new y:[]:c(l)&&o(y)?e(i(l)):{}}return(d?t:n)(l,(function(b,t,e){return h(p,b,t,e)})),p}}(),union:function(){if(RR)return FR;RR=1;var t=AP(),e=DP(),n=IP(),r=FP(),i=e((function(a){return n(t(a,1,r,!0))}));return FR=i}(),values:RP()}}catch{}jR||(jR=window._);var PP=jR,$P=PP,zP=jP,YP="\0";function jP(t){this._isDirected=!$P.has(t,"directed")||t.directed,this._isMultigraph=!!$P.has(t,"multigraph")&&t.multigraph,this._isCompound=!!$P.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=$P.constant(void 0),this._defaultEdgeLabelFn=$P.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[YP]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function UP(t,e){t[e]?t[e]++:t[e]=1}function WP(t,e){--t[e]||delete t[e]}function qP(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}return i+""+a+""+($P.isUndefined(r)?"\0":r)}function HP(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return r&&(o.name=r),o}function VP(t,e){return qP(t,e.v,e.w,e.name)}jP.prototype._nodeCount=0,jP.prototype._edgeCount=0,jP.prototype.isDirected=function(){return this._isDirected},jP.prototype.isMultigraph=function(){return this._isMultigraph},jP.prototype.isCompound=function(){return this._isCompound},jP.prototype.setGraph=function(t){return this._label=t,this},jP.prototype.graph=function(){return this._label},jP.prototype.setDefaultNodeLabel=function(t){return $P.isFunction(t)||(t=$P.constant(t)),this._defaultNodeLabelFn=t,this},jP.prototype.nodeCount=function(){return this._nodeCount},jP.prototype.nodes=function(){return $P.keys(this._nodes)},jP.prototype.sources=function(){var t=this;return $P.filter(this.nodes(),(function(e){return $P.isEmpty(t._in[e])}))},jP.prototype.sinks=function(){var t=this;return $P.filter(this.nodes(),(function(e){return $P.isEmpty(t._out[e])}))},jP.prototype.setNodes=function(t,e){var n=arguments,r=this;return $P.each(t,(function(i){n.length>1?r.setNode(i,e):r.setNode(i)})),this},jP.prototype.setNode=function(t,e){return $P.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=YP,this._children[t]={},this._children[YP][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},jP.prototype.node=function(t){return this._nodes[t]},jP.prototype.hasNode=function(t){return $P.has(this._nodes,t)},jP.prototype.removeNode=function(t){var e=this;if($P.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],$P.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),$P.each($P.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],$P.each($P.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},jP.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if($P.isUndefined(e))e=YP;else{for(var n=e+="";!$P.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},jP.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},jP.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==YP)return e}},jP.prototype.children=function(t){if($P.isUndefined(t)&&(t=YP),this._isCompound){var e=this._children[t];if(e)return $P.keys(e)}else{if(t===YP)return this.nodes();if(this.hasNode(t))return[]}},jP.prototype.predecessors=function(t){var e=this._preds[t];if(e)return $P.keys(e)},jP.prototype.successors=function(t){var e=this._sucs[t];if(e)return $P.keys(e)},jP.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return $P.union(e,this.successors(t))},jP.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},jP.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;$P.each(this._nodes,(function(a,s){t(s)&&e.setNode(s,a)})),$P.each(this._edgeObjs,(function(a){e.hasNode(a.v)&&e.hasNode(a.w)&&e.setEdge(a,n.edge(a))}));var r={};function i(a){var s=n.parent(a);return void 0===s||e.hasNode(s)?(r[a]=s,s):s in r?r[s]:i(s)}return this._isCompound&&$P.each(e.nodes(),(function(a){e.setParent(a,i(a))})),e},jP.prototype.setDefaultEdgeLabel=function(t){return $P.isFunction(t)||(t=$P.constant(t)),this._defaultEdgeLabelFn=t,this},jP.prototype.edgeCount=function(){return this._edgeCount},jP.prototype.edges=function(){return $P.values(this._edgeObjs)},jP.prototype.setPath=function(t,e){var n=this,r=arguments;return $P.reduce(t,(function(i,a){return r.length>1?n.setEdge(i,a,e):n.setEdge(i,a),a})),this},jP.prototype.setEdge=function(){var t,e,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,$P.isUndefined(n)||(n=""+n);var s=qP(this._isDirected,t,e,n);if($P.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!$P.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var o=HP(this._isDirected,t,e,n);return t=o.v,e=o.w,Object.freeze(o),this._edgeObjs[s]=o,UP(this._preds[e],t),UP(this._sucs[t],e),this._in[e][s]=o,this._out[t][s]=o,this._edgeCount++,this},jP.prototype.edge=function(t,e,n){var r=1===arguments.length?VP(this._isDirected,arguments[0]):qP(this._isDirected,t,e,n);return this._edgeLabels[r]},jP.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?VP(this._isDirected,arguments[0]):qP(this._isDirected,t,e,n);return $P.has(this._edgeLabels,r)},jP.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?VP(this._isDirected,arguments[0]):qP(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],WP(this._preds[e],t),WP(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},jP.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=$P.values(n);return e?$P.filter(r,(function(i){return i.v===e})):r}},jP.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=$P.values(n);return e?$P.filter(r,(function(i){return i.w===e})):r}},jP.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var GP={Graph:zP,version:"2.1.8"},XP=PP,ZP=zP,QP={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:KP(t),edges:JP(t)};return XP.isUndefined(t.graph())||(e.value=XP.clone(t.graph())),e},read:function(t){var e=new ZP(t.options).setGraph(t.value);return XP.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),XP.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}};function KP(t){return XP.map(t.nodes(),(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return XP.isUndefined(n)||(i.value=n),XP.isUndefined(r)||(i.parent=r),i}))}function JP(t){return XP.map(t.edges(),(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return XP.isUndefined(e.name)||(r.name=e.name),XP.isUndefined(n)||(r.value=n),r}))}var t$=PP,e$=function(t){var e,n={},r=[];function i(a){t$.has(n,a)||(n[a]=!0,e.push(a),t$.each(t.successors(a),i),t$.each(t.predecessors(a),i))}return t$.each(t.nodes(),(function(a){e=[],i(a),e.length&&r.push(e)})),r};var n$=PP,r$=i$;function i$(){this._arr=[],this._keyIndices={}}i$.prototype.size=function(){return this._arr.length},i$.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i$.prototype.has=function(t){return n$.has(this._keyIndices,t)},i$.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i$.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i$.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!n$.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},i$.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i$.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i$.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i$.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i$.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],a=n[e];n[t]=a,n[e]=i,r[a.key]=t,r[i.key]=e};var a$=r$,o$=function(t,e,n,r){return function(t,e,n,r){var s,o,i={},a=new a$,c=function(u){var t=u.v!==s?u.v:u.w,e=i[t],r=n(u),p=o.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+r);p<e.distance&&(e.distance=p,e.predecessor=s,a.decrease(t,p))};for(t.nodes().forEach((function(u){var t=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:t},a.add(u,t)}));a.size()>0&&(s=a.removeMin(),(o=i[s]).distance!==Number.POSITIVE_INFINITY);)r(s).forEach(c);return i}(t,String(e),n||s$,r||function(i){return t.outEdges(i)})},s$=PP.constant(1);var c$=o$,l$=PP,u$=function(t,e,n){return l$.transform(t.nodes(),(function(r,i){r[i]=c$(t,i,e,n)}),{})};var h$=PP,f$=function(t){var e=0,n=[],r={},i=[];function a(s){var o=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){h$.has(r,t)?r[t].onStack&&(o.lowlink=Math.min(o.lowlink,r[t].index)):(a(t),o.lowlink=Math.min(o.lowlink,r[t].lowlink))})),o.lowlink===o.index){var u,c=[];do{u=n.pop(),r[u].onStack=!1,c.push(u)}while(s!==u);i.push(c)}}return t.nodes().forEach((function(s){h$.has(r,s)||a(s)})),i};var d$=PP,p$=f$,g$=function(t){return d$.filter(p$(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))};var y$=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(a){r[a]={},r[a][a]={distance:0},i.forEach((function(s){a!==s&&(r[a][s]={distance:Number.POSITIVE_INFINITY})})),n(a).forEach((function(s){var t=s.v===a?s.w:s.v,n=e(s);r[a][t]={distance:n,predecessor:a}}))})),i.forEach((function(a){var s=r[a];i.forEach((function(t){var e=r[t];i.forEach((function(u){var t=e[a],n=s[u],r=e[u],p=t.distance+n.distance;p<r.distance&&(r.distance=p,r.predecessor=n.predecessor)}))}))})),r}(t,e||m$,n||function(e){return t.outEdges(e)})},m$=PP.constant(1);var b$=PP,_$=v$;function v$(t){var e={},n={},r=[];if(b$.each(t.sinks(),(function i(a){if(b$.has(n,a))throw new x$;b$.has(e,a)||(n[a]=!0,e[a]=!0,b$.each(t.predecessors(a),i),delete n[a],r.push(a))})),b$.size(e)!==t.nodeCount())throw new x$;return r}function x$(){}v$.CycleException=x$,x$.prototype=new Error;var k$=_$,w$=function(t){try{k$(t)}catch(t){if(t instanceof k$.CycleException)return!1;throw t}return!0};var E$=PP,T$=function(t,e,n){E$.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return E$.each(e,(function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);C$(t,s,"post"===n,a,r,i)})),i};function C$(t,e,n,r,i,a){E$.has(r,e)||(r[e]=!0,n||a.push(e),E$.each(i(e),(function(s){C$(t,s,n,r,i,a)})),n&&a.push(e))}var S$=T$,A$=function(t,e){return S$(t,e,"post")};var M$=T$,N$=function(t,e){return M$(t,e,"pre")};var D$=PP,O$=zP,L$=r$,B$=function(t,e){var a,n=new O$,r={},i=new L$;function s(t){var u=t.v===a?t.w:t.v,n=i.priority(u);if(void 0!==n){var o=e(t);o<n&&(r[u]=a,i.decrease(u,o))}}if(0===t.nodeCount())return n;D$.each(t.nodes(),(function(t){i.add(t,Number.POSITIVE_INFINITY),n.setNode(t)})),i.decrease(t.nodes()[0],0);for(var o=!1;i.size()>0;){if(a=i.removeMin(),D$.has(r,a))n.setEdge(a,r[a]);else{if(o)throw new Error("Input graph is not connected: "+t);o=!0}t.nodeEdges(a).forEach(s)}return n};var I$,F$,R$,P$,$$,z$,Y$,j$,U$,W$,q$,H$,V$,G$,X$,Z$,Q$,K$,J$,tz,ez,nz,rz,iz,az,oz,sz,cz,lz,uz,hz,fz,dz,pz,gz,yz,mz,bz,_z,vz,xz,kz,wz,Ez,Tz,Cz,Sz,Az,Mz,Nz,Dz,Oz,Lz,Bz,Iz,Fz,Rz,Pz,$z,zz,Yz,jz,Uz,Wz,qz,Hz,Vz,Gz,Xz,Zz,Qz,Kz,Jz,tY,eY,nY,rY,iY,aY,oY,sY,cY,lY,uY,hY,fY,dY,pY,gY,yY,mY,bY,_Y,vY,xY,kY,wY,EY,TY,CY,SY,AY,MY,NY,DY,OY,LY,BY,IY,FY,RY,PY,$Y,zY,YY,jY,UY,WY,qY,HY,VY,GY,XY,ZY,QY,KY,JY,tj,ej,nj,rj,ij,aj,oj,sj,cj,lj,uj,hj,fj,dj,pj,gj,yj,mj,bj,_j,vj,xj,kj,wj,Ej,Tj={Graph:GP.Graph,json:QP,alg:{components:e$,dijkstra:o$,dijkstraAll:u$,findCycles:g$,floydWarshall:y$,isAcyclic:w$,postorder:A$,preorder:N$,prim:B$,tarjan:f$,topsort:_$},version:GP.version};function Cj(){if(F$)return I$;var t;F$=1;try{t=Tj}catch{}return t||(t=window.graphlib),I$=t}function Sj(){if(P$)return R$;P$=1;var t=FB();return R$=function(i){return t(i,5)}}function Aj(){if(z$)return $$;z$=1;var t=ul,e=ZO(),n=pO(),r=YT;return $$=function(a,s,o){if(!r(o))return!1;var c=typeof s;return!!("number"==c?e(o)&&n(s,o.length):"string"==c&&s in o)&&t(o[s],a)}}function Mj(){if(j$)return Y$;j$=1;var t=DP(),e=ul,n=Aj(),r=JO(),i=Object.prototype,a=i.hasOwnProperty,s=t((function(t,o){t=Object(t);var u=-1,c=o.length,l=c>2?o[2]:void 0;for(l&&n(o[0],o[1],l)&&(c=1);++u<c;)for(var h=o[u],p=r(h),f=-1,d=p.length;++f<d;){var y=p[f],b=t[y];(void 0===b||e(b,i[y])&&!a.call(t,y))&&(t[y]=h[y])}return t}));return Y$=s}function Nj(){if(G$)return V$;G$=1;var t=function(){if(H$)return q$;H$=1;var t=/\s/;return q$=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}}(),e=/^\s+/;return V$=function(n){return n&&n.slice(0,t(n)+1).replace(e,"")}}function Dj(){if(K$)return Q$;K$=1;var t=function(){if(Z$)return X$;Z$=1;var t=Nj(),e=YT,n=sP(),i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,r=parseInt;return X$=function(u){if("number"==typeof u)return u;if(n(u))return NaN;if(e(u)){var o="function"==typeof u.valueOf?u.valueOf():u;u=e(o)?o+"":o}if("string"!=typeof u)return 0===u?u:+u;u=t(u);var c=a.test(u);return c||s.test(u)?r(u.slice(2),c?2:8):i.test(u)?NaN:+u}}(),e=1/0;return Q$=function(i){return i?(i=t(i))===e||i===-e?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}}function Oj(){if(nz)return ez;nz=1;var t=OP(),e=vP(),n=function(){if(tz)return J$;tz=1;var t=Dj();return J$=function(e){var n=t(e),i=n%1;return n==n?i?n-i:n:0}}(),r=Math.max;return ez=function(a,s,o){var c=null==a?0:a.length;if(!c)return-1;var u=null==o?0:n(o);return u<0&&(u=r(c+u,0)),t(a,e(s,3),u)}}function Lj(){if(iz)return rz;iz=1;var t=function(){if(W$)return U$;W$=1;var t=vP(),e=ZO(),n=QO();return U$=function(i){return function(a,s,r){var o=Object(a);if(!e(a)){var u=t(s,3);a=n(a),s=function(t){return u(o[t],t,o)}}var c=i(a,s,r);return c>-1?o[u?a[c]:c]:void 0}}}(),e=t(Oj());return rz=e}function Bj(){if(oz)return az;oz=1;var t=AP();return az=function(e){return(null==e?0:e.length)?t(e,1):[]}}function Ij(){if(cz)return sz;cz=1;var t=WR(),e=GR(),n=JO();return sz=function(i,a){return null==i?i:t(i,e(a),n)}}function Fj(){if(uz)return lz;return uz=1,lz=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}}function Rj(){if(fz)return hz;fz=1;var t=ZD(),e=qR(),n=vP();return hz=function(i,a){var s={};return a=n(a,3),e(i,(function(e,n,u){t(s,n,a(e,n,u))})),s}}function Pj(){if(pz)return dz;pz=1;var t=sP();return dz=function(e,n,i){for(var a=-1,s=e.length;++a<s;){var r=e[a],o=n(r);if(null!=o&&(void 0===u?o==o&&!t(o):i(o,u)))var u=o,c=r}return c}}function $j(){if(bz)return mz;bz=1;var t=Pj(),e=yz?gz:(yz=1,gz=function(t,e){return t>e}),n=VR();return mz=function(i){return i&&i.length?t(i,n,e):void 0}}function zj(){if(vz)return _z;vz=1;var t=ZD(),e=ul;return _z=function(n,i,a){(void 0!==a&&!e(n[i],a)||void 0===a&&!(i in n))&&t(n,i,a)}}function Yj(){if(kz)return xz;kz=1;var t=zT,e=kB(),n=JD(),i=Function.prototype,a=Object.prototype,s=i.toString,r=a.hasOwnProperty,o=s.call(Object);return xz=function(c){if(!n(c)||"[object Object]"!=t(c))return!1;var l=e(c);if(null===l)return!0;var h=r.call(l,"constructor")&&l.constructor;return"function"==typeof h&&h instanceof h&&s.call(h)==o}}function jj(){if(Ez)return wz;return Ez=1,wz=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}}function Uj(){if(Az)return Sz;Az=1;var t=zj(),e=yB(),n=NB(),r=mB(),i=LB(),a=tO(),s=br(),o=FP(),c=dO(),u=WT,l=YT,h=Yj(),f=qO(),p=jj(),d=function(){if(Cz)return Tz;Cz=1;var t=KD(),e=JO();return Tz=function(n){return t(n,e(n))}}();return Sz=function(y,b,m,_,v,x,k){var w=p(y,m),E=p(b,m),T=k.get(E);if(T)t(y,m,T);else{var C=x?x(w,E,m+"",y,b,k):void 0,S=void 0===C;if(S){var A=s(E),M=!A&&c(E),N=!A&&!M&&f(E);C=E,A||M||N?s(w)?C=w:o(w)?C=r(w):M?(S=!1,C=e(E,!0)):N?(S=!1,C=n(E,!0)):C=[]:h(E)||a(E)?(C=w,a(w)?C=d(w):(!l(w)||u(w))&&(C=i(E))):S=!1}S&&(k.set(E,C),v(C,E,_,x,k),k.delete(E)),t(y,m,C)}}}function Wj(){if(Bz)return Lz;Bz=1;var t=function(){if(Nz)return Mz;Nz=1;var t=VD(),e=zj(),n=WR(),r=Uj(),i=YT,a=JO(),s=jj();return Mz=function o(c,u,l,h,f){c!==u&&n(u,(function(p,n){if(f||(f=new t),i(p))r(c,u,n,l,o,h,f);else{var d=h?h(s(c,n),p,n+"",c,u,f):void 0;void 0===d&&(d=p),e(c,n,d)}}),a)}}(),e=function(){if(Oz)return Dz;Oz=1;var t=DP(),e=Aj();return Dz=function(n){return t((function(i,a){var s=-1,t=a.length,r=t>1?a[t-1]:void 0,u=t>2?a[2]:void 0;for(r=n.length>3&&"function"==typeof r?(t--,r):void 0,u&&e(a[0],a[1],u)&&(r=t<3?void 0:r,t=1),i=Object(i);++s<t;){var o=a[s];o&&n(i,o,s,r)}return i}))}}(),n=e((function(e,i,a){t(e,i,a)}));return Lz=n}function qj(){if(Fz)return Iz;return Fz=1,Iz=function(t,e){return t<e}}function Hj(){if(Pz)return Rz;Pz=1;var t=Pj(),e=qj(),n=VR();return Rz=function(i){return i&&i.length?t(i,n,e):void 0}}function Vj(){if(zz)return $z;zz=1;var t=Pj(),e=vP(),n=qj();return $z=function(i,a){return i&&i.length?t(i,e(a,2),n):void 0}}function Gj(){if(jz)return Yz;jz=1;var t=AT;return Yz=function(){return t.Date.now()}}function Xj(){if(Hz)return qz;Hz=1;var t=pP(),e=function(){if(Wz)return Uz;Wz=1;var t=QD(),e=fP(),n=pO(),r=YT,i=dP();return Uz=function(s,o,c,u){if(!r(s))return s;for(var l=-1,h=(o=e(o,s)).length,f=h-1,p=s;null!=p&&++l<h;){var d=i(o[l]),y=c;if("__proto__"===d||"constructor"===d||"prototype"===d)return s;if(l!=f){var m=p[d];void 0===(y=u?u(m,d,p):void 0)&&(y=r(m)?m:n(o[l+1])?[]:{})}t(p,d,y),p=p[d]}return s}}(),n=fP();return qz=function(i,a,s){for(var r=-1,o=a.length,u={};++r<o;){var c=a[r],l=t(i,c);s(l,c)&&e(u,n(c,i),l)}return u}}function Zj(){if(Kz)return Qz;Kz=1;var t=function(){if(Gz)return Vz;Gz=1;var t=Xj(),e=yP();return Vz=function(n,i){return t(n,i,(function(a,s){return e(n,s)}))}}(),e=function(){if(Zz)return Xz;Zz=1;var t=Bj(),e=MP(),n=NP();return Xz=function(i){return n(e(i,void 0,t),i+"")}}(),n=e((function(e,i){return null==e?{}:t(e,i)}));return Qz=n}function Qj(){if(nY)return eY;nY=1;var t=function(){if(tY)return Jz;tY=1;var t=Math.ceil,e=Math.max;return Jz=function(n,i,a,s){for(var r=-1,o=e(t((i-n)/(a||1)),0),u=Array(o);o--;)u[s?o:++r]=n,n+=a;return u}}(),e=Aj(),n=Dj();return eY=function(i){return function(a,s,r){return r&&"number"!=typeof r&&e(a,s,r)&&(s=r=void 0),a=n(a),void 0===s?(s=a,a=0):s=n(s),r=void 0===r?a<s?1:-1:n(r),t(a,s,r,i)}}}function Kj(){if(iY)return rY;iY=1;var t=Qj()();return rY=t}function Jj(){if(uY)return lY;uY=1;var t=function(){if(cY)return sY;cY=1;var t=sP();return sY=function(e,n){if(e!==n){var i=void 0!==e,a=null===e,s=e==e,r=t(e),o=void 0!==n,u=null===n,c=n==n,l=t(n);if(!u&&!l&&!r&&e>n||r&&o&&c&&!u&&!l||a&&o&&c||!i&&c||!s)return 1;if(!a&&!r&&!l&&e<n||l&&i&&s&&!a&&!r||u&&i&&s||!o&&s||!c)return-1}return 0}}();return lY=function(e,n,i){for(var a=-1,s=e.criteria,r=n.criteria,o=s.length,u=i.length;++a<o;){var c=t(s[a],r[a]);if(c)return a>=u?c:c*("desc"==i[a]?-1:1)}return e.index-n.index}}function tU(){if(fY)return hY;fY=1;var t=uP(),e=pP(),n=vP(),r=EP(),i=oY?aY:(oY=1,aY=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}),a=yO(),s=Jj(),o=VR(),c=br();return hY=function(l,h,f){h=h.length?t(h,(function(t){return c(t)?function(n){return e(n,1===t.length?t[0]:t)}:t})):[o];var p=-1;h=t(h,a(n));var d=r(l,(function(e,n,b){return{criteria:t(h,(function(t){return t(e)})),index:++p,value:e}}));return i(d,(function(t,e){return s(t,e,f)}))}}function eU(){if(pY)return dY;pY=1;var t=AP(),e=tU(),n=DP(),r=Aj(),i=n((function(a,s){if(null==a)return[];var n=s.length;return n>1&&r(a,s[0],s[1])?s=[]:n>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])}));return dY=i}function nU(){if(yY)return gY;yY=1;var t=hP(),e=0;return gY=function(n){var i=++e;return t(n)+i}}function rU(){if(vY)return _Y;vY=1;var t=QD(),e=bY?mY:(bY=1,mY=function(t,e,n){for(var i=-1,a=t.length,s=e.length,r={};++i<a;){var o=i<s?e[i]:void 0;n(r,t[i],o)}return r});return _Y=function(n,i){return e(n||[],i||[],t)}}function iU(){if(kY)return xY;var t;kY=1;try{t={cloneDeep:Sj(),constant:RB(),defaults:Mj(),each:ZR(),filter:xP(),find:Lj(),flatten:Bj(),forEach:XR(),forIn:Ij(),has:kP(),isUndefined:wP(),last:Fj(),map:TP(),mapValues:Rj(),max:$j(),merge:Wj(),min:Hj(),minBy:Vj(),now:Gj(),pick:Zj(),range:Kj(),reduce:CP(),sortBy:eU(),uniqueId:nU(),values:RP(),zipObject:rU()}}catch{}return t||(t=window._),xY=t}function aU(){if(CY)return TY;CY=1;var t=iU(),e=Cj().Graph,n=function(){if(EY)return wY;function t(){var t={};t._next=t._prev=t,this._sentinel=t}function e(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function n(t,i){if("_next"!==t&&"_prev"!==t)return i}return EY=1,wY=t,t.prototype.dequeue=function(){var t=this._sentinel,i=t._prev;if(i!==t)return e(i),i},t.prototype.enqueue=function(t){var i=this._sentinel;t._prev&&t._next&&e(t),t._next=i._next,i._next._prev=t,i._next=t,t._prev=i},t.prototype.toString=function(){for(var t=[],i=this._sentinel,a=i._prev;a!==i;)t.push(JSON.stringify(a,n)),a=a._prev;return"["+t.join(", ")+"]"},wY}();TY=function(u,c){if(u.nodeCount()<=1)return[];var l=function(u,r){var c=new e,l=0,p=0;t.forEach(u.nodes(),(function(t){c.setNode(t,{v:t,in:0,out:0})})),t.forEach(u.edges(),(function(t){var b=c.edge(t.v,t.w)||0,e=r(t),n=b+e;c.setEdge(t.v,t.w,n),p=Math.max(p,c.node(t.v).out+=e),l=Math.max(l,c.node(t.w).in+=e)}));var h=t.range(p+l+3).map((function(){return new n})),f=l+1;return t.forEach(c.nodes(),(function(t){o(h,f,c.node(t))})),{graph:c,buckets:h,zeroIdx:f}}(u,c||r),h=function(u,t,e){for(var n,r=[],p=t[t.length-1],o=t[0];u.nodeCount();){for(;n=o.dequeue();)s(u,t,e,n);for(;n=p.dequeue();)s(u,t,e,n);if(u.nodeCount())for(var c=t.length-2;c>0;--c)if(n=t[c].dequeue()){r=r.concat(s(u,t,e,n,!0));break}}return r}(l.graph,l.buckets,l.zeroIdx);return t.flatten(t.map(h,(function(p){return u.outEdges(p.v,p.w)})),!0)};var r=t.constant(1);function s(u,e,n,r,p){var c=p?[]:void 0;return t.forEach(u.inEdges(r.v),(function(t){var r=u.edge(t),b=u.node(t.v);p&&c.push({v:t.v,w:t.w}),b.out-=r,o(e,n,b)})),t.forEach(u.outEdges(r.v),(function(t){var r=u.edge(t),b=t.w,c=u.node(b);c.in-=r,o(e,n,c)})),u.removeNode(r.v),c}function o(u,t,e){e.out?e.in?u[e.out-e.in+t].enqueue(e):u[u.length-1].enqueue(e):u[0].enqueue(e)}return TY}function oU(){if(AY)return SY;AY=1;var t=iU(),e=aU();return SY={run:function(a){var s="greedy"===a.graph().acyclicer?e(a,(n=a,function(u){return n.edge(u).weight})):function(a){var s=[],e={},n={};function u(r){t.has(n,r)||(n[r]=!0,e[r]=!0,t.forEach(a.outEdges(r),(function(n){t.has(e,n.w)?s.push(n):u(n.w)})),delete e[r])}return t.forEach(a.nodes(),u),s}(a);var n;t.forEach(s,(function(e){var u=a.edge(e);a.removeEdge(e),u.forwardName=e.name,u.reversed=!0,a.setEdge(e.w,e.v,u,t.uniqueId("rev"))}))},undo:function(a){t.forEach(a.edges(),(function(s){var t=a.edge(s);if(t.reversed){a.removeEdge(s);var e=t.forwardName;delete t.reversed,delete t.forwardName,a.setEdge(s.w,s.v,t,e)}}))}}}function sU(){if(NY)return MY;NY=1;var t=iU(),e=Cj().Graph;function n(e,b,n,r){var o;do{o=t.uniqueId(r)}while(e.hasNode(o));return n.dummy=b,e.setNode(o,n),o}function r(e){return t.max(t.map(e.nodes(),(function(b){var n=e.node(b).rank;if(!t.isUndefined(n))return n})))}return MY={addDummyNode:n,simplify:function(n){var b=(new e).setGraph(n.graph());return t.forEach(n.nodes(),(function(t){b.setNode(t,n.node(t))})),t.forEach(n.edges(),(function(t){var e=b.edge(t.v,t.w)||{weight:0,minlen:1},r=n.edge(t);b.setEdge(t.v,t.w,{weight:e.weight+r.weight,minlen:Math.max(e.minlen,r.minlen)})})),b},asNonCompoundGraph:function(n){var b=new e({multigraph:n.isMultigraph()}).setGraph(n.graph());return t.forEach(n.nodes(),(function(t){n.children(t).length||b.setNode(t,n.node(t))})),t.forEach(n.edges(),(function(t){b.setEdge(t,n.edge(t))})),b},successorWeights:function(e){var b=t.map(e.nodes(),(function(n){var r={};return t.forEach(e.outEdges(n),(function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return t.zipObject(e.nodes(),b)},predecessorWeights:function(e){var b=t.map(e.nodes(),(function(n){var r={};return t.forEach(e.inEdges(n),(function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return t.zipObject(e.nodes(),b)},intersectRect:function(t,b){var e,n,r=t.x,o=t.y,c=b.x-r,l=b.y-o,h=t.width/2,f=t.height/2;if(!c&&!l)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(l)*h>Math.abs(c)*f?(l<0&&(f=-f),e=f*c/l,n=f):(c<0&&(h=-h),e=h,n=h*l/c),{x:r+e,y:o+n}},buildLayerMatrix:function(e){var b=t.map(t.range(r(e)+1),(function(){return[]}));return t.forEach(e.nodes(),(function(n){var r=e.node(n),o=r.rank;t.isUndefined(o)||(b[o][r.order]=n)})),b},normalizeRanks:function(e){var b=t.min(t.map(e.nodes(),(function(t){return e.node(t).rank})));t.forEach(e.nodes(),(function(n){var r=e.node(n);t.has(r,"rank")&&(r.rank-=b)}))},removeEmptyRanks:function(e){var b=t.min(t.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];t.forEach(e.nodes(),(function(t){var r=e.node(t).rank-b;n[r]||(n[r]=[]),n[r].push(t)}));var r=0,o=e.graph().nodeRankFactor;t.forEach(n,(function(n,c){t.isUndefined(n)&&c%o!=0?--r:r&&t.forEach(n,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(t,b,e,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=e,o.order=r),n(t,"border",o,b)},maxRank:r,partition:function(e,b){var n={lhs:[],rhs:[]};return t.forEach(e,(function(t){b(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(e,b){var n=t.now();try{return b()}finally{console.log(e+" time: "+(t.now()-n)+"ms")}},notime:function(t,b){return b()}},MY}function cU(){if(OY)return DY;OY=1;var t=iU(),e=sU();return DY={run:function(a){a.graph().dummyChains=[],t.forEach(a.edges(),(function(s){!function(a,s){var t=s.v,n=a.node(t).rank,u=s.w,r=a.node(u).rank,o=s.name,c=a.edge(s),p=c.labelRank;if(r!==n+1){var l,h,f;for(a.removeEdge(s),f=0,++n;n<r;++f,++n)c.points=[],h={width:0,height:0,edgeLabel:c,edgeObj:s,rank:n},l=e.addDummyNode(a,"edge",h,"_d"),n===p&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),a.setEdge(t,l,{weight:c.weight},o),0===f&&a.graph().dummyChains.push(l),t=l;a.setEdge(t,u,{weight:c.weight},o)}}(a,s)}))},undo:function(a){t.forEach(a.graph().dummyChains,(function(s){var u,t=a.node(s),e=t.edgeLabel;for(a.setEdge(t.edgeObj,e);t.dummy;)u=a.successors(s)[0],a.removeNode(s),e.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height),s=u,t=a.node(s)}))}}}function lU(){if(BY)return LY;BY=1;var t=iU();return LY={longestPath:function(e){var i={};t.forEach(e.sources(),(function a(s){var n=e.node(s);if(t.has(i,s))return n.rank;i[s]=!0;var r=t.min(t.map(e.outEdges(s),(function(u){return a(u.w)-e.edge(u).minlen})));return(r===Number.POSITIVE_INFINITY||null==r)&&(r=0),n.rank=r}))},slack:function(t,i){return t.node(i.w).rank-t.node(i.v).rank-t.edge(i).minlen}}}function uU(){if(FY)return IY;FY=1;var t=iU(),e=Cj().Graph,n=lU().slack;function i(e,r){return t.forEach(e.nodes(),(function u(o){t.forEach(r.nodeEdges(o),(function(t){var c=t.v,p=o===c?t.w:c;!e.hasNode(p)&&!n(r,t)&&(e.setNode(p,{}),e.setEdge(o,p,{}),u(p))}))})),e.nodeCount()}function a(e,r){return t.minBy(r.edges(),(function(u){if(e.hasNode(u.v)!==e.hasNode(u.w))return n(r,u)}))}function s(e,n,u){t.forEach(e.nodes(),(function(t){n.node(t).rank+=u}))}return IY=function(t){var r,o,c=new e({directed:!1}),u=t.nodes()[0],l=t.nodeCount();for(c.setNode(u,{});i(c,t)<l;)r=a(c,t),o=c.hasNode(r.v)?n(t,r):-n(t,r),s(c,t,o);return c}}function hU(){if(PY)return RY;PY=1;var t=iU(),e=uU(),n=lU().slack,r=lU().longestPath,i=Cj().alg.preorder,a=Cj().alg.postorder,s=sU().simplify;function o(t){t=s(t),r(t);var n,o=e(t);for(h(o),c(o,t);n=p(o);)y(o,t,n,d(o,t,n))}function c(e,n){var r=a(e,e.nodes());r=r.slice(0,r.length-1),t.forEach(r,(function(t){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=l(t,e,n)}(e,n,t)}))}function l(e,n,r){var o=e.node(r).parent,c=!0,l=n.edge(r,o),h=0;return l||(c=!1,l=n.edge(o,r)),h=l.weight,t.forEach(n.nodeEdges(r),(function(t){var l=t.v===r,f=l?t.w:t.v;if(f!==o){var d=l===c,y=n.edge(t).weight;if(h+=d?y:-y,function(t,e,n){return t.hasEdge(e,n)}(e,r,f)){var m=e.edge(r,f).cutvalue;h+=d?-m:m}}})),h}function h(t,e){arguments.length<2&&(e=t.nodes()[0]),f(t,{},1,e)}function f(e,n,r,o,c){var l=r,h=e.node(o);return n[o]=!0,t.forEach(e.neighbors(o),(function(c){t.has(n,c)||(r=f(e,n,r,c,o))})),h.low=l,h.lim=r++,c?h.parent=c:delete h.parent,r}function p(e){return t.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function d(e,r,o){var c=o.v,l=o.w;r.hasEdge(c,l)||(c=o.w,l=o.v);var h=e.node(c),f=e.node(l),d=h,y=!1;h.lim>f.lim&&(d=f,y=!0);var _=t.filter(r.edges(),(function(t){return y===m(e,e.node(t.v),d)&&y!==m(e,e.node(t.w),d)}));return t.minBy(_,(function(t){return n(r,t)}))}function y(e,n,r,o){var l=r.v,f=r.w;e.removeEdge(l,f),e.setEdge(o.v,o.w,{}),h(e),c(e,n),function(e,n){var r=t.find(e.nodes(),(function(t){return!n.node(t).parent})),o=i(e,r);o=o.slice(1),t.forEach(o,(function(t){var r=e.node(t).parent,o=n.edge(t,r),c=!1;o||(o=n.edge(r,t),c=!0),n.node(t).rank=n.node(r).rank+(c?o.minlen:-o.minlen)}))}(e,n)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}return RY=o,o.initLowLimValues=h,o.initCutValues=c,o.calcCutValue=l,o.leaveEdge=p,o.enterEdge=d,o.exchangeEdges=y,RY}function fU(){if(zY)return $Y;zY=1;var t=lU().longestPath,e=uU(),n=hU();$Y=function(n){switch(n.graph().ranker){case"network-simplex":default:r(n);break;case"tight-tree":!function(n){t(n),e(n)}(n);break;case"longest-path":a(n)}};var a=t;function r(t){n(t)}return $Y}function dU(){if(jY)return YY;jY=1;var t=iU();return YY=function(i){var a=function(i){var a={},s=0;function e(n){var u=s;t.forEach(i.children(n),e),a[n]={low:u,lim:s++}}return t.forEach(i.children(),e),a}(i);t.forEach(i.graph().dummyChains,(function(s){for(var t=i.node(s),e=t.edgeObj,u=function(i,a,s,t){var e,p,n=[],u=[],r=Math.min(a[s].low,a[t].low),o=Math.max(a[s].lim,a[t].lim);e=s;do{e=i.parent(e),n.push(e)}while(e&&(a[e].low>r||o>a[e].lim));for(p=e,e=t;(e=i.parent(e))!==p;)u.push(e);return{path:n.concat(u.reverse()),lca:p}}(i,a,e.v,e.w),n=u.path,r=u.lca,o=0,p=n[o],c=!0;s!==e.w;){if(t=i.node(s),c){for(;(p=n[o])!==r&&i.node(p).maxRank<t.rank;)o++;p===r&&(c=!1)}if(!c){for(;o<n.length-1&&i.node(p=n[o+1]).minRank<=t.rank;)o++;p=n[o]}i.setParent(s,p),s=i.successors(s)[0]}}))}}function pU(){if(WY)return UY;WY=1;var t=iU(),e=sU();function n(r,o,u,c,l,h,p){var f=r.children(p);if(f.length){var d=e.addBorderNode(r,"_bt"),y=e.addBorderNode(r,"_bb"),b=r.node(p);r.setParent(d,p),b.borderTop=d,r.setParent(y,p),b.borderBottom=y,t.forEach(f,(function(t){n(r,o,u,c,l,h,t);var e=r.node(t),f=e.borderTop?e.borderTop:t,m=e.borderBottom?e.borderBottom:t,_=e.borderTop?c:2*c,v=f!==m?1:l-h[p]+1;r.setEdge(d,f,{weight:_,minlen:v,nestingEdge:!0}),r.setEdge(m,y,{weight:_,minlen:v,nestingEdge:!0})})),r.parent(p)||r.setEdge(o,d,{weight:0,minlen:l+h[p]})}else p!==o&&r.setEdge(o,p,{weight:0,minlen:u})}return UY={run:function(r){var o=e.addDummyNode(r,"root",{},"_root"),u=function(e){var n={};function u(r,o){var c=e.children(r);c&&c.length&&t.forEach(c,(function(p){u(p,o+1)})),n[r]=o}return t.forEach(e.children(),(function(t){u(t,1)})),n}(r),c=t.max(t.values(u))-1,l=2*c+1;r.graph().nestingRoot=o,t.forEach(r.edges(),(function(p){r.edge(p).minlen*=l}));var h=function(e){return t.reduce(e.edges(),(function(t,u){return t+e.edge(u).weight}),0)}(r)+1;t.forEach(r.children(),(function(p){n(r,o,l,h,c,u,p)})),r.graph().nodeRankFactor=l},cleanup:function(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,t.forEach(e.edges(),(function(u){e.edge(u).nestingEdge&&e.removeEdge(u)}))}}}function gU(){if(GY)return VY;GY=1;var t=iU();function e(u){t.forEach(u.nodes(),(function(t){i(u.node(t))})),t.forEach(u.edges(),(function(t){i(u.edge(t))}))}function i(u){var t=u.width;u.width=u.height,u.height=t}function s(u){u.y=-u.y}function n(u){var t=u.x;u.x=u.y,u.y=t}return VY={adjust:function(u){var t=u.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&e(u)},undo:function(u){var r=u.graph().rankdir.toLowerCase();("bt"===r||"rl"===r)&&function(u){t.forEach(u.nodes(),(function(t){s(u.node(t))})),t.forEach(u.edges(),(function(e){var n=u.edge(e);t.forEach(n.points,s),t.has(n,"y")&&s(n)}))}(u),("lr"===r||"rl"===r)&&(function(u){t.forEach(u.nodes(),(function(t){n(u.node(t))})),t.forEach(u.edges(),(function(e){var r=u.edge(e);t.forEach(r.points,n),t.has(r,"x")&&n(r)}))}(u),e(u))}}}function yU(){if(nj)return ej;nj=1;var t=iU();return ej=function(i,a){var s={};return t.forEach(i,(function(e,u){var n=s[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:u};t.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)})),t.forEach(a.edges(),(function(e){var u=s[e.v],n=s[e.w];!t.isUndefined(u)&&!t.isUndefined(n)&&(n.indegree++,u.out.push(s[e.w]))})),function(i){var a=[];function s(u){return function(e){e.merged||(t.isUndefined(e.barycenter)||t.isUndefined(u.barycenter)||e.barycenter>=u.barycenter)&&function(i,a){var s=0,t=0;i.weight&&(s+=i.barycenter*i.weight,t+=i.weight),a.weight&&(s+=a.barycenter*a.weight,t+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=s/t,i.weight=t,i.i=Math.min(a.i,i.i),a.merged=!0}(u,e)}}function e(u){return function(t){t.in.push(u),0==--t.indegree&&i.push(t)}}for(;i.length;){var n=i.pop();a.push(n),t.forEach(n.in.reverse(),s(n)),t.forEach(n.out,e(n))}return t.map(t.filter(a,(function(u){return!u.merged})),(function(u){return t.pick(u,["vs","i","barycenter","weight"])}))}(t.filter(s,(function(t){return!t.indegree})))}}function mU(){if(oj)return aj;oj=1;var t=iU(),e=function(){if(tj)return JY;tj=1;var t=iU();return JY=function(e,n){return t.map(n,(function(i){var a=e.inEdges(i);if(a.length){var s=t.reduce(a,(function(t,n){var u=e.edge(n),r=e.node(n.v);return{sum:t.sum+u.weight*r.order,weight:t.weight+u.weight}}),{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}return{v:i}}))}}(),n=yU(),r=function(){if(ij)return rj;ij=1;var t=iU(),e=sU();function n(a,s,e){for(var n;s.length&&(n=t.last(s)).i<=e;)s.pop(),a.push(n.vs),e++;return e}return rj=function(a,s){var r=e.partition(a,(function(e){return t.has(e,"barycenter")})),o=r.lhs,u=t.sortBy(r.rhs,(function(t){return-t.i})),c=[],l=0,h=0,p=0;o.sort(function(a){return function(s,t){return s.barycenter<t.barycenter?-1:s.barycenter>t.barycenter?1:a?t.i-s.i:s.i-t.i}}(!!s)),p=n(c,u,p),t.forEach(o,(function(t){p+=t.vs.length,c.push(t.vs),l+=t.barycenter*t.weight,h+=t.weight,p=n(c,u,p)}));var f={vs:t.flatten(c,!0)};return h&&(f.barycenter=l/h,f.weight=h),f}}();return aj=function i(o,c,u,l){var h=o.children(c),f=o.node(c),p=f?f.borderLeft:void 0,d=f?f.borderRight:void 0,y={};p&&(h=t.filter(h,(function(t){return t!==p&&t!==d})));var m=e(o,h);t.forEach(m,(function(e){if(o.children(e.v).length){var n=i(o,e.v,u,l);y[e.v]=n,t.has(n,"barycenter")&&function(e,n){t.isUndefined(e.barycenter)?(e.barycenter=n.barycenter,e.weight=n.weight):(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight)}(e,n)}}));var b=n(m,u);!function(e,n){t.forEach(e,(function(u){u.vs=t.flatten(u.vs.map((function(t){return n[t]?n[t].vs:t})),!0)}))}(b,y);var _=r(b,l);if(p&&(_.vs=t.flatten([p,_.vs,d],!0),o.predecessors(p).length)){var v=o.node(o.predecessors(p)[0]),x=o.node(o.predecessors(d)[0]);t.has(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+v.order+x.order)/(_.weight+2),_.weight+=2}return _},aj}function bU(){if(cj)return sj;cj=1;var t=iU(),e=Cj().Graph;return sj=function(i,a,s){var n=function(i){for(var a;i.hasNode(a=t.uniqueId("_root")););return a}(i),r=new e({compound:!0}).setGraph({root:n}).setDefaultNodeLabel((function(u){return i.node(u)}));return t.forEach(i.nodes(),(function(u){var e=i.node(u),o=i.parent(u);(e.rank===a||e.minRank<=a&&a<=e.maxRank)&&(r.setNode(u),r.setParent(u,o||n),t.forEach(i[s](u),(function(e){var p=e.v===u?e.w:e.v,n=r.edge(p,u),o=t.isUndefined(n)?0:n.weight;r.setEdge(p,u,{weight:i.edge(e).weight+o})})),t.has(e,"minRank")&&r.setNode(u,{borderLeft:e.borderLeft[a],borderRight:e.borderRight[a]}))})),r}}function _U(){if(fj)return hj;fj=1;var t=iU(),e=function(){if(ZY)return XY;ZY=1;var t=iU();return XY=function(e){var n={},i=t.filter(e.nodes(),(function(u){return!e.children(u).length})),a=t.max(t.map(i,(function(u){return e.node(u).rank}))),s=t.map(t.range(a+1),(function(){return[]})),r=t.sortBy(i,(function(u){return e.node(u).rank}));return t.forEach(r,(function r(u){if(!t.has(n,u)){n[u]=!0;var o=e.node(u);s[o.rank].push(u),t.forEach(e.successors(u),r)}})),s}}(),n=function(){if(KY)return QY;KY=1;var t=iU();function e(e,i,a){for(var s=t.zipObject(a,t.map(a,(function(t,p){return p}))),n=t.flatten(t.map(i,(function(n){return t.sortBy(t.map(e.outEdges(n),(function(p){return{pos:s[p.w],weight:e.edge(p).weight}})),"pos")})),!0),r=1;r<a.length;)r<<=1;var u=2*r-1;r-=1;var o=t.map(new Array(u),(function(){return 0})),c=0;return t.forEach(n.forEach((function(t){var p=t.pos+r;o[p]+=t.weight;for(var e=0;p>0;)p%2&&(e+=o[p+1]),o[p=p-1>>1]+=t.weight;c+=t.weight*e}))),c}return QY=function(t,i){for(var a=0,s=1;s<i.length;++s)a+=e(t,i[s-1],i[s]);return a}}(),r=mU(),i=bU(),a=function(){if(uj)return lj;uj=1;var t=iU();return lj=function(e,n,i){var s,a={};t.forEach(i,(function(t){for(var u,r,o=e.parent(t);o;){if((u=e.parent(o))?(r=a[u],a[u]=o):(r=s,s=o),r&&r!==o)return void n.setEdge(r,o);o=u}}))}}(),s=Cj().Graph,o=sU();function u(e,p,n){return t.map(p,(function(t){return i(e,t,n)}))}function c(e,p){var n=new s;t.forEach(e,(function(e){var o=e.graph().root,b=r(e,o,n,p);t.forEach(b.vs,(function(t,n){e.node(t).order=n})),a(e,n,b.vs)}))}function l(e,p){t.forEach(p,(function(n){t.forEach(n,(function(t,n){e.node(t).order=n}))}))}return hj=function(r){var p=o.maxRank(r),h=u(r,t.range(1,p+1),"inEdges"),f=u(r,t.range(p-1,-1,-1),"outEdges"),d=e(r);l(r,d);for(var y,b=Number.POSITIVE_INFINITY,m=0,_=0;_<4;++m,++_){c(m%2?h:f,m%4>=2),d=o.buildLayerMatrix(r);var v=n(r,d);v<b&&(_=0,y=t.cloneDeep(d),b=v)}l(r,y)}}function vU(){if(pj)return dj;pj=1;var t=iU(),e=Cj().Graph,n=sU();function r(b,e){var n={};return t.reduce(e,(function(e,r){var o=0,c=0,l=e.length,h=t.last(r);return t.forEach(r,(function(e,f){var d=function(b,e){if(b.node(e).dummy)return t.find(b.predecessors(e),(function(t){return b.node(t).dummy}))}(b,e),y=d?b.node(d).order:l;(d||e===h)&&(t.forEach(r.slice(c,f+1),(function(e){t.forEach(b.predecessors(e),(function(t){var r=b.node(t),c=r.order;(c<o||y<c)&&(!r.dummy||!b.node(e).dummy)&&s(n,t,e)}))})),c=f+1,o=y)})),r})),n}function i(b,e){var n={};function r(e,r,o,c,l){var h;t.forEach(t.range(r,o),(function(r){h=e[r],b.node(h).dummy&&t.forEach(b.predecessors(h),(function(t){var e=b.node(t);e.dummy&&(e.order<c||e.order>l)&&s(n,t,h)}))}))}return t.reduce(e,(function(e,n){var o,c=-1,l=0;return t.forEach(n,(function(t,h){if("border"===b.node(t).dummy){var f=b.predecessors(t);f.length&&(o=b.node(f[0]).order,r(n,l,h,c,o),l=h,c=o)}r(n,l,n.length,o,e.length)})),n})),n}function s(b,t,e){if(t>e){var n=t;t=e,e=n}var r=b[t];r||(b[t]=r={}),r[e]=!0}function o(b,e,n){if(e>n){var r=e;e=n,n=r}return t.has(b[e],n)}function c(b,e,n,r){var c={},l={},h={};return t.forEach(e,(function(e){t.forEach(e,(function(t,e){c[t]=t,l[t]=t,h[t]=e}))})),t.forEach(e,(function(e){var f=-1;t.forEach(e,(function(e){var d=r(e);if(d.length)for(var y=((d=t.sortBy(d,(function(t){return h[t]}))).length-1)/2,m=Math.floor(y),_=Math.ceil(y);m<=_;++m){var v=d[m];l[e]===e&&f<h[v]&&!o(n,e,v)&&(l[v]=e,l[e]=c[e]=c[v],f=h[v])}}))})),{root:c,align:l}}function u(b,n,r,o,c){var l={},h=function(b,n,r,o){var c=new e,l=b.graph(),h=function(b,e,n){return function(r,o,c){var l,h=r.node(o),f=r.node(c),d=0;if(d+=h.width/2,t.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":l=-h.width/2;break;case"r":l=h.width/2}if(l&&(d+=n?l:-l),l=0,d+=(h.dummy?e:b)/2,d+=(f.dummy?e:b)/2,d+=f.width/2,t.has(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":l=f.width/2;break;case"r":l=-f.width/2}return l&&(d+=n?l:-l),l=0,d}}(l.nodesep,l.edgesep,o);return t.forEach(n,(function(e){var n;t.forEach(e,(function(t){var e=r[t];if(c.setNode(e),n){var o=r[n],l=c.edge(o,e);c.setEdge(o,e,Math.max(h(b,t,n),l||0))}n=t}))})),c}(b,n,r,c),f=c?"borderLeft":"borderRight";function d(t,e){for(var n=h.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return d((function(t){l[t]=h.inEdges(t).reduce((function(t,e){return Math.max(t,l[e.v]+h.edge(e))}),0)}),h.predecessors.bind(h)),d((function(t){var e=h.outEdges(t).reduce((function(t,e){return Math.min(t,l[e.w]-h.edge(e))}),Number.POSITIVE_INFINITY),n=b.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==f&&(l[t]=Math.max(l[t],e))}),h.successors.bind(h)),t.forEach(o,(function(t){l[t]=l[r[t]]})),l}function l(b,e){return t.minBy(t.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return t.forIn(e,(function(t,e){var o=function(b,t){return b.node(t).width}(b,e)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}function h(b,e){var n=t.values(e),r=t.min(n),o=t.max(n);t.forEach(["u","d"],(function(n){t.forEach(["l","r"],(function(c){var l,h=n+c,f=b[h];if(f!==e){var d=t.values(f);(l="l"===c?r-t.min(d):o-t.max(d))&&(b[h]=t.mapValues(f,(function(t){return t+l})))}}))}))}function p(b,e){return t.mapValues(b.ul,(function(n,r){if(e)return b[e.toLowerCase()][r];var o=t.sortBy(t.map(b,r));return(o[1]+o[2])/2}))}return dj={positionX:function(b){var e,o=n.buildLayerMatrix(b),f=t.merge(r(b,o),i(b,o)),d={};t.forEach(["u","d"],(function(n){e="u"===n?o:t.values(o).reverse(),t.forEach(["l","r"],(function(r){"r"===r&&(e=t.map(e,(function(e){return t.values(e).reverse()})));var o=("u"===n?b.predecessors:b.successors).bind(b),l=c(b,e,f,o),h=u(b,e,l.root,l.align,"r"===r);"r"===r&&(h=t.mapValues(h,(function(t){return-t}))),d[n+r]=h}))}));var y=l(b,d);return h(d,y),p(d,b.graph().align)},findType1Conflicts:r,findType2Conflicts:i,addConflict:s,hasConflict:o,verticalAlignment:c,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:l,balance:p}}function xU(){if(yj)return gj;yj=1;var t=iU(),e=sU(),n=vU().positionX;return gj=function(a){(function(a){var s=e.buildLayerMatrix(a),n=a.graph().ranksep,r=0;t.forEach(s,(function(u){var e=t.max(t.map(u,(function(t){return a.node(t).height})));t.forEach(u,(function(t){a.node(t).y=r+e/2})),r+=e+n}))})(a=e.asNonCompoundGraph(a)),t.forEach(n(a),(function(s,t){a.node(t).x=s}))}}function kU(){if(bj)return mj;bj=1;var t=iU(),e=oU(),n=cU(),r=fU(),i=sU().normalizeRanks,a=dU(),s=sU().removeEmptyRanks,o=pU(),c=function(){if(HY)return qY;HY=1;var t=iU(),e=sU();function n(i,a,s,t,n,u){var r={width:0,height:0,rank:u,borderType:a},o=n[a][u-1],c=e.addDummyNode(i,"border",r,s);n[a][u]=c,i.setParent(c,t),o&&i.setEdge(o,c,{weight:1})}return qY=function(i){t.forEach(i.children(),(function a(s){var e=i.children(s),r=i.node(s);if(e.length&&t.forEach(e,a),t.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var u=r.minRank,o=r.maxRank+1;u<o;++u)n(i,"borderLeft","_bl",s,r,u),n(i,"borderRight","_br",s,r,u)}}))}}(),u=gU(),l=_U(),h=xU(),f=sU(),p=Cj().Graph;mj=function(T,C){var S=C&&C.debugTiming?f.time:f.notime;S("layout",(function(){var C=S("  buildLayoutGraph",(function(){return function(e){var n=new p({multigraph:!0,compound:!0}),r=E(e.graph());return n.setGraph(t.merge({},d,w(r,b),t.pick(r,y))),t.forEach(e.nodes(),(function(r){var o=E(e.node(r));n.setNode(r,t.defaults(w(o,m),_)),n.setParent(r,e.parent(r))})),t.forEach(e.edges(),(function(r){var o=E(e.edge(r));n.setEdge(r,t.merge({},x,w(o,v),t.pick(o,k)))})),n}(T)}));S("  runLayout",(function(){!function(d,y){y("    makeSpaceForEdgeLabels",(function(){!function(e){var n=e.graph();n.ranksep/=2,t.forEach(e.edges(),(function(t){var r=e.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(d)})),y("    removeSelfEdges",(function(){!function(e){t.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(d)})),y("    acyclic",(function(){e.run(d)})),y("    nestingGraph.run",(function(){o.run(d)})),y("    rank",(function(){r(f.asNonCompoundGraph(d))})),y("    injectEdgeLabelProxies",(function(){!function(e){t.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};f.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(d)})),y("    removeEmptyRanks",(function(){s(d)})),y("    nestingGraph.cleanup",(function(){o.cleanup(d)})),y("    normalizeRanks",(function(){i(d)})),y("    assignRankMinMax",(function(){!function(e){var n=0;t.forEach(e.nodes(),(function(r){var o=e.node(r);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,n=t.max(n,o.maxRank))})),e.graph().maxRank=n}(d)})),y("    removeEdgeLabelProxies",(function(){!function(e){t.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(d)})),y("    normalize.run",(function(){n.run(d)})),y("    parentDummyChains",(function(){a(d)})),y("    addBorderSegments",(function(){c(d)})),y("    order",(function(){l(d)})),y("    insertSelfEdges",(function(){!function(e){var n=f.buildLayerMatrix(e);t.forEach(n,(function(n){var r=0;t.forEach(n,(function(n,o){var c=e.node(n);c.order=o+r,t.forEach(c.selfEdges,(function(q){f.addDummyNode(e,"selfedge",{width:q.label.width,height:q.label.height,rank:c.rank,order:o+ ++r,e:q.e,label:q.label},"_se")})),delete c.selfEdges}))}))}(d)})),y("    adjustCoordinateSystem",(function(){u.adjust(d)})),y("    position",(function(){h(d)})),y("    positionSelfEdges",(function(){!function(e){t.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,c=r.y,l=n.x-o,q=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*l/3,y:c-q},{x:o+5*l/6,y:c-q},{x:o+l,y:c},{x:o+5*l/6,y:c+q},{x:o+2*l/3,y:c+q}],n.label.x=n.x,n.label.y=n.y}}))}(d)})),y("    removeBorderNodes",(function(){!function(e){t.forEach(e.nodes(),(function(n){if(e.children(n).length){var r=e.node(n),o=e.node(r.borderTop),c=e.node(r.borderBottom),l=e.node(t.last(r.borderLeft)),h=e.node(t.last(r.borderRight));r.width=Math.abs(h.x-l.x),r.height=Math.abs(c.y-o.y),r.x=l.x+r.width/2,r.y=o.y+r.height/2}})),t.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(d)})),y("    normalize.undo",(function(){n.undo(d)})),y("    fixupEdgeLabelCoords",(function(){!function(e){t.forEach(e.edges(),(function(n){var r=e.edge(n);if(t.has(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(d)})),y("    undoCoordinateSystem",(function(){u.undo(d)})),y("    translateGraph",(function(){!function(e){var n=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,c=0,l=e.graph(),h=l.marginx||0,q=l.marginy||0;function f(t){var e=t.x,l=t.y,h=t.width,f=t.height;n=Math.min(n,e-h/2),r=Math.max(r,e+h/2),o=Math.min(o,l-f/2),c=Math.max(c,l+f/2)}t.forEach(e.nodes(),(function(t){f(e.node(t))})),t.forEach(e.edges(),(function(n){var r=e.edge(n);t.has(r,"x")&&f(r)})),n-=h,o-=q,t.forEach(e.nodes(),(function(t){var r=e.node(t);r.x-=n,r.y-=o})),t.forEach(e.edges(),(function(r){var c=e.edge(r);t.forEach(c.points,(function(t){t.x-=n,t.y-=o})),t.has(c,"x")&&(c.x-=n),t.has(c,"y")&&(c.y-=o)})),l.width=r-n+h,l.height=c-o+q}(d)})),y("    assignNodeIntersects",(function(){!function(e){t.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),c=e.node(t.v),l=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=l,r=c),o.points.unshift(f.intersectRect(c,n)),o.points.push(f.intersectRect(l,r))}))}(d)})),y("    reversePoints",(function(){!function(e){t.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(d)})),y("    acyclic.undo",(function(){e.undo(d)}))}(C,S)})),S("  updateInputGraph",(function(){!function(e,n){t.forEach(e.nodes(),(function(t){var r=e.node(t),o=n.node(t);r&&(r.x=o.x,r.y=o.y,n.children(t).length&&(r.width=o.width,r.height=o.height))})),t.forEach(e.edges(),(function(r){var o=e.edge(r),c=n.edge(r);o.points=c.points,t.has(c,"x")&&(o.x=c.x,o.y=c.y)})),e.graph().width=n.graph().width,e.graph().height=n.graph().height}(T,C)}))}))};var b=["nodesep","edgesep","ranksep","marginx","marginy"],d={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},y=["acyclicer","ranker","rankdir","align"],m=["width","height"],_={width:0,height:0},v=["minlen","weight","width","height","labeloffset"],x={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function w(e,n){return t.mapValues(t.pick(e,n),Number)}function E(e){var n={};return t.forEach(e,(function(t,e){n[e.toLowerCase()]=t})),n}return mj}function wU(){if(vj)return _j;vj=1;var t=iU(),e=sU(),n=Cj().Graph;return _j={debugOrdering:function(i){var a=e.buildLayerMatrix(i),s=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),(function(t){s.setNode(t,{label:t}),s.setParent(t,"layer"+i.node(t).rank)})),t.forEach(i.edges(),(function(t){s.setEdge(t.v,t.w,{},t.name)})),t.forEach(a,(function(e,n){var u="layer"+n;s.setNode(u,{rank:"same"}),t.reduce(e,(function(t,e){return s.setEdge(t,e,{style:"invis"}),e}))})),s}}}function EU(){return Ej||(Ej=1,wj={graphlib:Cj(),layout:kU(),debug:wU(),util:{time:sU().time,notime:sU().notime},version:(kj||(kj=1,xj="0.8.5"),xj)}),wj}var TU=EU();let CU=0;const SU=function(t){let e=t.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),i=t.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return e&&!i?AU(e):i?MU(i):NU(t)},AU=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",a=t[3]?DE(t[3].trim()):"",s=t[4]?t[4].trim():"",o=t[5]?t[5].trim():"";n=r+i+a+" "+s,e=OU(o)}catch{n=t}return{displayText:n,cssStyle:e}},MU=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",a=t[3]?DE(t[3].trim()):"",s=t[4]?t[4].trim():"";n=r+i+"("+a+")"+(t[5]?" : "+DE(t[5]).trim():""),e=OU(s)}catch{n=t}return{displayText:n,cssStyle:e}},NU=function(t){let e="",n="",r="",i=t.indexOf("("),a=t.indexOf(")");if(i>1&&a>i&&a<=t.length){let s="",o="",c=t.substring(0,1);c.match(/\w/)?o=t.substring(0,i).trim():(c.match(/\+|-|~|#/)&&(s=c),o=t.substring(1,i).trim());const u=t.substring(i+1,a);t.substring(a+1,1),n=OU(t.substring(a+1,a+2)),e=s+o+"("+DE(u.trim())+")",a<t.length&&(r=t.substring(a+2).trim(),""!==r&&(r=" : "+DE(r),e+=r))}else e=DE(t);return{displayText:e,cssStyle:n}},DU=function(t,e,n,r){let i=SU(e);const a=t.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&a.attr("style",i.cssStyle),n||a.attr("dy",r.textHeight)},OU=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},LU=function(t,e,n,r){v.debug("Rendering class ",e,n);const i=e.id,a={id:i,label:e.id,width:0,height:0},s=t.append("g").attr("id",r.db.lookUpDomId(i)).attr("class","classGroup");let o;o=e.link?s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):s.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let c=!0;e.annotations.forEach((function(t){const e=o.append("tspan").text(""+t+"");c||e.attr("dy",n.textHeight),c=!1}));let u=e.id;void 0!==e.type&&""!==e.type&&(u+="<"+e.type+">");const l=o.append("tspan").text(u).attr("class","title");c||l.attr("dy",n.textHeight);const h=o.node().getBBox().height,f=s.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin/2).attr("y2",n.padding+h+n.dividerMargin/2),p=s.append("text").attr("x",n.padding).attr("y",h+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");c=!0,e.members.forEach((function(t){DU(p,t,c,n),c=!1}));const d=p.node().getBBox(),y=s.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin+d.height).attr("y2",n.padding+h+n.dividerMargin+d.height),m=s.append("text").attr("x",n.padding).attr("y",h+2*n.dividerMargin+d.height+n.textHeight).attr("fill","white").attr("class","classText");c=!0,e.methods.forEach((function(t){DU(m,t,c,n),c=!1}));const b=s.node().getBBox();var _=" ";e.cssClasses.length>0&&(_+=e.cssClasses.join(" "));const x=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",b.width+2*n.padding).attr("height",b.height+n.padding+.5*n.dividerMargin).attr("class",_).node().getBBox().width;return o.node().childNodes.forEach((function(t){t.setAttribute("x",(x-t.getBBox().width)/2)})),e.tooltip&&o.insert("title").text(e.tooltip),f.attr("x2",x),y.attr("x2",x),a.width=x,a.height=b.height+n.padding+.5*n.dividerMargin,a},BU=function(t,e,n,r,i){const a=function(t){switch(t){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency";case i.db.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const s=e.points,o=Ex().x((function(t){return t.x})).y((function(t){return t.y})).curve(vk),c=t.append("path").attr("d",o(s)).attr("id","edge"+CU).attr("class","relation");let l,h,u="";r.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),1==n.relation.lineType&&c.attr("class","relation dashed-line"),"none"!==n.relation.type1&&c.attr("marker-start","url("+u+"#"+a(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&c.attr("marker-end","url("+u+"#"+a(n.relation.type2)+"End)");const f=e.points.length;let d,y,m,b,p=$S.calcLabelPosition(e.points);if(l=p.x,h=p.y,f%2!=0&&f>1){let t=$S.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),r=$S.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[f-1]);v.debug("cardinality_1_point "+JSON.stringify(t)),v.debug("cardinality_2_point "+JSON.stringify(r)),d=t.x,y=t.y,m=r.x,b=r.y}if(typeof n.title<"u"){const e=t.append("g").attr("class","classLabel"),o=e.append("text").attr("class","label").attr("x",l).attr("y",h).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=o;const c=o.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",c.x-r.padding/2).attr("y",c.y-r.padding/2).attr("width",c.width+r.padding).attr("height",c.height+r.padding)}v.info("Rendering relation "+JSON.stringify(n)),typeof n.relationTitle1<"u"&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",d).attr("y",y).attr("fill","black").attr("font-size","6").text(n.relationTitle1),typeof n.relationTitle2<"u"&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",b).attr("fill","black").attr("font-size","6").text(n.relationTitle2),CU++};let IU={};const FU=function(t){const e=Object.entries(IU).find((e=>e[1].label===t));if(e)return e[0]},RU={draw:function(t,e,n,r){const i=OA().class;IU={},v.info("Rendering diagram "+t);const a=OA().securityLevel;let s;"sandbox"===a&&(s=Nn("#i"+e));const o=Nn("sandbox"===a?s.nodes()[0].contentDocument.body:"body"),c=o.select(`[id='${e}']`);!function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(c);const u=new Tj.Graph({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel((function(){return{}}));const l=r.db.getClasses(),h=Object.keys(l);for(let b=0;b<h.length;b++){const t=l[h[b]],e=LU(c,t,i,r);IU[e.id]=e,u.setNode(e.id,e),v.info("Org height: "+e.height)}r.db.getRelations().forEach((function(b){v.info("tjoho"+FU(b.id1)+FU(b.id2)+JSON.stringify(b)),u.setEdge(FU(b.id1),FU(b.id2),{relation:b},b.title||"DEFAULT")})),TU.layout(u),u.nodes().forEach((function(b){typeof b<"u"&&typeof u.node(b)<"u"&&(v.debug("Node "+b+": "+JSON.stringify(u.node(b))),o.select("#"+r.db.lookUpDomId(b)).attr("transform","translate("+(u.node(b).x-u.node(b).width/2)+","+(u.node(b).y-u.node(b).height/2)+" )"))})),u.edges().forEach((function(b){typeof b<"u"&&typeof u.edge(b)<"u"&&(v.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(u.edge(b))),BU(c,u.edge(b),u.edge(b).relation,i,r))}));const p=c.node().getBBox(),f=p.width+40,d=p.height+40;$A(c,0,f,i.useMaxWidth);const y=`${p.x-20} ${p.y-20} ${f} ${d}`;v.debug(`viewBox ${y}`),c.attr("viewBox",y),zM(r.db,c,e)}},PU={extension:(t,e,n)=>{v.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};const $U=(t,e,n,r)=>{let i=t||"";if("object"==typeof i&&(i=i[0]),NE(OA().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),v.info("vertexText"+i);return function(t){const e=Nn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=t.label,i=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),function(t,e){e&&t.attr("style",e)}(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}({isNode:r,label:fX(i).replace(/fa[lrsb]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`)),labelStyle:e.replace("fill:","color:")})}{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];s="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(let t=0;t<s.length;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),n?e.setAttribute("class","title-row"):e.setAttribute("class","row"),e.textContent=s[t].trim(),a.appendChild(e)}return a}},zU=(t,e,n,r)=>{let i;i=n||"node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",e.labelStyle);let o;o=typeof e.labelText>"u"?"":"string"==typeof e.labelText?e.labelText:e.labelText[0];const c=s.node().appendChild($U(li(fX(o),OA()),e.labelStyle,!1,r));let u=c.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=c.children[0],e=Nn(c);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}const l=e.padding/2;return s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),{shapeSvg:a,bbox:u,halfPadding:l,label:s}},hr=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function YU(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(i){return i.x+","+i.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let jU={},UU={},WU={};const qU=(t,e)=>(v.trace("In isDecendant",e," ",t," = ",UU[e].indexOf(t)>=0),UU[e].indexOf(t)>=0),HU=(t,e,n,r)=>{v.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const i=e.children(t)||[];t!==r&&i.push(t),v.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach((a=>{if(e.children(a).length>0)HU(a,e,n,r);else{const s=e.node(a);v.info("cp ",a," to ",r," with parent ",t),n.setNode(a,s),r!==e.parent(a)&&(v.warn("Setting parent",a,e.parent(a)),n.setParent(a,e.parent(a))),t!==r&&a!==t?(v.debug("Setting parent",a,t),n.setParent(a,t)):(v.info("In copy ",t,"root",r,"data",e.node(t),r),v.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==r,"node!==clusterId",a!==t));const o=e.edges(a);v.debug("Copying Edges",o),o.forEach((o=>{v.info("Edge",o);const u=e.edge(o.v,o.w,o.name);v.info("Edge data",u,r);try{((t,e)=>(v.info("Decendants of ",e," is ",UU[e]),v.info("Edge is ",t),t.v!==e&&t.w!==e&&(UU[e]?!!(UU[e].indexOf(t.v)>=0||qU(t.v,e)||qU(t.w,e)||UU[e].indexOf(t.w)>=0):(v.debug("Tilt, ",e,",not in decendants"),!1))))(o,r)?(v.info("Copying as ",o.v,o.w,u,o.name),n.setEdge(o.v,o.w,u,o.name),v.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):v.info("Skipping copy of edge ",o.v,"--\x3e",o.w," rootId: ",r," clusterId:",t)}catch(t){v.error(t)}}))}v.debug("Removing node",a),e.removeNode(a)}))},VU=(t,e)=>{const n=e.children(t);let r=[].concat(n);for(let i=0;i<n.length;i++)WU[n[i]]=t,r=r.concat(VU(n[i],e));return r},GU=(t,e)=>{v.trace("Searching",t);const n=e.children(t);if(v.trace("Searching children of id ",t,n),n.length<1)return v.trace("This is a valid node",t),t;for(let r=0;r<n.length;r++){const i=GU(n[r],e);if(i)return v.trace("Found replacement for",t," => ",i),i}},XU=t=>jU[t]&&jU[t].externalConnections&&jU[t]?jU[t].id:t,ZU=(t,e)=>{if(v.warn("extractor - ",e,Tj.json.write(t),t.children("D")),e>10)return void v.error("Bailing out");let n=t.nodes(),r=!1;for(let i=0;i<n.length;i++){const a=n[i],s=t.children(a);r=r||s.length>0}if(r){v.debug("Nodes = ",n,e);for(let i=0;i<n.length;i++){const a=n[i];if(v.debug("Extracting node",a,jU,jU[a]&&!jU[a].externalConnections,!t.parent(a),t.node(a),t.children("D")," Depth ",e),jU[a])if(!jU[a].externalConnections&&t.children(a)&&t.children(a).length>0){v.warn("Cluster without external connections, without a parent and with children",a,e);let n="TB"===t.graph().rankdir?"LR":"TB";jU[a]&&jU[a].clusterData&&jU[a].clusterData.dir&&(n=jU[a].clusterData.dir,v.warn("Fixing dir",jU[a].clusterData.dir,n));const r=new Tj.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));v.warn("Old graph before copy",Tj.json.write(t)),HU(a,t,r,a),t.setNode(a,{clusterNode:!0,id:a,clusterData:jU[a].clusterData,labelText:jU[a].labelText,graph:r}),v.warn("New graph after copy node: (",a,")",Tj.json.write(r)),v.debug("Old graph after copy",Tj.json.write(t))}else v.warn("Cluster ** ",a," **not meeting the criteria !externalConnections:",!jU[a].externalConnections," no parent: ",!t.parent(a)," children ",t.children(a)&&t.children(a).length>0,t.children("D"),e),v.debug(jU);else v.debug("Not a cluster",a,e)}n=t.nodes(),v.warn("New list of nodes",n);for(let i=0;i<n.length;i++){const a=n[i],s=t.node(a);v.warn(" Now next level",a,s),s.clusterNode&&ZU(s.graph,e+1)}}else v.debug("Done, no node has children",t.nodes())},QU=(t,e)=>{if(0===e.length)return[];let n=Object.assign(e);return e.forEach((e=>{const i=t.children(e),a=QU(t,i);n=n.concat(a)})),n};function KU(t,e,n,r){var i=t.x,a=t.y,s=i-r.x,o=a-r.y,c=Math.sqrt(e*e*o*o+n*n*s*s),u=Math.abs(e*n*s/c);r.x<i&&(u=-u);var l=Math.abs(e*n*o/c);return r.y<a&&(l=-l),{x:i+u,y:a+l}}function JU(t,e,n,r){var i,a,s,o,c,u,l,h,f,p,d,y,m;if(i=e.y-t.y,s=t.x-e.x,c=e.x*t.y-t.x*e.y,f=i*n.x+s*n.y+c,p=i*r.x+s*r.y+c,!(0!==f&&0!==p&&tW(f,p)||(a=r.y-n.y,o=n.x-r.x,u=r.x*n.y-n.x*r.y,l=a*t.x+o*t.y+u,h=a*e.x+o*e.y+u,0!==l&&0!==h&&tW(l,h)||(d=i*o-a*s,0===d))))return y=Math.abs(d/2),{x:(m=s*u-o*c)<0?(m-y)/d:(m+y)/d,y:(m=a*c-i*u)<0?(m-y)/d:(m+y)/d}}function tW(t,e){return t*e>0}const eW=(t,e)=>{var n,u,r=t.x,o=t.y,i=e.x-r,a=e.y-o,s=t.width/2,c=t.height/2;return Math.abs(a)*s>Math.abs(i)*c?(a<0&&(c=-c),n=0===a?0:c*i/a,u=c):(i<0&&(s=-s),n=s,u=0===i?0:s*a/i),{x:r+n,y:o+u}},nW={node:function(t,e){return t.intersect(e)},circle:function(t,e,n){return KU(t,e,e,n)},ellipse:KU,polygon:function(t,e,n){var r=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach((function(t){s=Math.min(s,t.x),o=Math.min(o,t.y)})):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var c=r-t.width/2-s,u=i-t.height/2-o,l=0;l<e.length;l++){var h=e[l],f=e[l<e.length-1?l+1:0],p=JU(t,n,{x:c+h.x,y:u+h.y},{x:c+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort((function(t,e){var r=t.x-n.x,b=t.y-n.y,o=Math.sqrt(r*r+b*b),c=e.x-n.x,l=e.y-n.y,h=Math.sqrt(c*c+l*l);return o<h?-1:o===h?0:1})),a[0]):t},rect:eW};function rW(t,e,n,r){const i=[],a=t=>{i.push(t),i.push(0)},s=t=>{i.push(0),i.push(t)};e.includes("t")?(v.debug("add top border"),a(n)):s(n),e.includes("r")?(v.debug("add right border"),a(r)):s(r),e.includes("b")?(v.debug("add bottom border"),a(n)):s(n),e.includes("l")?(v.debug("add left border"),a(r)):s(r),t.attr("stroke-dasharray",i.join(" "))}const iW=(t,e,n)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;"LR"===n&&(i=10,a=70);const s=r.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return hr(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return nW.rect(e,t)},r},aW={question:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),s=r.width+e.padding+(r.height+e.padding),o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];v.info("Question main (Circle)");const c=YU(n,s,s,o);return c.attr("style",e.style),hr(e,c),e.intersect=function(u){return v.warn("Intersect called"),nW.polygon(e,o,u)},n},rect:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=zU(t,e,"node "+e.classes,!0);v.trace("Classes = ",e.classes);const a=n.insert("rect",":first-child"),s=r.width+e.padding,o=r.height+e.padding;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",s).attr("height",o),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(rW(a,e.props.borders,s,o),t.delete("borders")),t.forEach((u=>{v.warn(`Unknown node property ${u}`)}))}return hr(e,a),e.intersect=function(t){return nW.rect(e,t)},n},labelRect:(t,e)=>{const{shapeSvg:n}=zU(t,e,"label",!0);v.trace("Classes = ",e.classes);const r=n.insert("rect",":first-child");if(r.attr("width",0).attr("height",0),n.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(rW(r,e.props.borders,0,0),s.delete("borders")),s.forEach((t=>{v.warn(`Unknown node property ${t}`)}))}return hr(e,r),e.intersect=function(s){return nW.rect(e,s)},n},rectWithTitle:(t,e)=>{let n;n=e.classes?"node "+e.classes:"node default";const r=t.insert("g").attr("class",n).attr("id",e.domId||e.id),i=r.insert("rect",":first-child"),a=r.insert("line"),s=r.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let c="";c="object"==typeof o?o[0]:o,v.info("Label text abc79",c,o,"object"==typeof o);const u=s.node().appendChild($U(c,e.labelStyle,!0,!0));let l={width:0,height:0};if(NE(OA().flowchart.htmlLabels)){const t=u.children[0],e=Nn(u);l=t.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height)}v.info("Text 2",o);const h=o.slice(1,o.length);let f=u.getBBox();const p=s.node().appendChild($U(h.join?h.join("<br/>"):h,e.labelStyle,!0,!0));if(NE(OA().flowchart.htmlLabels)){const t=p.children[0],e=Nn(p);l=t.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height)}const d=e.padding/2;return Nn(p).attr("transform","translate( "+(l.width>f.width?0:(f.width-l.width)/2)+", "+(f.height+d+5)+")"),Nn(u).attr("transform","translate( "+(l.width<f.width?0:-(f.width-l.width)/2)+", 0)"),l=s.node().getBBox(),s.attr("transform","translate("+-l.width/2+", "+(-l.height/2-d+3)+")"),i.attr("class","outer title-state").attr("x",-l.width/2-d).attr("y",-l.height/2-d).attr("width",l.width+e.padding).attr("height",l.height+e.padding),a.attr("class","divider").attr("x1",-l.width/2-d).attr("x2",l.width/2+d).attr("y1",-l.height/2-d+f.height+d).attr("y2",-l.height/2-d+f.height+d),hr(e,i),e.intersect=function(t){return nW.rect(e,t)},r},choice:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return n.insert("polygon",":first-child").attr("points",i.map((function(s){return s.x+","+s.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return nW.circle(e,14,s)},n},circle:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=zU(t,e,void 0,!0),a=n.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),v.info("Circle main"),hr(e,a),e.intersect=function(s){return v.info("Circle intersect",e,r.width/2+i,s),nW.circle(e,r.width/2+i,s)},n},doublecircle:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=zU(t,e,void 0,!0),s=n.insert("g",":first-child"),o=s.insert("circle"),c=s.insert("circle");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i+5).attr("width",r.width+e.padding+10).attr("height",r.height+e.padding+10),c.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),v.info("DoubleCircle main"),hr(e,o),e.intersect=function(u){return v.info("DoubleCircle intersect",e,r.width/2+i+5,u),nW.circle(e,r.width/2+i+5,u)},n},stadium:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.height+e.padding,a=r.width+i/4+e.padding,s=n.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return hr(e,s),e.intersect=function(t){return nW.rect(e,t)},n},hexagon:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),a=r.height+e.padding,s=a/4,o=r.width+2*s+e.padding,c=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=YU(n,o,a,c);return u.attr("style",e.style),hr(e,u),e.intersect=function(t){return nW.polygon(e,c,t)},n},rect_left_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return YU(n,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(t){return nW.polygon(e,s,t)},n},lean_right:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},lean_left:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},trapezoid:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},inv_trapezoid:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},rect_right_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},cylinder:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=i/2,s=a/(2.5+i/50),o=r.height+s+e.padding,c="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=n.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",c).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return hr(e,u),e.intersect=function(t){const n=nW.rect(e,t),r=n.x-e.x;if(0!=a&&(Math.abs(r)<e.width/2||Math.abs(r)==e.width/2&&Math.abs(n.y-e.y)>e.height/2-s)){let p=s*s*(1-r*r/(a*a));0!=p&&(p=Math.sqrt(p)),p=s-p,t.y-e.y>0&&(p=-p),n.y+=p}return n},n},start:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),hr(e,r),e.intersect=function(i){return nW.circle(e,7,i)},n},end:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),hr(e,i),e.intersect=function(a){return nW.circle(e,7,a)},n},note:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=zU(t,e,"node "+e.classes,!0);v.info("Classes = ",e.classes);const a=n.insert("rect",":first-child");return a.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),hr(e,a),e.intersect=function(s){return nW.rect(e,s)},n},subroutine:(t,e)=>{const{shapeSvg:n,bbox:r}=zU(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=YU(n,i,a,s);return o.attr("style",e.style),hr(e,o),e.intersect=function(t){return nW.polygon(e,s,t)},n},fork:iW,join:iW,class_box:(t,e)=>{const n=e.padding/2;let a;a=e.classes?"node "+e.classes:"node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),r=s.insert("rect",":first-child"),o=s.insert("line"),u=s.insert("line");let c=0,l=4;const h=s.insert("g").attr("class","label");let p=0;const f=e.classData.annotations&&e.classData.annotations[0],d=e.classData.annotations[0]?""+e.classData.annotations[0]+"":"",y=h.node().appendChild($U(d,e.labelStyle,!0,!0));let b=y.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=y.children[0],e=Nn(y);b=t.getBoundingClientRect(),e.attr("width",b.width),e.attr("height",b.height)}e.classData.annotations[0]&&(l+=b.height+4,c+=b.width);let m=e.classData.id;void 0!==e.classData.type&&""!==e.classData.type&&(OA().flowchart.htmlLabels?m+="&lt;"+e.classData.type+"&gt;":m+="<"+e.classData.type+">");const _=h.node().appendChild($U(m,e.labelStyle,!0,!0));Nn(_).attr("class","classTitle");let v=_.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=_.children[0],e=Nn(_);v=t.getBoundingClientRect(),e.attr("width",v.width),e.attr("height",v.height)}l+=v.height+4,v.width>c&&(c=v.width);const x=[];e.classData.members.forEach((t=>{const n=SU(t);let r=n.displayText;OA().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const o=h.node().appendChild($U(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let f=o.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=o.children[0],e=Nn(o);f=t.getBoundingClientRect(),e.attr("width",f.width),e.attr("height",f.height)}f.width>c&&(c=f.width),l+=f.height+4,x.push(o)})),l+=8;const k=[];if(e.classData.methods.forEach((t=>{const n=SU(t);let r=n.displayText;OA().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const o=h.node().appendChild($U(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let f=o.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=o.children[0],e=Nn(o);f=t.getBoundingClientRect(),e.attr("width",f.width),e.attr("height",f.height)}f.width>c&&(c=f.width),l+=f.height+4,k.push(o)})),l+=8,f){let t=(c-b.width)/2;Nn(y).attr("transform","translate( "+(-1*c/2+t)+", "+-1*l/2+")"),p=b.height+4}let w=(c-v.width)/2;return Nn(_).attr("transform","translate( "+(-1*c/2+w)+", "+(-1*l/2+p)+")"),p+=v.height+4,o.attr("class","divider").attr("x1",-c/2-n).attr("x2",c/2+n).attr("y1",-l/2-n+8+p).attr("y2",-l/2-n+8+p),p+=8,x.forEach((t=>{Nn(t).attr("transform","translate( "+-c/2+", "+(-1*l/2+p+4)+")"),p+=v.height+4})),p+=8,u.attr("class","divider").attr("x1",-c/2-n).attr("x2",c/2+n).attr("y1",-l/2-n+8+p).attr("y2",-l/2-n+8+p),p+=8,k.forEach((t=>{Nn(t).attr("transform","translate( "+-c/2+", "+(-1*l/2+p)+")"),p+=v.height+4})),r.attr("class","outer title-state").attr("x",-c/2-n).attr("y",-l/2-n).attr("width",c+e.padding).attr("height",l+e.padding),hr(e,r),e.intersect=function(t){return nW.rect(e,t)},s}};let oW={};const sW=t=>{const e=oW[t.id];v.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},cW={rect:(t,e)=>{v.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),a=i.node().appendChild($U(e.labelText,e.labelStyle,void 0,!0));let s=a.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=a.children[0],e=Nn(a);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}const o=0*e.padding,c=o/2,u=e.width<=s.width+o?s.width+o:e.width;e.width<=s.width+o?e.diff=(s.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,v.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-u/2).attr("y",e.y-e.height/2-c).attr("width",u).attr("height",e.height+o),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2+e.padding/3)+")");const l=r.node().getBBox();return e.width=l.width,e.height=l.height,e.intersect=function(t){return eW(e,t)},n},roundedWithTitle:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),a=n.append("rect"),s=i.node().appendChild($U(e.labelText,e.labelStyle,void 0,!0));let o=s.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=s.children[0],p=Nn(s);o=t.getBoundingClientRect(),p.attr("width",o.width),p.attr("height",o.height)}o=s.getBBox();const c=0*e.padding,u=c/2,l=e.width<=o.width+e.padding?o.width+e.padding:e.width;e.width<=o.width+e.padding?e.diff=(o.width+0*e.padding-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-l/2-u).attr("y",e.y-e.height/2-u).attr("width",l+c).attr("height",e.height+c),a.attr("class","inner").attr("x",e.x-l/2-u).attr("y",e.y-e.height/2-u+o.height-1).attr("width",l+c).attr("height",e.height+c-o.height-3),i.attr("transform","translate("+(e.x-o.width/2)+", "+(e.y-e.height/2-e.padding/3+(NE(OA().flowchart.htmlLabels)?5:3))+")");const h=r.node().getBBox();return e.height=h.height,e.intersect=function(t){return eW(e,t)},n},noteGroup:(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,a=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=r.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(t){return eW(e,t)},n},divider:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,a=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const s=r.node().getBBox();return e.width=s.width,e.height=s.height,e.diff=-e.padding/2,e.intersect=function(t){return eW(e,t)},n}};let lW={};let uW={},hW={};function fW(t,e){OA().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}const dW=(t,e)=>{v.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach((a=>{if(v.info("abc88 checking point",a,e),((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),a=Math.abs(e.y-r),s=t.width/2,o=t.height/2;return i>=s||a>=o})(e,a)||i)v.warn("abc88 outside",a,r),r=a,i||n.push(a);else{const s=((t,e,n)=>{v.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,a=Math.abs(r-n.x),s=t.width/2;let o=n.x<e.x?s-a:s+a;const c=t.height/2,u=Math.abs(e.y-n.y),l=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*s>Math.abs(r-e.x)*c){let t=n.y<e.y?e.y-c-i:i-c-e.y;o=l*t/u;const r={x:n.x<e.x?n.x+o:n.x-l+o,y:n.y<e.y?n.y+u-t:n.y-u+t};return 0===o&&(r.x=e.x,r.y=e.y),0===l&&(r.x=e.x),0===u&&(r.y=e.y),v.warn(`abc89 topp/bott calc, Q ${u}, q ${t}, R ${l}, r ${o}`,r),r}{o=n.x<e.x?e.x-s-r:r-s-e.x;let t=u*o/l,c=n.x<e.x?n.x+l-o:n.x-l+o,p=n.y<e.y?n.y+t:n.y-t;return v.warn(`sides calc abc89, Q ${u}, q ${t}, R ${l}, r ${o}`,{_x:c,_y:p}),0===o&&(c=e.x,p=e.y),0===l&&(c=e.x),0===u&&(p=e.y),{x:c,y:p}}})(e,r,a);v.warn("abc88 inside",a,r,s),v.warn("abc88 intersection",s);let t=!1;n.forEach((e=>{t=t||e.x===s.x&&e.y===s.y})),n.find((t=>t.x===s.x&&t.y===s.y))?v.warn("abc88 no intersect",s,n):n.push(s),i=!0}})),v.warn("abc88 returning points",n),n},pW=(t,e,n,r)=>{v.info("Graph in recursive render: XXX",Tj.json.write(e),r);const i=e.graph().rankdir;v.trace("Dir in recursive render - dir:",i);const a=t.insert("g").attr("class","root");e.nodes()?v.info("Recursive render XXX",e.nodes()):v.info("No nodes found for",e),e.edges().length>0&&v.trace("Recursive edges",e.edge(e.edges()[0]));const s=a.insert("g").attr("class","clusters"),o=a.insert("g").attr("class","edgePaths"),c=a.insert("g").attr("class","edgeLabels"),u=a.insert("g").attr("class","nodes");e.nodes().forEach((function(t){const o=e.node(t);if(typeof r<"u"){const p=JSON.parse(JSON.stringify(r.clusterData));v.info("Setting data for cluster XXX (",t,") ",p,r),e.setNode(r.id,p),e.parent(t)||(v.trace("Setting parent",t,r.id),e.setParent(t,r.id,p))}if(v.info("(Insert) Node XXX"+t+": "+JSON.stringify(e.node(t))),o&&o.clusterNode){v.info("Cluster identified",t,o.width,e.node(t));const p=pW(u,o.graph,n,e.node(t)),r=p.elem;hr(o,r),o.diff=p.diff||0,v.info("Node bounds (abc123)",t,o,o.width,o.x,o.y),((t,e)=>{oW[e.id]=t})(r,o),v.warn("Recursive render complete ",r,o)}else e.children(t).length>0?(v.info("Cluster - the non recursive path XXX",t,o.id,o,e),v.info(GU(o.id,e)),jU[o.id]={id:GU(o.id,e),node:o}):(v.info("Node - the non recursive path",t,o.id,o),((t,e,n)=>{let r,i;if(e.link){let a;"sandbox"===OA().securityLevel?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=aW[e.shape](r,e,n)}else i=aW[e.shape](t,e,n),r=i;e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),oW[e.id]=r,e.haveCallback&&oW[e.id].attr("class",oW[e.id].attr("class")+" clickable")})(u,e.node(t),i))})),e.edges().forEach((function(t){const n=e.edge(t.v,t.w,t.name);v.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),v.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(e.edge(t))),v.info("Fix",jU,"ids:",t.v,t.w,"Translateing: ",jU[t.v],jU[t.w]),((t,e)=>{const n=$U(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);let s,a=n.getBBox();if(NE(OA().flowchart.htmlLabels)){const t=n.children[0],e=Nn(n);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}if(i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),uW[e.id]=r,e.width=a.width,e.height=a.height,e.startLabelLeft){const n=$U(e.startLabelLeft,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),u=r.insert("g").attr("class","inner");s=u.node().appendChild(n);const o=n.getBBox();u.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),hW[e.id]||(hW[e.id]={}),hW[e.id].startLeft=r,fW(s,e.startLabelLeft)}if(e.startLabelRight){const n=$U(e.startLabelRight,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),u=r.insert("g").attr("class","inner");s=r.node().appendChild(n),u.node().appendChild(n);const o=n.getBBox();u.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),hW[e.id]||(hW[e.id]={}),hW[e.id].startRight=r,fW(s,e.startLabelRight)}if(e.endLabelLeft){const n=$U(e.endLabelLeft,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),u=r.insert("g").attr("class","inner");s=u.node().appendChild(n);const o=n.getBBox();u.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),r.node().appendChild(n),hW[e.id]||(hW[e.id]={}),hW[e.id].endLeft=r,fW(s,e.endLabelLeft)}if(e.endLabelRight){const n=$U(e.endLabelRight,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),u=r.insert("g").attr("class","inner");s=u.node().appendChild(n);const o=n.getBBox();u.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),r.node().appendChild(n),hW[e.id]||(hW[e.id]={}),hW[e.id].endRight=r,fW(s,e.endLabelRight)}})(c,n)})),e.edges().forEach((function(t){v.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))})),v.info("#############################################"),v.info("###                Layout                 ###"),v.info("#############################################"),v.info(e),TU.layout(e),v.info("Graph after layout:",Tj.json.write(e));let l=0;return(t=>QU(t,t.children()))(e).forEach((function(t){const n=e.node(t);v.info("Position "+t+": "+JSON.stringify(e.node(t))),v.info("Position "+t+": ("+n.x,","+n.y,") width: ",n.width," height: ",n.height),n&&n.clusterNode?sW(n):e.children(t).length>0?(((t,e)=>{v.trace("Inserting cluster");const n=e.shape||"rect";lW[e.id]=cW[n](t,e)})(s,n),jU[n.id].node=n):sW(n)})),e.edges().forEach((function(t){const r=e.edge(t);v.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(r),r);const p=function(t,e,n,r,i,a){let s=n.points,o=!1;const c=a.node(e.v);var u=a.node(e.w);v.info("abc88 InsertEdge: ",n),u.intersect&&c.intersect&&(s=s.slice(1,n.points.length-1),s.unshift(c.intersect(s[0])),v.info("Last point",s[s.length-1],u,u.intersect(s[s.length-1])),s.push(u.intersect(s[s.length-1]))),n.toCluster&&(v.info("to cluster abc88",r[n.toCluster]),s=dW(n.points,r[n.toCluster].node),o=!0),n.fromCluster&&(v.info("from cluster abc88",r[n.fromCluster]),s=dW(s.reverse(),r[n.fromCluster].node).reverse(),o=!0);const l=s.filter((b=>!Number.isNaN(b.y)));let h;h=("graph"===i||"flowchart"===i)&&n.curve||vk;const f=Ex().x((function(b){return b.x})).y((function(b){return b.y})).curve(h);let p;switch(n.thickness){case"normal":p="edge-thickness-normal";break;case"thick":case"invisible":p="edge-thickness-thick";break;default:p=""}switch(n.pattern){case"solid":p+=" edge-pattern-solid";break;case"dotted":p+=" edge-pattern-dotted";break;case"dashed":p+=" edge-pattern-dashed"}const d=t.append("path").attr("d",f(l)).attr("id",n.id).attr("class"," "+p+(n.classes?" "+n.classes:"")).attr("style",n.style);let y="";switch((OA().flowchart.arrowMarkerAbsolute||OA().state.arrowMarkerAbsolute)&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),v.info("arrowTypeStart",n.arrowTypeStart),v.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":d.attr("marker-start","url("+y+"#"+i+"-crossStart)");break;case"arrow_point":d.attr("marker-start","url("+y+"#"+i+"-pointStart)");break;case"arrow_barb":d.attr("marker-start","url("+y+"#"+i+"-barbStart)");break;case"arrow_circle":d.attr("marker-start","url("+y+"#"+i+"-circleStart)");break;case"aggregation":d.attr("marker-start","url("+y+"#"+i+"-aggregationStart)");break;case"extension":d.attr("marker-start","url("+y+"#"+i+"-extensionStart)");break;case"composition":d.attr("marker-start","url("+y+"#"+i+"-compositionStart)");break;case"dependency":d.attr("marker-start","url("+y+"#"+i+"-dependencyStart)");break;case"lollipop":d.attr("marker-start","url("+y+"#"+i+"-lollipopStart)")}switch(n.arrowTypeEnd){case"arrow_cross":d.attr("marker-end","url("+y+"#"+i+"-crossEnd)");break;case"arrow_point":d.attr("marker-end","url("+y+"#"+i+"-pointEnd)");break;case"arrow_barb":d.attr("marker-end","url("+y+"#"+i+"-barbEnd)");break;case"arrow_circle":d.attr("marker-end","url("+y+"#"+i+"-circleEnd)");break;case"aggregation":d.attr("marker-end","url("+y+"#"+i+"-aggregationEnd)");break;case"extension":d.attr("marker-end","url("+y+"#"+i+"-extensionEnd)");break;case"composition":d.attr("marker-end","url("+y+"#"+i+"-compositionEnd)");break;case"dependency":d.attr("marker-end","url("+y+"#"+i+"-dependencyEnd)");break;case"lollipop":d.attr("marker-end","url("+y+"#"+i+"-lollipopEnd)")}let m={};return o&&(m.updatedPath=s),m.originalPath=n.points,m}(o,t,r,jU,n,e);((t,e)=>{v.info("Moving label abc78 ",t.id,t.label,uW[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const e=uW[t.id];let i=t.x,a=t.y;if(n){const s=$S.calcLabelPosition(n);v.info("Moving label from (",i,",",a,") to (",s.x,",",s.y,") abc78")}e.attr("transform","translate("+i+", "+a+")")}if(t.startLabelLeft){const e=hW[t.id].startLeft;let i=t.x,a=t.y;if(n){const s=$S.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=s.x,a=s.y}e.attr("transform","translate("+i+", "+a+")")}if(t.startLabelRight){const e=hW[t.id].startRight;let i=t.x,a=t.y;if(n){const s=$S.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=s.x,a=s.y}e.attr("transform","translate("+i+", "+a+")")}if(t.endLabelLeft){const e=hW[t.id].endLeft;let i=t.x,a=t.y;if(n){const s=$S.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=s.x,a=s.y}e.attr("transform","translate("+i+", "+a+")")}if(t.endLabelRight){const e=hW[t.id].endRight;let i=t.x,a=t.y;if(n){const s=$S.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=s.x,a=s.y}e.attr("transform","translate("+i+", "+a+")")}})(r,p)})),e.nodes().forEach((function(t){const n=e.node(t);v.info(t,n.type,n.diff),"group"===n.type&&(l=n.diff)})),{elem:a,diff:l}},gW=(t,e,n,r,i)=>{((t,e,n,r)=>{e.forEach((i=>{PU[i](t,n,r)}))})(t,n,r,i),oW={},uW={},hW={},lW={},UU={},WU={},jU={},v.warn("Graph at first:",Tj.json.write(e)),((t,e)=>{!t||e>10?v.debug("Opting out, no graph "):(v.debug("Opting in, graph "),t.nodes().forEach((function(e){t.children(e).length>0&&(v.warn("Cluster identified",e," Replacement id in edges: ",GU(e,t)),UU[e]=VU(e,t),jU[e]={id:GU(e,t),clusterData:t.node(e)})})),t.nodes().forEach((function(e){const n=t.children(e),i=t.edges();n.length>0?(v.debug("Cluster identified",e,UU),i.forEach((a=>{a.v!==e&&a.w!==e&&qU(a.v,e)^qU(a.w,e)&&(v.warn("Edge: ",a," leaves cluster ",e),v.warn("Decendants of XXX ",e,": ",UU[e]),jU[e].externalConnections=!0)}))):v.debug("Not a cluster ",e,UU)})),t.edges().forEach((function(e){const n=t.edge(e);v.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),v.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t.edge(e)));let i=e.v,a=e.w;if(v.warn("Fix XXX",jU,"ids:",e.v,e.w,"Translateing: ",jU[e.v]," --- ",jU[e.w]),jU[e.v]&&jU[e.w]&&jU[e.v]===jU[e.w]){v.warn("Fixing and trixing link to self - removing XXX",e.v,e.w,e.name),v.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),i=XU(e.v),a=XU(e.w),t.removeEdge(e.v,e.w,e.name);const s=e.w+"---"+e.v;t.setNode(s,{domId:s,id:s,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const r=JSON.parse(JSON.stringify(n)),o=JSON.parse(JSON.stringify(n));r.label="",r.arrowTypeEnd="none",o.label="",r.fromCluster=e.v,o.toCluster=e.v,t.setEdge(i,s,r,e.name+"-cyclic-special"),t.setEdge(s,a,o,e.name+"-cyclic-special")}else(jU[e.v]||jU[e.w])&&(v.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),i=XU(e.v),a=XU(e.w),t.removeEdge(e.v,e.w,e.name),i!==e.v&&(n.fromCluster=e.v),a!==e.w&&(n.toCluster=e.w),v.warn("Fix Replacing with XXX",i,a,e.name),t.setEdge(i,a,n,e.name))})),v.warn("Adjusted Graph",Tj.json.write(t)),ZU(t,0),v.trace(jU))})(e),v.warn("Graph after:",Tj.json.write(e)),pW(t,e,r)},yW=t=>OE.sanitizeText(t,OA());function mW(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const bW={setConf:function(t){Object.keys(t).forEach((function(e){t[e]}))},draw:function(t,e,n,r){v.info("Drawing class - ",e);const i=OA().flowchart,a=OA().securityLevel;v.info("config:",i);const s=i.nodeSpacing||50,o=i.rankSpacing||50,c=new Tj.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),u=r.db.getClasses(),l=r.db.getRelations();let h;v.info(l),function(t,e,n,r){const i=Object.keys(t);v.info("keys:",i),v.info(t),i.forEach((function(a){const s=t[a];let n="";s.cssClasses.length>0&&(n=n+" "+s.cssClasses.join(" "));const o={labelStyle:""};let u=void 0!==s.text?s.text:s.id,c="";s.type,c="class_box",e.setNode(s.id,{labelStyle:o.labelStyle,shape:c,labelText:yW(u),classData:s,rx:0,ry:0,class:n,style:o.style,id:s.id,domId:s.domId,tooltip:r.db.getTooltip(s.id)||"",haveCallback:s.haveCallback,link:s.link,width:"group"===s.type?500:void 0,type:s.type,padding:OA().flowchart.padding}),v.info("setNode",{labelStyle:o.labelStyle,shape:c,labelText:u,rx:0,ry:0,class:n,style:o.style,id:s.id,width:"group"===s.type?500:void 0,type:s.type,padding:OA().flowchart.padding})}))}(u,c,0,r),function(t,e){const n=OA().flowchart;let r=0;t.forEach((function(i){r++;const a={classes:"relation"};a.pattern=1==i.relation.lineType?"dashed":"solid",a.id="id"+r,"arrow_open"===i.type?a.arrowhead="none":a.arrowhead="normal",v.info(a,i),a.startLabelRight="none"===i.relationTitle1?"":i.relationTitle1,a.endLabelLeft="none"===i.relationTitle2?"":i.relationTitle2,a.arrowTypeStart=mW(i.relation.type1),a.arrowTypeEnd=mW(i.relation.type2);let s="",o="";if(typeof i.style<"u"){const t=TS(i.style);s=t.style,o=t.labelStyle}else s="fill:none";a.style=s,a.labelStyle=o,typeof i.interpolate<"u"?a.curve=wS(i.interpolate,xx):typeof t.defaultInterpolate<"u"?a.curve=wS(t.defaultInterpolate,xx):a.curve=wS(n.curve,xx),i.text=i.title,typeof i.text>"u"?typeof i.style<"u"&&(a.arrowheadStyle="fill: #333"):(a.arrowheadStyle="fill: #333",a.labelpos="c",OA().flowchart.htmlLabels?(a.labelType="html",a.label='<span class="edgeLabel">'+i.text+"</span>"):(a.labelType="text",a.label=i.text.replace(OE.lineBreakRegex,"\n"),typeof i.style>"u"&&(a.style=a.style||"stroke: #333; stroke-width: 1.5px;fill:none"),a.labelStyle=a.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,a,r)}))}(l,c),"sandbox"===a&&(h=Nn("#i"+e));const f=Nn("sandbox"===a?h.nodes()[0].contentDocument.body:"body"),p=f.select(`[id="${e}"]`),d=f.select("#"+e+" g");if(gW(d,c,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),zA(c,p,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){const t="sandbox"===a?h.nodes()[0].contentDocument:document,n=t.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let b=0;b<n.length;b++){const e=n[b],r=e.getBBox(),o=t.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("rx",0),o.setAttribute("ry",0),o.setAttribute("width",r.width),o.setAttribute("height",r.height),e.insertBefore(o,e.firstChild)}}zM(r.db,p,e)}};var _W=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,31,49],i=[1,17],a=[1,18],s=[1,19],o=[1,20],c=[1,21],u=[1,22],l=[1,25],h=[1,30],f=[1,31],p=[1,32],d=[1,33],y=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],m=[1,45],b=[30,31,46,47],_=[4,6,9,11,23,25,27,29,30,31,49],v=[42,43,44,45],x=[22,37],k=[1,64],w={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:c[h-1].push(c[h]),this.$=c[h-1];break;case 5:case 6:case 20:case 41:case 28:case 29:case 30:this.$=c[h];break;case 12:r.addEntity(c[h-4]),r.addEntity(c[h-2]),r.addRelationship(c[h-4],c[h],c[h-2],c[h-3]);break;case 13:r.addEntity(c[h-3]),r.addAttributes(c[h-3],c[h-1]);break;case 14:r.addEntity(c[h-2]);break;case 15:r.addEntity(c[h]);break;case 16:case 17:this.$=c[h].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 21:case 39:case 40:case 31:this.$=c[h].replace(/"/g,"");break;case 22:this.$=[c[h]];break;case 23:c[h].push(c[h-1]),this.$=c[h];break;case 24:this.$={attributeType:c[h-1],attributeName:c[h]};break;case 25:this.$={attributeType:c[h-2],attributeName:c[h-1],attributeKeyType:c[h]};break;case 26:this.$={attributeType:c[h-2],attributeName:c[h-1],attributeComment:c[h]};break;case 27:this.$={attributeType:c[h-3],attributeName:c[h-2],attributeKeyType:c[h-1],attributeComment:c[h]};break;case 32:this.$={cardA:c[h],relType:c[h-1],cardB:c[h-2]};break;case 33:this.$=r.Cardinality.ZERO_OR_ONE;break;case 34:this.$=r.Cardinality.ZERO_OR_MORE;break;case 35:this.$=r.Cardinality.ONE_OR_MORE;break;case 36:this.$=r.Cardinality.ONLY_ONE;break;case 37:this.$=r.Identification.NON_IDENTIFYING;break;case 38:this.$=r.Identification.IDENTIFYING;break;case 42:r.parseDirective("%%{","open_directive");break;case 43:r.parseDirective(c[h],"type_directive");break;case 44:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 45:r.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:a,27:s,29:o,30:c,31:u,49:n},{1:[2,2]},{14:23,15:[1,24],52:l},t([15,52],[2,43]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:a,27:s,29:o,30:c,31:u,49:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,40:29,20:[1,28],42:h,43:f,44:p,45:d}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(y,[2,20]),t(y,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(r,[2,5]),{17:40,30:c,31:u},{21:41,22:[1,42],32:43,33:44,37:m},{41:46,46:[1,47],47:[1,48]},t(b,[2,33]),t(b,[2,34]),t(b,[2,35]),t(b,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(_,[2,9]),{14:49,52:l},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:m},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:h,43:f,44:p,45:d},t(v,[2,37]),t(v,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(r,[2,13]),{22:[2,23]},t(x,[2,24],{35:61,36:62,38:[1,63],39:k}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(_,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(r,[2,41]),t(x,[2,25],{36:65,39:k}),t(x,[2,26]),t([22,37,39],[2,30]),t(x,[2,31]),t(x,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,_=c.slice.call(arguments,1),v=Object.create(this.lexer),x={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(x.yy[k]=this.yy[k]);v.setInput(t,x.yy),x.yy.lexer=v,x.yy.parser=this,typeof v.yylloc>"u"&&(v.yylloc={});var w=v.yylloc;c.push(w);var E=v.options&&v.options.ranges;function T(){var t;return"number"!=typeof(t=r.pop()||v.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var C,S,q,A,M,N,D,O,L={};;){if(S=n[n.length-1],this.defaultActions[S]?q=this.defaultActions[S]:((null===C||typeof C>"u")&&(C=T()),q=l[S]&&l[S][C]),typeof q>"u"||!q.length||!q[0]){var B="";for(M in O=[],l[S])this.terminals_[M]&&M>y&&O.push("'"+this.terminals_[M]+"'");B=v.showPosition?"Parse error on line "+(f+1)+":\n"+v.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(C==m?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(B,{text:v.match,token:this.terminals_[C]||C,line:v.yylineno,loc:w,expected:O})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+C);switch(q[0]){case 1:n.push(C),o.push(v.yytext),c.push(v.yylloc),n.push(q[1]),C=null,d=v.yyleng,h=v.yytext,f=v.yylineno,w=v.yylloc;break;case 2:if(N=this.productions_[q[1]][1],L.$=o[o.length-N],L._$={first_line:c[c.length-(N||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(N||1)].first_column,last_column:c[c.length-1].last_column},E&&(L._$.range=[c[c.length-(N||1)].range[0],c[c.length-1].range[1]]),typeof(A=this.performAction.apply(L,[h,d,f,x.yy,q[1],o,c].concat(_)))<"u")return A;N&&(n=n.slice(0,-1*N*2),o=o.slice(0,-1*N),c=c.slice(0,-1*N)),n.push(this.productions_[q[1]][0]),o.push(L.$),c.push(L._$),D=l[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},E={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:case 13:case 15:case 21:case 26:break;case 14:return 11;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 22:return 38;case 23:case 24:return 37;case 25:return 39;case 27:return this.popState(),22;case 28:case 41:return e.yytext[0];case 29:case 33:return 42;case 30:case 34:return 43;case 31:case 35:return 44;case 32:return 45;case 36:case 38:case 39:return 46;case 37:return 47;case 40:return 30;case 42:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};function T(){this.yy={}}return w.lexer=E,T.prototype=w,w.Parser=T,new T}();_W.parser=_W;const vW=t=>null!==t.match(/^\s*erDiagram/);let xW={},kW=[];const wW=function(t){return typeof xW[t]>"u"&&(xW[t]={attributes:[]},v.info("Added new entity :",t)),xW[t]},EW={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().er,addEntity:wW,addAttributes:function(t,e){let n,r=wW(t);for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),v.debug("Added attribute ",e[n].attributeName)},getEntities:()=>xW,addRelationship:function(t,e,n,r){let i={entityA:t,roleA:e,entityB:n,relSpec:r};kW.push(i),v.debug("Added new relationship :",i)},getRelationships:()=>kW,clear:function(){xW={},kW=[],yM()},setAccTitle:mM,getAccTitle:bM,setAccDescription:_M,getAccDescription:vM},TW={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},CW=TW,SW=function(t,e){let n;t.append("defs").append("marker").attr("id",TW.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",TW.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",TW.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",TW.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",TW.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",TW.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",TW.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",TW.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")};let AW;const MW=new Uint8Array(16);function NW(){if(!AW&&(AW=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!AW))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return AW(MW)}const DW=[];for(let t=0;t<256;++t)DW.push((t+256).toString(16).slice(1));const OW={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function LW(t,e,n){if(OW.randomUUID&&!e&&!t)return OW.randomUUID();const r=(t=t||{}).random||(t.rng||NW)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return function(t,e=0){return(DW[t[e+0]]+DW[t[e+1]]+DW[t[e+2]]+DW[t[e+3]]+"-"+DW[t[e+4]]+DW[t[e+5]]+"-"+DW[t[e+6]]+DW[t[e+7]]+"-"+DW[t[e+8]]+DW[t[e+9]]+"-"+DW[t[e+10]]+DW[t[e+11]]+DW[t[e+12]]+DW[t[e+13]]+DW[t[e+14]]+DW[t[e+15]]).toLowerCase()}(r)}const BW=/[^A-Za-z0-9]([\W])*/g;let IW={},FW=new Map;const RW=function(t,e,n){let i;return Object.keys(e).forEach((function(a){const s=function(t="",e=""){const n=t.replace(BW,"");return`${zW(e)}${zW(n)}${LW()}`}(a,"entity");FW.set(a,s);const r=t.append("g").attr("id",s);i=void 0===i?s:i;const o="text-"+s,u=r.append("text").attr("class","er entityLabel").attr("id",o).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+OA().fontFamily+"; font-size: "+IW.fontSize+"px").text(a),{width:c,height:l}=((t,e,n)=>{const r=IW.entityPadding/3,i=IW.entityPadding/3,a=.85*IW.fontSize,s=e.node().getBBox(),o=[];let c=!1,u=!1,l=0,h=0,f=0,p=0,d=s.height+2*r,y=1;n.forEach((t=>{void 0!==t.attributeKeyType&&(c=!0),void 0!==t.attributeComment&&(u=!0)})),n.forEach((n=>{const m=`${e.node().id}-attr-${y}`;let _=0;const v=DE(n.attributeType),x=t.append("text").attr("class","er entityLabel").attr("id",`${m}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+OA().fontFamily+"; font-size: "+a+"px").text(v),k=t.append("text").attr("class","er entityLabel").attr("id",`${m}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+OA().fontFamily+"; font-size: "+a+"px").text(n.attributeName),w={};w.tn=x,w.nn=k;const E=x.node().getBBox(),T=k.node().getBBox();if(l=Math.max(l,E.width),h=Math.max(h,T.width),_=Math.max(E.height,T.height),c){const e=t.append("text").attr("class","er entityLabel").attr("id",`${m}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+OA().fontFamily+"; font-size: "+a+"px").text(n.attributeKeyType||"");w.kn=e;const r=e.node().getBBox();f=Math.max(f,r.width),_=Math.max(_,r.height)}if(u){const e=t.append("text").attr("class","er entityLabel").attr("id",`${m}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+OA().fontFamily+"; font-size: "+a+"px").text(n.attributeComment||"");w.cn=e;const r=e.node().getBBox();p=Math.max(p,r.width),_=Math.max(_,r.height)}w.height=_,o.push(w),d+=_+2*r,y+=1}));let m=4;c&&(m+=2),u&&(m+=2);const b=l+h+f+p,_={width:Math.max(IW.minEntityWidth,Math.max(s.width+2*IW.entityPadding,b+i*m)),height:n.length>0?d:Math.max(IW.minEntityHeight,s.height+2*IW.entityPadding)};if(n.length>0){const n=Math.max(0,(_.width-b-i*m)/(m/2));e.attr("transform","translate("+_.width/2+","+(r+s.height/2)+")");let d=s.height+2*r,y="attributeBoxOdd";o.forEach((e=>{const o=d+r+e.height/2;e.tn.attr("transform","translate("+i+","+o+")");const m=t.insert("rect","#"+e.tn.node().id).attr("class",`er ${y}`).attr("fill",IW.fill).attr("fill-opacity","100%").attr("stroke",IW.stroke).attr("x",0).attr("y",d).attr("width",l+2*i+n).attr("height",e.height+2*r),_=parseFloat(m.attr("x"))+parseFloat(m.attr("width"));e.nn.attr("transform","translate("+(_+i)+","+o+")");const v=t.insert("rect","#"+e.nn.node().id).attr("class",`er ${y}`).attr("fill",IW.fill).attr("fill-opacity","100%").attr("stroke",IW.stroke).attr("x",_).attr("y",d).attr("width",h+2*i+n).attr("height",e.height+2*r);let x=parseFloat(v.attr("x"))+parseFloat(v.attr("width"));if(c){e.kn.attr("transform","translate("+(x+i)+","+o+")");const c=t.insert("rect","#"+e.kn.node().id).attr("class",`er ${y}`).attr("fill",IW.fill).attr("fill-opacity","100%").attr("stroke",IW.stroke).attr("x",x).attr("y",d).attr("width",f+2*i+n).attr("height",e.height+2*r);x=parseFloat(c.attr("x"))+parseFloat(c.attr("width"))}u&&(e.cn.attr("transform","translate("+(x+i)+","+o+")"),t.insert("rect","#"+e.cn.node().id).attr("class",`er ${y}`).attr("fill",IW.fill).attr("fill-opacity","100%").attr("stroke",IW.stroke).attr("x",x).attr("y",d).attr("width",p+2*i+n).attr("height",e.height+2*r)),d+=e.height+2*r,y="attributeBoxOdd"===y?"attributeBoxEven":"attributeBoxOdd"}))}else _.height=Math.max(IW.minEntityHeight,d),e.attr("transform","translate("+_.width/2+","+_.height/2+")");return _})(r,u,e[a].attributes),p=r.insert("rect","#"+o).attr("class","er entityBox").attr("fill",IW.fill).attr("fill-opacity","100%").attr("stroke",IW.stroke).attr("x",0).attr("y",0).attr("width",c).attr("height",l).node().getBBox();n.setNode(s,{width:p.width,height:p.height,shape:"rect",id:s})})),i},PW=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")};let $W=0;function zW(t=""){return t.length>0?`${t}-`:""}const YW={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)IW[e[n]]=t[e[n]]},draw:function(t,e,n,r){IW=OA().er,v.info("Drawing ER diagram");const i=OA().securityLevel;let a;"sandbox"===i&&(a=Nn("#i"+e));const o=Nn("sandbox"===i?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);let c;SW(o,IW),c=new Tj.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:IW.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));const u=RW(o,r.db.getEntities(),c),l=function(t,e){return t.forEach((function(t){e.setEdge(FW.get(t.entityA),FW.get(t.entityB),{relationship:t},PW(t))})),t}(r.db.getRelationships(),c);TU.layout(c),function(t,e){e.nodes().forEach((function(n){typeof n<"u"&&typeof e.node(n)<"u"&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")}))}(o,c),l.forEach((function(t){!function(t,e,n,r,i){$W++;const a=n.edge(FW.get(e.entityA),FW.get(e.entityB),PW(e)),s=Ex().x((function(t){return t.x})).y((function(t){return t.y})).curve(vk),o=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",s(a.points)).attr("stroke",IW.stroke).attr("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let c="";switch(IW.arrowMarkerAbsolute&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+c+"#"+CW.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+c+"#"+CW.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+c+"#"+CW.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+c+"#"+CW.ONLY_ONE_END+")")}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+c+"#"+CW.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+c+"#"+CW.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+c+"#"+CW.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+c+"#"+CW.ONLY_ONE_START+")")}const u=o.node().getTotalLength(),l=o.node().getPointAtLength(.5*u),h="rel"+$W,p=t.append("text").attr("class","er relationshipLabel").attr("id",h).attr("x",l.x).attr("y",l.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+OA().fontFamily+"; font-size: "+IW.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+h).attr("class","er relationshipLabelBox").attr("x",l.x-p.width/2).attr("y",l.y-p.height/2).attr("width",p.width).attr("height",p.height).attr("fill","white").attr("fill-opacity","85%")}(o,t,c,u,r)}));const h=IW.diagramPadding,f=o.node().getBBox(),p=f.width+2*h,d=f.height+2*h;$A(o,0,p,IW.useMaxWidth),o.attr("viewBox",`${f.x-h} ${f.y-h} ${p} ${d}`),zM(r.db,o,e)}};var jW=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,9],n=[1,7],r=[1,6],i=[1,8],a=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],s=[2,10],o=[1,20],c=[1,21],u=[1,22],l=[1,23],h=[1,30],f=[1,32],p=[1,33],d=[1,34],y=[1,62],m=[1,48],b=[1,52],_=[1,36],v=[1,37],x=[1,38],k=[1,39],w=[1,40],E=[1,56],T=[1,63],C=[1,51],S=[1,53],A=[1,55],M=[1,59],N=[1,60],D=[1,41],O=[1,42],L=[1,43],B=[1,44],I=[1,61],F=[1,50],R=[1,54],P=[1,57],$=[1,58],z=[1,49],Y=[1,66],j=[1,71],U=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],W=[1,75],H=[1,74],V=[1,76],G=[20,21,23,81,82],q=[1,99],X=[1,104],Z=[1,107],Q=[1,108],K=[1,101],J=[1,106],tt=[1,109],et=[1,102],nt=[1,114],it=[1,113],at=[1,103],ot=[1,105],st=[1,110],ct=[1,111],lt=[1,112],ut=[1,115],ht=[20,21,22,23,81,82],ft=[20,21,22,23,53,81,82],pt=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],gt=[20,21,23],yt=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],mt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],bt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],_t=[1,149],vt=[1,157],xt=[1,158],kt=[1,159],wt=[1,160],Et=[1,144],Tt=[1,145],Ct=[1,141],St=[1,152],At=[1,153],Mt=[1,154],Nt=[1,155],Dt=[1,156],Ot=[1,161],Lt=[1,162],Bt=[1,147],It=[1,150],Ft=[1,146],Rt=[1,143],Pt=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],$t=[1,165],zt=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Yt=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],jt=[12,21,22,24],Ut=[22,106],Wt=[1,250],qt=[1,245],Ht=[1,246],Vt=[1,254],Gt=[1,251],Xt=[1,248],Zt=[1,247],Qt=[1,249],Kt=[1,252],Jt=[1,253],te=[1,255],ee=[1,273],ne=[20,21,23,106],re=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ie={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,e,n,r,o,rt,c){var l=rt.length-1;switch(o){case 5:r.parseDirective("%%{","open_directive");break;case 6:r.parseDirective(rt[l],"type_directive");break;case 7:rt[l]=rt[l].trim().replace(/'/g,'"'),r.parseDirective(rt[l],"arg_directive");break;case 8:r.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:(!Array.isArray(rt[l])||rt[l].length>0)&&rt[l-1].push(rt[l]),this.$=rt[l-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=rt[l];break;case 19:r.setDirection("TB"),this.$="TB";break;case 20:r.setDirection(rt[l-1]),this.$=rt[l-1];break;case 35:this.$=rt[l-1].nodes;break;case 41:this.$=r.addSubGraph(rt[l-6],rt[l-1],rt[l-4]);break;case 42:this.$=r.addSubGraph(rt[l-3],rt[l-1],rt[l-3]);break;case 43:this.$=r.addSubGraph(void 0,rt[l-1],void 0);break;case 45:this.$=rt[l].trim(),r.setAccTitle(this.$);break;case 46:case 47:this.$=rt[l].trim(),r.setAccDescription(this.$);break;case 51:r.addLink(rt[l-2].stmt,rt[l],rt[l-1]),this.$={stmt:rt[l],nodes:rt[l].concat(rt[l-2].nodes)};break;case 52:r.addLink(rt[l-3].stmt,rt[l-1],rt[l-2]),this.$={stmt:rt[l-1],nodes:rt[l-1].concat(rt[l-3].nodes)};break;case 53:this.$={stmt:rt[l-1],nodes:rt[l-1]};break;case 54:this.$={stmt:rt[l],nodes:rt[l]};break;case 55:case 123:case 125:this.$=[rt[l]];break;case 56:this.$=rt[l-4].concat(rt[l]);break;case 57:this.$=[rt[l-2]],r.setClass(rt[l-2],rt[l]);break;case 58:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"square");break;case 59:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"doublecircle");break;case 60:this.$=rt[l-5],r.addVertex(rt[l-5],rt[l-2],"circle");break;case 61:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"ellipse");break;case 62:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"stadium");break;case 63:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"subroutine");break;case 64:this.$=rt[l-7],r.addVertex(rt[l-7],rt[l-1],"rect",void 0,void 0,void 0,Object.fromEntries([[rt[l-5],rt[l-3]]]));break;case 65:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"cylinder");break;case 66:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"round");break;case 67:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"diamond");break;case 68:this.$=rt[l-5],r.addVertex(rt[l-5],rt[l-2],"hexagon");break;case 69:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"odd");break;case 70:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"trapezoid");break;case 71:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"inv_trapezoid");break;case 72:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"lean_right");break;case 73:this.$=rt[l-3],r.addVertex(rt[l-3],rt[l-1],"lean_left");break;case 74:this.$=rt[l],r.addVertex(rt[l]);break;case 75:rt[l-1].text=rt[l],this.$=rt[l-1];break;case 76:case 77:rt[l-2].text=rt[l-1],this.$=rt[l-2];break;case 79:var h=r.destructLink(rt[l],rt[l-2]);this.$={type:h.type,stroke:h.stroke,length:h.length,text:rt[l-1]};break;case 80:h=r.destructLink(rt[l]);this.$={type:h.type,stroke:h.stroke,length:h.length};break;case 81:this.$=rt[l-1];break;case 83:case 97:case 153:case 151:this.$=rt[l-1]+""+rt[l];break;case 98:case 99:this.$=rt[l-4],r.addClass(rt[l-2],rt[l]);break;case 100:this.$=rt[l-4],r.setClass(rt[l-2],rt[l]);break;case 101:case 109:this.$=rt[l-1],r.setClickEvent(rt[l-1],rt[l]);break;case 102:case 110:this.$=rt[l-3],r.setClickEvent(rt[l-3],rt[l-2]),r.setTooltip(rt[l-3],rt[l]);break;case 103:this.$=rt[l-2],r.setClickEvent(rt[l-2],rt[l-1],rt[l]);break;case 104:this.$=rt[l-4],r.setClickEvent(rt[l-4],rt[l-3],rt[l-2]),r.setTooltip(rt[l-4],rt[l]);break;case 105:case 111:this.$=rt[l-1],r.setLink(rt[l-1],rt[l]);break;case 106:case 112:this.$=rt[l-3],r.setLink(rt[l-3],rt[l-2]),r.setTooltip(rt[l-3],rt[l]);break;case 107:case 113:this.$=rt[l-3],r.setLink(rt[l-3],rt[l-2],rt[l]);break;case 108:case 114:this.$=rt[l-5],r.setLink(rt[l-5],rt[l-4],rt[l]),r.setTooltip(rt[l-5],rt[l-2]);break;case 115:this.$=rt[l-4],r.addVertex(rt[l-2],void 0,void 0,rt[l]);break;case 116:case 118:this.$=rt[l-4],r.updateLink(rt[l-2],rt[l]);break;case 117:this.$=rt[l-4],r.updateLink([rt[l-2]],rt[l]);break;case 119:this.$=rt[l-8],r.updateLinkInterpolate([rt[l-6]],rt[l-2]),r.updateLink([rt[l-6]],rt[l]);break;case 120:this.$=rt[l-8],r.updateLinkInterpolate(rt[l-6],rt[l-2]),r.updateLink(rt[l-6],rt[l]);break;case 121:this.$=rt[l-6],r.updateLinkInterpolate([rt[l-4]],rt[l]);break;case 122:this.$=rt[l-6],r.updateLinkInterpolate(rt[l-4],rt[l]);break;case 124:case 126:rt[l-2].push(rt[l]),this.$=rt[l-2];break;case 128:this.$=rt[l-1]+rt[l];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(a,s,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:o,21:c,22:u,23:l,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,44:f,46:p,48:d,50:35,51:45,52:y,54:46,66:m,67:b,86:_,87:v,88:x,89:k,90:w,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,118:D,119:O,120:L,121:B,122:I,123:F,124:R,125:P,126:$,127:z},{8:64,10:[1,65],15:Y},t([10,15],[2,6]),t(a,[2,17]),t(a,[2,18]),t(a,[2,19]),{20:[1,68],21:[1,69],22:j,27:67,30:70},t(U,[2,11]),t(U,[2,12]),t(U,[2,13]),t(U,[2,14]),t(U,[2,15]),t(U,[2,16]),{9:72,20:W,21:H,23:V,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:W,21:H,23:V},{9:81,20:W,21:H,23:V},{9:82,20:W,21:H,23:V},{9:83,20:W,21:H,23:V},{9:84,20:W,21:H,23:V},{9:86,20:W,21:H,22:[1,85],23:V},t(U,[2,44]),{45:[1,87]},{47:[1,88]},t(U,[2,47]),t(G,[2,54],{30:89,22:j}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:q,52:X,66:Z,67:Q,84:[1,97],91:K,97:96,98:[1,94],100:[1,95],105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(U,[2,158]),t(U,[2,159]),t(U,[2,160]),t(U,[2,161]),t(ht,[2,55],{53:[1,116]}),t(ft,[2,74],{116:129,40:[1,117],52:y,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:m,67:b,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:E,95:T,105:C,106:S,109:A,111:M,112:N,122:I,123:F,124:R,125:P,126:$,127:z}),t(pt,[2,150]),t(pt,[2,175]),t(pt,[2,176]),t(pt,[2,177]),t(pt,[2,178]),t(pt,[2,179]),t(pt,[2,180]),t(pt,[2,181]),t(pt,[2,182]),t(pt,[2,183]),t(pt,[2,184]),t(pt,[2,185]),t(pt,[2,186]),t(pt,[2,187]),t(pt,[2,188]),t(pt,[2,189]),t(pt,[2,190]),{9:130,20:W,21:H,23:V},{11:131,14:[1,132]},t(gt,[2,8]),t(a,[2,20]),t(a,[2,26]),t(a,[2,27]),{21:[1,133]},t(yt,[2,34],{30:134,22:j}),t(U,[2,35]),{50:135,51:45,52:y,54:46,66:m,67:b,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,122:I,123:F,124:R,125:P,126:$,127:z},t(mt,[2,48]),t(mt,[2,49]),t(mt,[2,50]),t(bt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:_t,24:vt,26:xt,38:kt,39:139,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(U,[2,36]),t(U,[2,37]),t(U,[2,38]),t(U,[2,39]),t(U,[2,40]),{22:_t,24:vt,26:xt,38:kt,39:163,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(Pt,s,{17:164}),t(U,[2,45]),t(U,[2,46]),t(G,[2,53],{52:$t}),{26:q,52:X,66:Z,67:Q,91:K,97:166,102:[1,167],105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{95:[1,168],103:169,105:[1,170]},{26:q,52:X,66:Z,67:Q,91:K,95:[1,171],97:172,105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{26:q,52:X,66:Z,67:Q,91:K,97:173,105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(gt,[2,101],{22:[1,174],99:[1,175]}),t(gt,[2,105],{22:[1,176]}),t(gt,[2,109],{115:100,117:178,22:[1,177],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,122:at,123:ot,124:st,125:ct,126:lt,127:ut}),t(gt,[2,111],{22:[1,179]}),t(zt,[2,152]),t(zt,[2,154]),t(zt,[2,155]),t(zt,[2,156]),t(zt,[2,157]),t(Yt,[2,162]),t(Yt,[2,163]),t(Yt,[2,164]),t(Yt,[2,165]),t(Yt,[2,166]),t(Yt,[2,167]),t(Yt,[2,168]),t(Yt,[2,169]),t(Yt,[2,170]),t(Yt,[2,171]),t(Yt,[2,172]),t(Yt,[2,173]),t(Yt,[2,174]),{52:y,54:180,66:m,67:b,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,122:I,123:F,124:R,125:P,126:$,127:z},{22:_t,24:vt,26:xt,38:kt,39:181,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:182,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:184,42:wt,52:X,57:[1,183],66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:185,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:186,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:187,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{66:[1,188]},{22:_t,24:vt,26:xt,38:kt,39:189,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:190,42:wt,52:X,66:Z,67:Q,71:[1,191],73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:192,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:193,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:194,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(pt,[2,151]),t(jt,[2,3]),{8:195,15:Y},{15:[2,7]},t(a,[2,28]),t(yt,[2,33]),t(G,[2,51],{30:196,22:j}),t(bt,[2,75],{22:[1,197]}),{22:[1,198]},{22:_t,24:vt,26:xt,38:kt,39:199,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,82:[1,200],83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(Yt,[2,82]),t(Yt,[2,84]),t(Yt,[2,140]),t(Yt,[2,141]),t(Yt,[2,142]),t(Yt,[2,143]),t(Yt,[2,144]),t(Yt,[2,145]),t(Yt,[2,146]),t(Yt,[2,147]),t(Yt,[2,148]),t(Yt,[2,149]),t(Yt,[2,85]),t(Yt,[2,86]),t(Yt,[2,87]),t(Yt,[2,88]),t(Yt,[2,89]),t(Yt,[2,90]),t(Yt,[2,91]),t(Yt,[2,92]),t(Yt,[2,93]),t(Yt,[2,94]),t(Yt,[2,95]),{9:203,20:W,21:H,22:_t,23:V,24:vt,26:xt,38:kt,40:[1,202],42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{18:18,19:19,20:o,21:c,22:u,23:l,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,204],43:31,44:f,46:p,48:d,50:35,51:45,52:y,54:46,66:m,67:b,86:_,87:v,88:x,89:k,90:w,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,118:D,119:O,120:L,121:B,122:I,123:F,124:R,125:P,126:$,127:z},{22:j,30:205},{22:[1,206],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,115:100,117:178,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(Ut,[2,123]),{22:[1,211]},{22:[1,212],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,115:100,117:178,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:[1,213],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,115:100,117:178,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{84:[1,214]},t(gt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(zt,[2,153]),{84:[1,219],101:[1,220]},t(ht,[2,57],{116:129,52:y,66:m,67:b,91:E,95:T,105:C,106:S,109:A,111:M,112:N,122:I,123:F,124:R,125:P,126:$,127:z}),{22:_t,24:vt,26:xt,38:kt,41:[1,221],42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,56:[1,222],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:223,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,58:[1,224],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,60:[1,225],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,62:[1,226],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,64:[1,227],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{67:[1,228]},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,70:[1,229],73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,72:[1,230],73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,39:231,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,41:[1,232],42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,73:Et,75:[1,233],77:[1,234],81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,73:Et,75:[1,236],77:[1,235],81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{9:237,20:W,21:H,23:V},t(G,[2,52],{52:$t}),t(bt,[2,77]),t(bt,[2,76]),{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,68:[1,238],73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(bt,[2,79]),t(Yt,[2,83]),{22:_t,24:vt,26:xt,38:kt,39:239,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(Pt,s,{17:240}),t(U,[2,43]),{51:241,52:y,54:46,66:m,67:b,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,122:I,123:F,124:R,125:P,126:$,127:z},{22:Wt,66:qt,67:Ht,86:Vt,96:242,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{22:Wt,66:qt,67:Ht,86:Vt,96:256,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{22:Wt,66:qt,67:Ht,86:Vt,96:257,102:Gt,104:[1,258],105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{22:Wt,66:qt,67:Ht,86:Vt,96:259,102:Gt,104:[1,260],105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{105:[1,261]},{22:Wt,66:qt,67:Ht,86:Vt,96:262,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{22:Wt,66:qt,67:Ht,86:Vt,96:263,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{26:q,52:X,66:Z,67:Q,91:K,97:264,105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(gt,[2,102]),{84:[1,265]},t(gt,[2,106],{22:[1,266]}),t(gt,[2,107]),t(gt,[2,110]),t(gt,[2,112],{22:[1,267]}),t(gt,[2,113]),t(ft,[2,58]),t(ft,[2,59]),{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,58:[1,268],66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(ft,[2,66]),t(ft,[2,61]),t(ft,[2,62]),t(ft,[2,63]),{66:[1,269]},t(ft,[2,65]),t(ft,[2,67]),{22:_t,24:vt,26:xt,38:kt,42:wt,52:X,66:Z,67:Q,72:[1,270],73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(ft,[2,69]),t(ft,[2,70]),t(ft,[2,72]),t(ft,[2,71]),t(ft,[2,73]),t(jt,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:_t,24:vt,26:xt,38:kt,41:[1,271],42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{18:18,19:19,20:o,21:c,22:u,23:l,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,272],43:31,44:f,46:p,48:d,50:35,51:45,52:y,54:46,66:m,67:b,86:_,87:v,88:x,89:k,90:w,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,118:D,119:O,120:L,121:B,122:I,123:F,124:R,125:P,126:$,127:z},t(ht,[2,56]),t(gt,[2,115],{106:ee}),t(ne,[2,125],{108:274,22:Wt,66:qt,67:Ht,86:Vt,102:Gt,105:Xt,109:Zt,110:Qt,111:Kt,112:Jt,113:te}),t(re,[2,127]),t(re,[2,129]),t(re,[2,130]),t(re,[2,131]),t(re,[2,132]),t(re,[2,133]),t(re,[2,134]),t(re,[2,135]),t(re,[2,136]),t(re,[2,137]),t(re,[2,138]),t(re,[2,139]),t(gt,[2,116],{106:ee}),t(gt,[2,117],{106:ee}),{22:[1,275]},t(gt,[2,118],{106:ee}),{22:[1,276]},t(Ut,[2,124]),t(gt,[2,98],{106:ee}),t(gt,[2,99],{106:ee}),t(gt,[2,100],{115:100,117:178,26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,122:at,123:ot,124:st,125:ct,126:lt,127:ut}),t(gt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:W,21:H,23:V},t(U,[2,42]),{22:Wt,66:qt,67:Ht,86:Vt,102:Gt,105:Xt,107:283,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},t(re,[2,128]),{26:q,52:X,66:Z,67:Q,91:K,97:284,105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{26:q,52:X,66:Z,67:Q,91:K,97:285,105:J,106:tt,109:et,111:nt,112:it,115:100,117:98,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(gt,[2,108]),t(gt,[2,114]),t(ft,[2,60]),{22:_t,24:vt,26:xt,38:kt,39:286,42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:140,84:Ct,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},t(ft,[2,68]),t(Pt,s,{17:287}),t(ne,[2,126],{108:274,22:Wt,66:qt,67:Ht,86:Vt,102:Gt,105:Xt,109:Zt,110:Qt,111:Kt,112:Jt,113:te}),t(gt,[2,121],{115:100,117:178,22:[1,288],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,122:at,123:ot,124:st,125:ct,126:lt,127:ut}),t(gt,[2,122],{115:100,117:178,22:[1,289],26:q,52:X,66:Z,67:Q,91:K,105:J,106:tt,109:et,111:nt,112:it,122:at,123:ot,124:st,125:ct,126:lt,127:ut}),{22:_t,24:vt,26:xt,38:kt,41:[1,290],42:wt,52:X,66:Z,67:Q,73:Et,81:Tt,83:201,85:151,86:St,87:At,88:Mt,89:Nt,90:Dt,91:Ot,92:Lt,94:142,95:Bt,105:J,106:tt,109:It,111:nt,112:it,113:Ft,114:Rt,115:148,122:at,123:ot,124:st,125:ct,126:lt,127:ut},{18:18,19:19,20:o,21:c,22:u,23:l,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,291],43:31,44:f,46:p,48:d,50:35,51:45,52:y,54:46,66:m,67:b,86:_,87:v,88:x,89:k,90:w,91:E,95:T,105:C,106:S,109:A,111:M,112:N,116:47,118:D,119:O,120:L,121:B,122:I,123:F,124:R,125:P,126:$,127:z},{22:Wt,66:qt,67:Ht,86:Vt,96:292,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},{22:Wt,66:qt,67:Ht,86:Vt,96:293,102:Gt,105:Xt,107:243,108:244,109:Zt,110:Qt,111:Kt,112:Jt,113:te},t(ft,[2,64]),t(U,[2,41]),t(gt,[2,119],{106:ee}),t(gt,[2,120],{106:ee})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],rt=[],c=this.table,l="",h=0,f=0,d=2,y=1,m=rt.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;rt.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=r.pop()||_.lex()||y)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=n[n.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=c[C]&&c[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],c[C])this.terminals_[M]&&M>d&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(T==y?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:n.push(T),o.push(_.yytext),rt.push(_.yylloc),n.push(S[1]),T=null,f=_.yyleng,l=_.yytext,h=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=o[o.length-N],L._$={first_line:rt[rt.length-(N||1)].first_line,last_line:rt[rt.length-1].last_line,first_column:rt[rt.length-(N||1)].first_column,last_column:rt[rt.length-1].last_column},w&&(L._$.range=[rt[rt.length-(N||1)].range[0],rt[rt.length-1].range[1]]),typeof(A=this.performAction.apply(L,[l,f,h,v.yy,S[1],o,rt].concat(m)))<"u")return A;N&&(n=n.slice(0,-1*N*2),o=o.slice(0,-1*N),rt=rt.slice(0,-1*N)),n.push(this.productions_[S[1]][0]),o.push(L.$),rt.push(L._$),D=c[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},ae={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var rt in o)this[rt]=o[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),rt=0;rt<o.length;rt++)if((n=this._input.match(this.rules[o[rt]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=rt,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[rt])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:case 40:case 41:case 42:return 101;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:case 67:case 68:case 69:return 82;case 70:case 71:case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};function oe(){this.yy={}}return ie.lexer=ae,oe.prototype=ie,ie.Parser=oe,new oe}();jW.parser=jW;const UW=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*graph/)},WW=(t,e)=>{var n;return"dagre-wrapper"===(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*graph/)||null!==t.match(/^\s*flowchart/)};let qW,HW,VW=0,GW=OA(),XW={},ZW=[],QW=[],KW=[],JW={},tq={},eq=0,nq=!0,rq=[];const iq=t=>OE.sanitizeText(t,GW),aq=function(t){const e=Object.keys(XW);for(let n=0;n<e.length;n++)if(XW[e[n]].id===t)return XW[e[n]].domId;return t},oq=function(t,e,n,r){const s={start:t,end:e,type:void 0,text:""};typeof(r=n.text)<"u"&&(s.text=iq(r.trim()),'"'===s.text[0]&&'"'===s.text[s.text.length-1]&&(s.text=s.text.substring(1,s.text.length-1))),typeof n<"u"&&(s.type=n.type,s.stroke=n.stroke,s.length=n.length),ZW.push(s)},sq=function(t,e){t.split(",").forEach((function(t){let n=t;typeof XW[n]<"u"&&XW[n].classes.push(e),typeof JW[n]<"u"&&JW[n].classes.push(e)}))},cq=function(t){let e=Nn(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=Nn("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Nn(t).select("svg").selectAll("g.node").on("mouseover",(function(){const i=Nn(this);if(null===i.attr("title"))return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),Nn(this).classed("hover",!1)}))};rq.push(cq);const lq=function(t){for(let e=0;e<KW.length;e++)if(KW[e].id===t)return e;return-1};let uq=-1;const hq=[],fq=function(t,e){const n=KW[e].nodes;if(uq+=1,uq>2e3)return;if(hq[uq]=e,KW[e].id===t)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){const a=lq(n[r]);if(a>=0){const s=fq(t,a);if(s.result)return{result:!0,count:i+s.count};i+=s.count}r+=1}return{result:!1,count:i}},dq=(t,e)=>{let n=!1;return t.forEach((t=>{t.nodes.indexOf(e)>=0&&(n=!0)})),n},pq=(t,e)=>{const n=[];return t.nodes.forEach(((r,i)=>{dq(e,r)||n.push(t.nodes[i])})),{nodes:n}},gq={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},defaultConfig:()=>EA.flowchart,setAccTitle:mM,getAccTitle:bM,getAccDescription:vM,setAccDescription:_M,addVertex:function(t,e,n,r,i,a,s={}){let o,c=t;typeof c>"u"||0!==c.trim().length&&(typeof XW[c]>"u"&&(XW[c]={id:c,domId:"flowchart-"+c+"-"+VW,styles:[],classes:[]}),VW++,typeof e<"u"?(GW=OA(),o=iq(e.trim()),'"'===o[0]&&'"'===o[o.length-1]&&(o=o.substring(1,o.length-1)),XW[c].text=o):typeof XW[c].text>"u"&&(XW[c].text=t),typeof n<"u"&&(XW[c].type=n),typeof r<"u"&&null!==r&&r.forEach((function(u){XW[c].styles.push(u)})),typeof i<"u"&&null!==i&&i.forEach((function(u){XW[c].classes.push(u)})),typeof a<"u"&&(XW[c].dir=a),XW[c].props=s)},lookUpDomId:aq,addLink:function(t,e,n,r){let i,a;for(i=0;i<t.length;i++)for(a=0;a<e.length;a++)oq(t[i],e[a],n,r)},updateLinkInterpolate:function(t,e){t.forEach((function(t){"default"===t?ZW.defaultInterpolate=e:ZW[t].interpolate=e}))},updateLink:function(t,e){t.forEach((function(t){"default"===t?ZW.defaultStyle=e:(-1===$S.isSubstringInArray("fill",e)&&e.push("fill:none"),ZW[t].style=e)}))},addClass:function(t,e){typeof QW[t]>"u"&&(QW[t]={id:t,styles:[],textStyles:[]}),typeof e<"u"&&null!==e&&e.forEach((function(e){if(e.match("color")){const i=e.replace("fill","bgFill").replace("color","fill");QW[t].textStyles.push(i)}QW[t].styles.push(e)}))},setDirection:function(t){qW=t,qW.match(/.*</)&&(qW="RL"),qW.match(/.*\^/)&&(qW="BT"),qW.match(/.*>/)&&(qW="LR"),qW.match(/.*v/)&&(qW="TB")},setClass:sq,setTooltip:function(t,e){t.split(",").forEach((function(t){typeof e<"u"&&(tq["gen-1"===HW?aq(t):t]=iq(e))}))},getTooltip:function(t){return tq[t]},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){let r=aq(t);if("loose"!==OA().securityLevel||typeof e>"u")return;let i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<i.length;a++){let s=i[a].trim();'"'===s.charAt(0)&&'"'===s.charAt(s.length-1)&&(s=s.substr(1,s.length-2)),i[a]=s}}0===i.length&&i.push(t),typeof XW[t]<"u"&&(XW[t].haveCallback=!0,rq.push((function(){const a=document.querySelector(`[id="${r}"]`);null!==a&&a.addEventListener("click",(function(){$S.runFunc(e,...i)}),!1)})))}(t,e,n)})),sq(t,"clickable")},setLink:function(t,e,n){t.split(",").forEach((function(t){typeof XW[t]<"u"&&(XW[t].link=$S.formatUrl(e,GW),XW[t].linkTarget=n)})),sq(t,"clickable")},bindFunctions:function(t){rq.forEach((function(e){e(t)}))},getDirection:function(){return qW.trim()},getVertices:function(){return XW},getEdges:function(){return ZW},getClasses:function(){return QW},clear:function(t="gen-1"){XW={},QW={},ZW=[],rq=[cq],KW=[],JW={},eq=0,tq=[],nq=!0,HW=t,yM()},setGen:t=>{HW=t||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(t,e,n){let r=t.trim(),i=n.trim();r===i&&i.match(/\s/)&&(r=void 0);let s=[];const{nodeList:o,dir:c}=function(t){const e={boolean:{},number:{},string:{}},n=[];let p;return{nodeList:t.filter((function(t){const r=typeof t;return t.stmt&&"dir"===t.stmt?(p=t.value,!1):""!==t.trim()&&(r in e?!e[r].hasOwnProperty(t)&&(e[r][t]=!0):!(n.indexOf(t)>=0)&&n.push(t))})),dir:p}}(s.concat.apply(s,e));if(s=o,"gen-1"===HW)for(let t=0;t<s.length;t++)s[t]=aq(s[t]);r=r||"subGraph"+eq,i=i||"",i=iq(i),eq+=1;const u={id:r,nodes:s,title:i.trim(),classes:[],dir:c};return v.info("Adding",u.id,u.nodes,u.dir),u.nodes=pq(u,KW).nodes,KW.push(u),JW[r]=u,r},getDepthFirstPos:function(t){return hq[t]},indexNodes:function(){uq=-1,KW.length>0&&fq("none",KW.length-1)},getSubGraphs:function(){return KW},destructLink:(t,e)=>{const n=(t=>{const e=t.trim();let n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross","x"===e[0]&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point","<"===e[0]&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle","o"===e[0]&&(r="double_"+r,n=n.slice(1))}let i="normal",a=n.length-1;"="===n[0]&&(i="thick"),"~"===n[0]&&(i="invisible");let s=((t,e)=>{const n=e.length;let r=0;for(let i=0;i<n;++i)e[i]===t&&++r;return r})(".",n);return s&&(i="dotted",a=s),{type:r,stroke:i,length:a}})(t);let r;if(e){if(r=(t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1)}let r="normal";return-1!==e.indexOf("=")&&(r="thick"),-1!==e.indexOf(".")&&(r="dotted"),{type:n,stroke:r}})(e),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===r.type)r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return"double_arrow"===r.type&&(r.type="double_arrow_point"),r.length=n.length,r}return n},lex:{firstGraph:()=>!!nq&&(nq=!1,!0)},exists:dq,makeUniq:pq};var yq;try{yq=Tj}catch{}yq||(yq=window.graphlib);var mq;try{mq=EU()}catch{}mq||(mq=window.dagre);var bq=mq;var _q;try{_q={defaults:Mj(),each:ZR(),isFunction:WT,isPlainObject:Yj(),pick:Zj(),has:kP(),range:Kj(),uniqueId:nU()}}catch{}_q||(_q=window._);var vq=_q;const xq=h(Cw);var kq;if(!kq)try{kq=xq}catch{}kq||(kq=window.d3);var wq=kq,Eq=vq,Tq={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return Sq(t.v)+":"+Sq(t.w)+":"+Sq(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(Eq.isPlainObject(n)){var r=n.transition;if(Eq.isFunction(r))return r(t)}return t}};var Cq=/:/g;function Sq(t){return t?String(t).replace(Cq,"\\:"):""}var Aq=Tq,Mq=function(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert((function(){return i}));break;default:r.html(i)}Aq.applyStyle(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var a=r.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n};var Nq=wq;bq.layout;Nq.curveLinear;const Dq={},Oq=function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)Dq[e[n]]=t[e[n]]},Lq=function(t,e){v.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},Bq={},Iq=function(t,e,n,r,i,a){const s=r.select(`[id="${n}"]`);Object.keys(t).forEach((function(n){const u=t[n];let r="default";u.classes.length>0&&(r=u.classes.join(" "));const o=TS(u.styles);let p,c=void 0!==u.text?u.text:u.id;if(NE(OA().flowchart.htmlLabels)){const t={label:c.replace(/fa[lrsb]?:fa-[\w-]+/g,(b=>`<i class='${b.replace(":"," ")}'></i>`))};p=Mq(s,t).node(),p.parentNode.removeChild(p)}else{const t=i.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",o.labelStyle.replace("color:","fill:"));const b=c.split(OE.lineBreakRegex);for(let e=0;e<b.length;e++){const n=i.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","1"),n.textContent=b[e],t.appendChild(n)}p=t}let l=0,h="";switch(u.type){case"round":l=5,h="rect";break;case"square":case"group":default:h="rect";break;case"diamond":h="question";break;case"hexagon":h="hexagon";break;case"odd":case"odd_right":h="rect_left_inv_arrow";break;case"lean_right":h="lean_right";break;case"lean_left":h="lean_left";break;case"trapezoid":h="trapezoid";break;case"inv_trapezoid":h="inv_trapezoid";break;case"circle":h="circle";break;case"ellipse":h="ellipse";break;case"stadium":h="stadium";break;case"subroutine":h="subroutine";break;case"cylinder":h="cylinder";break;case"doublecircle":h="doublecircle"}e.setNode(u.id,{labelStyle:o.labelStyle,shape:h,labelText:c,rx:l,ry:l,class:r,style:o.style,id:u.id,link:u.link,linkTarget:u.linkTarget,tooltip:a.db.getTooltip(u.id)||"",domId:a.db.lookUpDomId(u.id),haveCallback:u.haveCallback,width:"group"===u.type?500:void 0,dir:u.dir,type:u.type,props:u.props,padding:OA().flowchart.padding}),v.info("setNode",{labelStyle:o.labelStyle,shape:h,labelText:c,rx:l,ry:l,class:r,style:o.style,id:u.id,domId:a.db.lookUpDomId(u.id),width:"group"===u.type?500:void 0,type:u.type,dir:u.dir,props:u.props,padding:OA().flowchart.padding})}))},Fq=function(t,e,n){v.info("abc78 edges = ",t);let a,s,r=0,i={};if(typeof t.defaultStyle<"u"){const e=TS(t.defaultStyle);a=e.style,s=e.labelStyle}t.forEach((function(n){r++;var o="L-"+n.start+"-"+n.end;typeof i[o]>"u"?(i[o]=0,v.info("abc78 new entry",o,i[o])):(i[o]++,v.info("abc78 new entry",o,i[o]));let u=o+"-"+i[o];v.info("abc78 new link id to be used is",o,u,i[o]);var c="LS-"+n.start,l="LE-"+n.end;const h={style:"",labelStyle:""};switch(h.minlen=n.length||1,"arrow_open"===n.type?h.arrowhead="none":h.arrowhead="normal",h.arrowTypeStart="arrow_open",h.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":h.arrowTypeStart="arrow_cross";case"arrow_cross":h.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":h.arrowTypeStart="arrow_point";case"arrow_point":h.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":h.arrowTypeStart="arrow_circle";case"arrow_circle":h.arrowTypeEnd="arrow_circle"}let p="",f="";switch(n.stroke){case"normal":p="fill:none;",typeof a<"u"&&(p=a),typeof s<"u"&&(f=s),h.thickness="normal",h.pattern="solid";break;case"dotted":h.thickness="normal",h.pattern="dotted",h.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":h.thickness="thick",h.pattern="solid",h.style="stroke-width: 3.5px;fill:none;";break;case"invisible":h.thickness="invisible",h.pattern="solid",h.style="stroke-width: 0;fill:none;"}if(typeof n.style<"u"){const t=TS(n.style);p=t.style,f=t.labelStyle}h.style=h.style+=p,h.labelStyle=h.labelStyle+=f,typeof n.interpolate<"u"?h.curve=wS(n.interpolate,xx):typeof t.defaultInterpolate<"u"?h.curve=wS(t.defaultInterpolate,xx):h.curve=wS(Bq.curve,xx),typeof n.text>"u"?typeof n.style<"u"&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c"),h.labelType="text",h.label=n.text.replace(OE.lineBreakRegex,"\n"),typeof n.style>"u"&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),h.labelStyle=h.labelStyle.replace("color:","fill:"),h.id=u,h.classes="flowchart-link "+c+" "+l,e.setEdge(n.start,n.end,h,r)}))},Rq={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)Bq[e[n]]=t[e[n]]},addVertices:Iq,addEdges:Fq,getClasses:function(t,e){v.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},draw:function(t,e,n,r){v.info("Drawing flowchart"),r.db.clear(),gq.setGen("gen-2"),r.parser.parse(t);let i=r.db.getDirection();typeof i>"u"&&(i="TD");const{securityLevel:a,flowchart:s}=OA(),o=s.nodeSpacing||50,c=s.rankSpacing||50;let u;"sandbox"===a&&(u=Nn("#i"+e));const l=Nn("sandbox"===a?u.nodes()[0].contentDocument.body:"body"),h="sandbox"===a?u.nodes()[0].contentDocument:document,f=new Tj.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:o,ranksep:c,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let p;const d=r.db.getSubGraphs();v.info("Subgraphs - ",d);for(let t=d.length-1;t>=0;t--)p=d[t],v.info("Subgraph - ",p),r.db.addVertex(p.id,p.title,"group",void 0,p.classes,p.dir);const y=r.db.getVertices(),m=r.db.getEdges();v.info(m);let b=0;for(b=d.length-1;b>=0;b--){p=d[b],Fn("cluster").append("text");for(let t=0;t<p.nodes.length;t++)v.info("Setting up subgraphs",p.nodes[t],p.id),f.setParent(p.nodes[t],p.id)}Iq(y,f,e,l,h,r),Fq(m,f);const _=l.select(`[id="${e}"]`);zM(r.db,_,e);const x=l.select("#"+e+" g");if(gW(x,f,["point","circle","cross"],"flowchart",e),zA(f,_,s.diagramPadding,s.useMaxWidth),r.db.indexNodes("subGraph"+b),!s.htmlLabels){const t=h.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let e=0;e<t.length;e++){const n=t[e],r=n.getBBox(),o=h.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("rx",0),o.setAttribute("ry",0),o.setAttribute("width",r.width),o.setAttribute("height",r.height),n.insertBefore(o,n.firstChild)}}Object.keys(y).forEach((function(t){const n=y[t];if(n.link){const r=Nn("#"+e+' [id="'+t+'"]');if(r){const t=h.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===a?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=r.insert((function(){return t}),":first-child"),o=r.select(".label-container");o&&e.append((function(){return o.node()}));const c=r.select(".label");c&&e.append((function(){return c.node()}))}}}))}};var Pq=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],a=[1,16],s=[1,17],o=[1,18],c=[1,19],u=[1,20],l=[1,21],h=[1,22],f=[1,23],p=[1,24],d=[1,25],y=[1,26],m=[1,28],b=[1,30],_=[1,33],v=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],x={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 2:return c[h-1];case 3:case 7:case 8:this.$=[];break;case 4:c[h-1].push(c[h]),this.$=c[h-1];break;case 5:case 6:this.$=c[h];break;case 9:r.setDateFormat(c[h].substr(11)),this.$=c[h].substr(11);break;case 10:r.enableInclusiveEndDates(),this.$=c[h].substr(18);break;case 11:r.TopAxis(),this.$=c[h].substr(8);break;case 12:r.setAxisFormat(c[h].substr(11)),this.$=c[h].substr(11);break;case 13:r.setExcludes(c[h].substr(9)),this.$=c[h].substr(9);break;case 14:r.setIncludes(c[h].substr(9)),this.$=c[h].substr(9);break;case 15:r.setTodayMarker(c[h].substr(12)),this.$=c[h].substr(12);break;case 16:r.setDiagramTitle(c[h].substr(6)),this.$=c[h].substr(6);break;case 17:this.$=c[h].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(c[h].substr(8)),this.$=c[h].substr(8);break;case 22:r.addTask(c[h-1],c[h]),this.$="task";break;case 26:this.$=c[h-1],r.setClickEvent(c[h-1],c[h],null);break;case 27:this.$=c[h-2],r.setClickEvent(c[h-2],c[h-1],c[h]);break;case 28:this.$=c[h-2],r.setClickEvent(c[h-2],c[h-1],null),r.setLink(c[h-2],c[h]);break;case 29:this.$=c[h-3],r.setClickEvent(c[h-3],c[h-2],c[h-1]),r.setLink(c[h-3],c[h]);break;case 30:this.$=c[h-2],r.setClickEvent(c[h-2],c[h],null),r.setLink(c[h-2],c[h-1]);break;case 31:this.$=c[h-3],r.setClickEvent(c[h-3],c[h-1],c[h]),r.setLink(c[h-3],c[h-2]);break;case 32:this.$=c[h-1],r.setLink(c[h-1],c[h]);break;case 33:case 39:this.$=c[h-1]+" "+c[h];break;case 34:case 35:case 37:this.$=c[h-2]+" "+c[h-1]+" "+c[h];break;case 36:case 38:this.$=c[h-3]+" "+c[h-2]+" "+c[h-1]+" "+c[h];break;case 40:r.parseDirective("%%{","open_directive");break;case 41:r.parseDirective(c[h],"type_directive");break;case 42:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 43:r.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,29:4,39:n},{1:[3]},{3:6,4:2,5:e,29:4,39:n},t(r,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:a,14:s,15:o,16:c,17:u,18:l,19:h,20:f,22:p,24:d,25:y,26:27,27:m,29:4,34:b,39:n},{31:31,32:[1,32],42:_},t([32,42],[2,41]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:29,10:34,12:i,13:a,14:s,15:o,16:c,17:u,18:l,19:h,20:f,22:p,24:d,25:y,26:27,27:m,29:4,34:b,39:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),{21:[1,35]},{23:[1,36]},t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),{28:[1,37]},t(r,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},t(r,[2,5]),t(r,[2,17]),t(r,[2,18]),t(r,[2,22]),t(r,[2,26],{36:[1,43],37:[1,44]}),t(r,[2,32],{35:[1,45]}),t(v,[2,24]),{31:46,42:_},{42:[2,42]},t(r,[2,27],{37:[1,47]}),t(r,[2,28]),t(r,[2,30],{36:[1,48]}),{11:[1,49]},t(r,[2,29]),t(r,[2,31]),t(v,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,_=c.slice.call(arguments,1),v=Object.create(this.lexer),x={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(x.yy[k]=this.yy[k]);v.setInput(t,x.yy),x.yy.lexer=v,x.yy.parser=this,typeof v.yylloc>"u"&&(v.yylloc={});var w=v.yylloc;c.push(w);var E=v.options&&v.options.ranges;function T(){var t;return"number"!=typeof(t=r.pop()||v.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var C,S,A,M,N,D,O,L,q={};;){if(S=n[n.length-1],this.defaultActions[S]?A=this.defaultActions[S]:((null===C||typeof C>"u")&&(C=T()),A=l[S]&&l[S][C]),typeof A>"u"||!A.length||!A[0]){var B="";for(N in L=[],l[S])this.terminals_[N]&&N>y&&L.push("'"+this.terminals_[N]+"'");B=v.showPosition?"Parse error on line "+(f+1)+":\n"+v.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(C==m?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(B,{text:v.match,token:this.terminals_[C]||C,line:v.yylineno,loc:w,expected:L})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+C);switch(A[0]){case 1:n.push(C),o.push(v.yytext),c.push(v.yylloc),n.push(A[1]),C=null,d=v.yyleng,h=v.yytext,f=v.yylineno,w=v.yylloc;break;case 2:if(D=this.productions_[A[1]][1],q.$=o[o.length-D],q._$={first_line:c[c.length-(D||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(D||1)].first_column,last_column:c[c.length-1].last_column},E&&(q._$.range=[c[c.length-(D||1)].range[0],c[c.length-1].range[1]]),typeof(M=this.performAction.apply(q,[h,d,f,x.yy,A[1],o,c].concat(_)))<"u")return M;D&&(n=n.slice(0,-1*D*2),o=o.slice(0,-1*D),c=c.slice(0,-1*D)),n.push(this.productions_[A[1]][0]),o.push(q.$),c.push(q._$),O=l[n[n.length-2]][n[n.length-1]],n.push(O);break;case 3:return!0}}return!0}},k={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 37;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 27:return 36;case 28:this.begin("click");break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};function w(){this.yy={}}return x.lexer=k,w.prototype=x,x.Parser=w,new w}();Pq.parser=Pq;const $q=t=>null!==t.match(/^\s*gantt/);let zq="",Yq="",jq="",Uq=[],Wq=[],qq={},Hq=[],Vq=[],Gq="";const Xq=["active","done","crit","milestone"];let Zq=[],Qq=!1,Kq=!1,Jq=0;const tH=function(t,e,n,r){return!(r.indexOf(t.format(e.trim()))>=0)&&(t.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(t.format("dddd").toLowerCase())>=0||n.indexOf(t.format(e.trim()))>=0)},eH=function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i=m(t.startTime,e,!0);i.add(1,"d");let a=m(t.endTime,e,!0),s=nH(i,a,e,n,r);t.endTime=a.toDate(),t.renderEndTime=s},nH=function(t,e,n,r,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=tH(t,n,r,i),a&&e.add(1,"d"),t.add(1,"d");return s},rH=function(t,e,n){n=n.trim();const i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==i){let s=null;if(i[1].split(" ").forEach((function(t){let e=fH(t);typeof e<"u"&&(s?e.endTime>s.endTime&&(s=e):s=e)})),s)return s.endTime;{const t=new Date;return t.setHours(0,0,0,0),t}}let a=m(n,e.trim(),!0);if(a.isValid())return a.toDate();{v.debug("Invalid date:"+n),v.debug("With date format:"+e.trim());const s=new Date(n);if(typeof s>"u"||isNaN(s.getTime()))throw new Error("Invalid date:"+n);return s}},iH=function(t){const e=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(t.trim());return null!==e?m.duration(Number.parseFloat(e[1]),e[2]):m.duration.invalid()},aH=function(t,e,n,r){r=r||!1,n=n.trim();let i=m(n,e.trim(),!0);if(i.isValid())return r&&i.add(1,"d"),i.toDate();const a=m(t),s=iH(n);return s.isValid()&&a.add(s),a.toDate()};let oH=0;const sH=function(t){return typeof t>"u"?(oH+=1,"task"+oH):t};let cH,lH,uH=[];const hH={},fH=function(t){const e=hH[t];return uH[e]},dH=function(){const t=function(t){const e=uH[t];let i="";switch(uH[t].raw.startTime.type){case"prevTaskEnd":{const a=fH(e.prevTaskId);e.startTime=a.endTime;break}case"getStartDate":i=rH(0,zq,uH[t].raw.startTime.startData),i&&(uH[t].startTime=i)}return uH[t].startTime&&(uH[t].endTime=aH(uH[t].startTime,zq,uH[t].raw.endTime.data,Qq),uH[t].endTime&&(uH[t].processed=!0,uH[t].manualEndTime=m(uH[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),eH(uH[t],zq,Wq,Uq))),uH[t].processed};let e=!0;for(let n=0;n<uH.length;n++)t(n),e=e&&uH[n].processed;return e},pH=function(t,e){t.split(",").forEach((function(t){let n=fH(t);typeof n<"u"&&n.classes.push(e)}))},gH=function(t,e){Zq.push((function(){const n=document.querySelector(`[id="${t}"]`);null!==n&&n.addEventListener("click",(function(){e()}))})),Zq.push((function(){const n=document.querySelector(`[id="${t}-text"]`);null!==n&&n.addEventListener("click",(function(){e()}))}))},yH={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().gantt,clear:function(){Hq=[],Vq=[],Gq="",Zq=[],oH=0,cH=void 0,lH=void 0,uH=[],zq="",Yq="",jq="",Uq=[],Wq=[],Qq=!1,Kq=!1,Jq=0,qq={},yM()},setDateFormat:function(t){zq=t},getDateFormat:function(){return zq},enableInclusiveEndDates:function(){Qq=!0},endDatesAreInclusive:function(){return Qq},enableTopAxis:function(){Kq=!0},topAxisEnabled:function(){return Kq},setAxisFormat:function(t){Yq=t},getAxisFormat:function(){return Yq},setTodayMarker:function(t){jq=t},getTodayMarker:function(){return jq},setAccTitle:mM,getAccTitle:bM,setDiagramTitle:xM,getDiagramTitle:kM,setAccDescription:_M,getAccDescription:vM,addSection:function(t){Gq=t,Hq.push(t)},getSections:function(){return Hq},getTasks:function(){let t=dH();let e=0;for(;!t&&e<10;)t=dH(),e++;return Vq=uH,Vq},addTask:function(t,e){const n={section:Gq,type:Gq,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};mH(r,i,Xq);for(let a=0;a<r.length;a++)r[a]=r[a].trim();switch(r.length){case 1:i.id=sH(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=sH(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=sH(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]}}return i}(lH,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=lH,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=Jq,Jq++;const i=uH.push(n);lH=n.id,hH[n.id]=i-1},findTaskById:fH,addTaskOrg:function(t,e){const n={section:Gq,type:Gq,description:t,task:t,classes:[]},r=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};mH(r,i,Xq);for(let s=0;s<r.length;s++)r[s]=r[s].trim();let a="";switch(r.length){case 1:i.id=sH(),i.startTime=t.endTime,a=r[0];break;case 2:i.id=sH(),i.startTime=rH(0,zq,r[0]),a=r[1];break;case 3:i.id=sH(r[0]),i.startTime=rH(0,zq,r[1]),a=r[2]}return a&&(i.endTime=aH(i.startTime,zq,a,Qq),i.manualEndTime=m(a,"YYYY-MM-DD",!0).isValid(),eH(i,zq,Wq,Uq)),i}(cH,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,cH=n,Vq.push(n)},setIncludes:function(t){Uq=t.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return Uq},setExcludes:function(t){Wq=t.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return Wq},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){if("loose"!==OA().securityLevel||typeof e>"u")return;let r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<r.length;a++){let s=r[a].trim();'"'===s.charAt(0)&&'"'===s.charAt(s.length-1)&&(s=s.substr(1,s.length-2)),r[a]=s}}0===r.length&&r.push(t),typeof fH(t)<"u"&&gH(t,(()=>{$S.runFunc(e,...r)}))}(t,e,n)})),pH(t,"clickable")},setLink:function(t,e){let n=e;"loose"!==OA().securityLevel&&(n=E(e)),t.split(",").forEach((function(t){typeof fH(t)<"u"&&(gH(t,(()=>{window.open(n,"_self")})),qq[t]=n)})),pH(t,"clickable")},getLinks:function(){return qq},bindFunctions:function(t){Zq.forEach((function(e){e(t)}))},parseDuration:iH,isInvalidDate:tH};function mH(t,e,n){let r=!0;for(;r;)r=!1,n.forEach((function(i){const s=new RegExp("^\\s*"+i+"\\s*$");t[0].match(s)&&(e[i]=!0,t.shift(1),r=!0)}))}let bH;const _H={setConf:function(){v.debug("Something is calling, setConf, remove the call")},draw:function(t,e,n,r){const i=OA().gantt,a=OA().securityLevel;let s;"sandbox"===a&&(s=Nn("#i"+e));const o=Nn("sandbox"===a?s.nodes()[0].contentDocument.body:"body"),c="sandbox"===a?s.nodes()[0].contentDocument:document,u=c.getElementById(e);bH=u.parentElement.offsetWidth,typeof bH>"u"&&(bH=1200),typeof i.useWidth<"u"&&(bH=i.useWidth);const l=r.db.getTasks(),h=l.length*(i.barHeight+i.barGap)+2*i.topPadding;u.setAttribute("viewBox","0 0 "+bH+" "+h);const f=o.select(`[id="${e}"]`),p=v_().domain([Bt(l,(function(t){return t.startTime})),Ot(l,(function(t){return t.endTime}))]).rangeRound([0,bH-i.leftPadding-i.rightPadding]);let d=[];for(let t=0;t<l.length;t++)d.push(l[t].type);const y=d;function _(t,e){return function(t){let e=t.length;const n={};for(;e;)n[t[--e]]=(n[t[e]]||0)+1;return n}(e)[t]||0}d=function(t){const e={},n=[];for(let r=0,o=t.length;r<o;++r)Object.prototype.hasOwnProperty.call(e,t[r])||(e[t[r]]=!0,n.push(t[r]));return n}(d),l.sort((function(t,e){const n=t.startTime,r=e.startTime;let o=0;return n>r?o=1:n<r&&(o=-1),o})),function(t,n,o){const l=i.barHeight,h=l+i.barGap,v=i.topPadding,x=i.leftPadding;Hg().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(Hi);(function(t,e,n,o,c,l,h,d){const y=l.reduce(((t,{startTime:e})=>t?Math.min(t,e):e),0),_=l.reduce(((t,{endTime:e})=>t?Math.max(t,e):e),0),v=r.db.getDateFormat();if(!y||!_)return;const x=[];let k=null,w=m(y);for(;w.valueOf()<=_;)r.db.isInvalidDate(w,v,h,d)?k?k.end=w.clone():k={start:w.clone(),end:w.clone()}:k&&(x.push(k),k=null),w.add(1,"d");f.append("g").selectAll("rect").data(x).enter().append("rect").attr("id",(function(t){return"exclude-"+t.start.format("YYYY-MM-DD")})).attr("x",(function(t){return p(t.start)+n})).attr("y",i.gridLineStartPadding).attr("width",(function(t){const e=t.end.clone().add(1,"day");return p(e)-p(t.start)})).attr("height",c-e-i.gridLineStartPadding).attr("transform-origin",(function(e,r){return(p(e.start)+n+.5*(p(e.end)-p(e.start))).toString()+"px "+(r*t+.5*c).toString()+"px"})).attr("class","exclude-range")})(h,v,x,0,o,t,r.db.getExcludes(),r.db.getIncludes()),function(t,e,n,o){let c=ce(p).tickSize(-o+e+i.gridLineStartPadding).tickFormat(Wm(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(f.append("g").attr("class","grid").attr("transform","translate("+t+", "+(o-50)+")").call(c).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let n=se(p).tickSize(-o+e+i.gridLineStartPadding).tickFormat(Wm(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));f.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(x,v,0,o),function(t,n,o,c,l,h,y){f.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",(function(t,e){return t.order*n+o-2})).attr("width",(function(){return y-i.rightPadding/2})).attr("height",n).attr("class",(function(t){for(let e=0;e<d.length;e++)if(t.type===d[e])return"section section"+e%i.numberSectionStyles;return"section section0"}));const m=f.append("g").selectAll("rect").data(t).enter(),_=r.db.getLinks();if(m.append("rect").attr("id",(function(t){return t.id})).attr("rx",3).attr("ry",3).attr("x",(function(t){return t.milestone?p(t.startTime)+c+.5*(p(t.endTime)-p(t.startTime))-.5*l:p(t.startTime)+c})).attr("y",(function(t,e){return t.order*n+o})).attr("width",(function(t){return t.milestone?l:p(t.renderEndTime||t.endTime)-p(t.startTime)})).attr("height",l).attr("transform-origin",(function(t,e){return e=t.order,(p(t.startTime)+c+.5*(p(t.endTime)-p(t.startTime))).toString()+"px "+(e*n+o+.5*l).toString()+"px"})).attr("class",(function(t){const e="task";let n="";t.classes.length>0&&(n=t.classes.join(" "));let r=0;for(let e=0;e<d.length;e++)t.type===d[e]&&(r=e%i.numberSectionStyles);let o="";return t.active?t.crit?o+=" activeCrit":o=" active":t.done?o=t.crit?" doneCrit":" done":t.crit&&(o+=" crit"),0===o.length&&(o=" task"),t.milestone&&(o=" milestone "+o),o+=r,o+=" "+n,e+o})),m.append("text").attr("id",(function(t){return t.id+"-text"})).text((function(t){return t.task})).attr("font-size",i.fontSize).attr("x",(function(t){let e=p(t.startTime),n=p(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(p(t.endTime)-p(t.startTime))-.5*l),t.milestone&&(n=e+l);const r=this.getBBox().width;return r>n-e?n+r+1.5*i.leftPadding>y?e+c-5:n+c+5:(n-e)/2+e+c})).attr("y",(function(t,e){return t.order*n+i.barHeight/2+(i.fontSize/2-2)+o})).attr("text-height",l).attr("class",(function(t){const e=p(t.startTime);let n=p(t.endTime);t.milestone&&(n=e+l);const r=this.getBBox().width;let o="";t.classes.length>0&&(o=t.classes.join(" "));let c=0;for(let e=0;e<d.length;e++)t.type===d[e]&&(c=e%i.numberSectionStyles);let h="";return t.active&&(h=t.crit?"activeCritText"+c:"activeText"+c),t.done?h=t.crit?h+" doneCritText"+c:h+" doneText"+c:t.crit&&(h=h+" critText"+c),t.milestone&&(h+=" milestoneText"),r>n-e?n+r+1.5*i.leftPadding>y?o+" taskTextOutsideLeft taskTextOutside"+c+" "+h:o+" taskTextOutsideRight taskTextOutside"+c+" "+h+" width-"+r:o+" taskText taskText"+c+" "+h+" width-"+r})),"sandbox"===OA().securityLevel){let t;t=Nn("#i"+e);const n=t.nodes()[0].contentDocument;m.filter((function(t){return typeof _[t.id]<"u"})).each((function(t){var e=n.querySelector("#"+t.id),r=n.querySelector("#"+t.id+"-text");const o=e.parentNode;var c=n.createElement("a");c.setAttribute("xlink:href",_[t.id]),c.setAttribute("target","_top"),o.appendChild(c),c.appendChild(e),c.appendChild(r)}))}}(t,h,v,x,l,0,n),function(t,e){const n=[];let r=0;for(let t=0;t<d.length;t++)n[t]=[d[t],_(d[t],y)];f.append("g").selectAll("text").data(n).enter().append((function(t){const e=t[0].split(OE.lineBreakRegex),n=-(e.length-1)/2,r=c.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("dy",n+"em");for(let t=0;t<e.length;t++){const n=c.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttribute("alignment-baseline","central"),n.setAttribute("x","10"),t>0&&n.setAttribute("dy","1em"),n.textContent=e[t],r.appendChild(n)}return r})).attr("x",10).attr("y",(function(o,c){if(!(c>0))return o[1]*t/2+e;for(let l=0;l<c;l++)return r+=n[c-1][1],o[1]*t/2+r*t+e})).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",(function(t){for(let e=0;e<d.length;e++)if(t[0]===d[e])return"sectionTitle sectionTitle"+e%i.numberSectionStyles;return"sectionTitle"}))}(h,v),function(t,e,n,o){const c=r.db.getTodayMarker();if("off"===c)return;const l=f.append("g").attr("class","today"),h=new Date,d=l.append("line");d.attr("x1",p(h)+t).attr("x2",p(h)+t).attr("y1",i.titleTopMargin).attr("y2",o-i.titleTopMargin).attr("class","today"),""!==c&&d.attr("style",c.replace(/,/g,";"))}(x,0,0,o)}(l,bH,h),$A(f,0,bH,i.useMaxWidth),f.append("text").text(r.db.getDiagramTitle()).attr("x",bH/2).attr("y",i.titleTopMargin).attr("class","titleText"),zM(r.db,f,e)}};var vH=function(){var t=function(a,s,t,e){for(t=t||{},e=a.length;e--;t[a[e]]=s);return t},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(s,t,e,u,n,r,o){switch(r.length,n){case 1:return u;case 4:break;case 6:u.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(s,t){if(!t.recoverable){var e=new Error(s);throw e.hash=t,e}this.trace(s)},parse:function(s){var t=this,e=[0],u=[],n=[null],r=[],o=this.table,p="",c=0,l=0,h=2,b=1,f=r.slice.call(arguments,1),d=Object.create(this.lexer),y={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(y.yy[m]=this.yy[m]);d.setInput(s,y.yy),y.yy.lexer=d,y.yy.parser=this,typeof d.yylloc>"u"&&(d.yylloc={});var _=d.yylloc;r.push(_);var v=d.options&&d.options.ranges;function x(){var e;return"number"!=typeof(e=u.pop()||d.lex()||b)&&(e instanceof Array&&(e=(u=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var k,w,E,T,C,S,A,M,N={};;){if(w=e[e.length-1],this.defaultActions[w]?E=this.defaultActions[w]:((null===k||typeof k>"u")&&(k=x()),E=o[w]&&o[w][k]),typeof E>"u"||!E.length||!E[0]){var D="";for(C in M=[],o[w])this.terminals_[C]&&C>h&&M.push("'"+this.terminals_[C]+"'");D=d.showPosition?"Parse error on line "+(c+1)+":\n"+d.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[k]||k)+"'":"Parse error on line "+(c+1)+": Unexpected "+(k==b?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(D,{text:d.match,token:this.terminals_[k]||k,line:d.yylineno,loc:_,expected:M})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+k);switch(E[0]){case 1:e.push(k),n.push(d.yytext),r.push(d.yylloc),e.push(E[1]),k=null,l=d.yyleng,p=d.yytext,c=d.yylineno,_=d.yylloc;break;case 2:if(S=this.productions_[E[1]][1],N.$=n[n.length-S],N._$={first_line:r[r.length-(S||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(S||1)].first_column,last_column:r[r.length-1].last_column},v&&(N._$.range=[r[r.length-(S||1)].range[0],r[r.length-1].range[1]]),typeof(T=this.performAction.apply(N,[p,l,c,y.yy,E[1],n,r].concat(f)))<"u")return T;S&&(e=e.slice(0,-1*S*2),n=n.slice(0,-1*S),r=r.slice(0,-1*S)),e.push(this.productions_[E[1]][0]),n.push(N.$),r.push(N._$),A=o[e[e.length-2]][e[e.length-1]],e.push(A);break;case 3:return!0}}return!0}},r={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(s,t){return this.yy=t||this.yy||{},this._input=s,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var s=this._input[0];return this.yytext+=s,this.yyleng++,this.offset++,this.match+=s,this.matched+=s,s.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),s},unput:function(s){var t=s.length,e=s.split(/(?:\r\n?|\n)/g);this._input=s+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===u.length?this.yylloc.first_column:0)+u[u.length-e.length].length-e[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(s){this.unput(this.match.slice(s))},pastInput:function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var s=this.pastInput(),t=new Array(s.length+1).join("-");return s+this.upcomingInput()+"\n"+t+"^"},test_match:function(s,t){var e,u,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(u=s[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=u.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.matches=s,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],e=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var s,t,e,u;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if((e=this._input.match(this.rules[n[r]]))&&(!t||e[0].length>t[0].length)){if(t=e,u=r,this.options.backtrack_lexer){if(!1!==(s=this.test_match(e,n[r])))return s;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(s=this.test_match(t,n[u]))&&s:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,u,n){switch(u){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function i(){this.yy={}}return n.lexer=r,i.prototype=n,n.Parser=i,new i}();vH.parser=vH;var xH="",kH=!1;const wH={setMessage:t=>{v.debug("Setting message to: "+t),xH=t},getMessage:()=>xH,setInfo:t=>{kH=t},getInfo:()=>kH,clear:yM},EH={draw:(t,e,n,r)=>{try{v.debug("Rendering info diagram\n"+t);const i=OA().securityLevel;let a;"sandbox"===i&&(a=Nn("#i"+e));const r=Nn("sandbox"===i?a.nodes()[0].contentDocument.body:"body").select("#"+e);r.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),r.attr("height",100),r.attr("width",400)}catch(t){v.error("Error while rendering info diagram"),v.error(t.message)}}},TH=t=>null!==t.match(/^\s*info/);var CH=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,5],r=[1,6],i=[1,7],a=[1,9],s=[1,11,13,15,17,19,20,26,27,28,29],o=[2,5],c=[1,6,11,13,15,17,19,20,26,27,28,29],u=[26,27,28],l=[2,8],h=[1,18],f=[1,19],p=[1,20],d=[1,21],y=[1,22],m=[1,23],b=[1,28],_=[6,26,27,28,29],v={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 4:r.setShowData(!0);break;case 7:this.$=c[h-1];break;case 9:r.addSection(c[h-1],r.cleanupValue(c[h]));break;case 10:this.$=c[h].trim(),r.setDiagramTitle(this.$);break;case 11:this.$=c[h].trim(),r.setAccTitle(this.$);break;case 12:case 13:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 14:r.addSection(c[h].substr(8)),this.$=c[h].substr(8);break;case 21:r.parseDirective("%%{","open_directive");break;case 22:r.parseDirective(c[h],"type_directive");break;case 23:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 24:r.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},t(s,o,{7:12,8:[1,13]}),t(c,[2,18]),t(c,[2,19]),t(c,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(u,l,{21:8,9:16,10:17,5:24,1:[2,3],11:h,13:f,15:p,17:d,19:y,20:m,29:a}),t(s,o,{7:25}),{23:26,24:[1,27],32:b},t([24,32],[2,22]),t(s,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(u,[2,13]),t(u,[2,14]),t(u,[2,15]),t(u,l,{21:8,9:16,10:17,5:24,1:[2,4],11:h,13:f,15:p,17:d,19:y,20:m,29:a}),t(_,[2,16]),{25:34,31:[1,35]},t(_,[2,24]),t(s,[2,7]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),{23:36,32:b},{32:[2,23]},t(_,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,_=c.slice.call(arguments,1),v=Object.create(this.lexer),x={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(x.yy[k]=this.yy[k]);v.setInput(t,x.yy),x.yy.lexer=v,x.yy.parser=this,typeof v.yylloc>"u"&&(v.yylloc={});var w=v.yylloc;c.push(w);var E=v.options&&v.options.ranges;function T(){var t;return"number"!=typeof(t=r.pop()||v.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var C,S,A,M,q,N,D,O,L={};;){if(S=n[n.length-1],this.defaultActions[S]?A=this.defaultActions[S]:((null===C||typeof C>"u")&&(C=T()),A=l[S]&&l[S][C]),typeof A>"u"||!A.length||!A[0]){var B="";for(q in O=[],l[S])this.terminals_[q]&&q>y&&O.push("'"+this.terminals_[q]+"'");B=v.showPosition?"Parse error on line "+(f+1)+":\n"+v.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(C==m?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(B,{text:v.match,token:this.terminals_[C]||C,line:v.yylineno,loc:w,expected:O})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+C);switch(A[0]){case 1:n.push(C),o.push(v.yytext),c.push(v.yylloc),n.push(A[1]),C=null,d=v.yyleng,h=v.yytext,f=v.yylineno,w=v.yylloc;break;case 2:if(N=this.productions_[A[1]][1],L.$=o[o.length-N],L._$={first_line:c[c.length-(N||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(N||1)].first_column,last_column:c[c.length-1].last_column},E&&(L._$.range=[c[c.length-(N||1)].range[0],c[c.length-1].range[1]]),typeof(M=this.performAction.apply(L,[h,d,f,x.yy,A[1],o,c].concat(_)))<"u")return M;N&&(n=n.slice(0,-1*N*2),o=o.slice(0,-1*N),c=c.slice(0,-1*N)),n.push(this.productions_[A[1]][0]),o.push(L.$),c.push(L._$),D=l[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function k(){this.yy={}}return v.lexer=x,k.prototype=v,v.Parser=k,new k}();CH.parser=CH;const SH=t=>null!==t.match(/^\s*pie/);let AH={},MH=!1;const NH={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().pie,addSection:function(t,e){t=OE.sanitizeText(t,OA()),typeof AH[t]>"u"&&(AH[t]=e,v.debug("Added new section :",t))},getSections:()=>AH,cleanupValue:function(t){return":"===t.substring(0,1)&&(t=t.substring(1).trim()),Number(t.trim())},clear:function(){AH={},MH=!1,yM()},setAccTitle:mM,getAccTitle:bM,setDiagramTitle:xM,getDiagramTitle:kM,setShowData:function(t){MH=t},getShowData:function(){return MH},getAccDescription:vM,setAccDescription:_M};let DH,OH=OA();const LH=450,BH={draw:(t,e,n,r)=>{try{OH=OA(),v.debug("Rendering info diagram\n"+t);const b=OA().securityLevel;let n;"sandbox"===b&&(n=Nn("#i"+e));const _=Nn("sandbox"===b?n.nodes()[0].contentDocument.body:"body"),x="sandbox"===b?n.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),v.debug("Parsed info diagram");const k=x.getElementById(e);DH=k.parentElement.offsetWidth,typeof DH>"u"&&(DH=1200),typeof OH.useWidth<"u"&&(DH=OH.useWidth),typeof OH.pie.useWidth<"u"&&(DH=OH.pie.useWidth);const w=_.select("#"+e);$A(w,0,DH,OH.pie.useMaxWidth),zM(r.db,w,e),k.setAttribute("viewBox","0 0 "+DH+" "+LH);var a=18,o=Math.min(DH,LH)/2-40,c=w.append("g").attr("transform","translate("+DH/2+",225)"),u=r.db.getSections(),l=0;Object.keys(u).forEach((function(t){l+=u[t]}));const E=OH.themeVariables;var h=[E.pie1,E.pie2,E.pie3,E.pie4,E.pie5,E.pie6,E.pie7,E.pie8,E.pie9,E.pie10,E.pie11,E.pie12],f=Og().range(h),d=Ax().value((function(t){return t[1]}))(Object.entries(u)),y=mx().innerRadius(0).outerRadius(o);c.selectAll("mySlices").data(d).enter().append("path").attr("d",y).attr("fill",(function(t){return f(t.data[0])})).attr("class","pieCircle"),c.selectAll("mySlices").data(d).enter().append("text").text((function(t){return(t.data[1]/l*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+y.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),c.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var m=c.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(216,"+(22*e-22*f.domain().length/2)+")"}));m.append("rect").attr("width",a).attr("height",a).style("fill",f).style("stroke",f),m.data(d).append("text").attr("x",22).attr("y",14).text((function(t){return r.db.getShowData()||OH.showData||OH.pie.showData?t.data[0]+" ["+t.data[1]+"]":t.data[0]}))}catch(t){v.error("Error while rendering info diagram"),v.error(t)}}};var IH=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[1,6],i=[1,7],a=[1,8],s=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],o=[1,22],c=[2,13],u=[1,26],l=[1,27],h=[1,28],f=[1,29],p=[1,30],d=[1,31],y=[1,24],m=[1,32],b=[1,33],_=[1,36],v=[71,72],x=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],k=[1,56],w=[1,57],E=[1,58],T=[1,59],C=[1,60],S=[1,61],A=[1,62],M=[62,63],N=[1,74],D=[1,70],O=[1,71],L=[1,72],B=[1,73],I=[1,75],F=[1,79],R=[1,80],P=[1,77],$=[1,78],z=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Y={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,n,q,r,o,c){var l=o.length-1;switch(r){case 6:this.$=o[l].trim(),q.setAccTitle(this.$);break;case 7:case 8:this.$=o[l].trim(),q.setAccDescription(this.$);break;case 9:q.parseDirective("%%{","open_directive");break;case 10:q.parseDirective(o[l],"type_directive");break;case 11:o[l]=o[l].trim().replace(/'/g,'"'),q.parseDirective(o[l],"arg_directive");break;case 12:q.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:q.addRequirement(o[l-3],o[l-4]);break;case 20:q.setNewReqId(o[l-2]);break;case 21:q.setNewReqText(o[l-2]);break;case 22:q.setNewReqRisk(o[l-2]);break;case 23:q.setNewReqVerifyMethod(o[l-2]);break;case 26:this.$=q.RequirementType.REQUIREMENT;break;case 27:this.$=q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=q.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=q.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=q.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=q.RiskLevel.LOW_RISK;break;case 33:this.$=q.RiskLevel.MED_RISK;break;case 34:this.$=q.RiskLevel.HIGH_RISK;break;case 35:this.$=q.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=q.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=q.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=q.VerifyType.VERIFY_TEST;break;case 39:q.addElement(o[l-3]);break;case 40:q.setNewElementType(o[l-2]);break;case 41:q.setNewElementDocRef(o[l-2]);break;case 44:q.addRelationship(o[l-2],o[l],o[l-4]);break;case 45:q.addRelationship(o[l-2],o[l-4],o[l]);break;case 46:this.$=q.Relationships.CONTAINS;break;case 47:this.$=q.Relationships.COPIES;break;case 48:this.$=q.Relationships.DERIVES;break;case 49:this.$=q.Relationships.SATISFIES;break;case 50:this.$=q.Relationships.VERIFIES;break;case 51:this.$=q.Relationships.REFINES;break;case 52:this.$=q.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:a},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:a},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(s,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:a},{1:[2,2]},{4:21,5:o,7:17,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{11:34,12:[1,35],22:_},t([12,22],[2,10]),t(s,[2,6]),t(s,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:o,7:38,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{4:21,5:o,7:39,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{4:21,5:o,7:40,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{4:21,5:o,7:41,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{4:21,5:o,7:42,8:c,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:l,42:h,43:f,44:p,45:d,53:y,71:m,72:b},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(v,[2,26]),t(v,[2,27]),t(v,[2,28]),t(v,[2,29]),t(v,[2,30]),t(v,[2,31]),t(x,[2,55]),t(x,[2,56]),t(s,[2,4]),{13:51,21:[1,52]},t(s,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:k,65:w,66:E,67:T,68:C,69:S,70:A},{61:63,64:k,65:w,66:E,67:T,68:C,69:S,70:A},{11:64,22:_},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(M,[2,46]),t(M,[2,47]),t(M,[2,48]),t(M,[2,49]),t(M,[2,50]),t(M,[2,51]),t(M,[2,52]),{63:[1,68]},t(s,[2,5]),{5:N,29:69,30:D,33:O,35:L,37:B,39:I},{5:F,39:R,55:76,56:P,58:$},{32:81,71:m,72:b},{32:82,71:m,72:b},t(z,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:N,29:87,30:D,33:O,35:L,37:B,39:I},t(z,[2,25]),t(z,[2,39]),{31:[1,88]},{31:[1,89]},{5:F,39:R,55:90,56:P,58:$},t(z,[2,43]),t(z,[2,44]),t(z,[2,45]),{32:91,71:m,72:b},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(z,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(z,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:N,29:116,30:D,33:O,35:L,37:B,39:I},{5:N,29:117,30:D,33:O,35:L,37:B,39:I},{5:N,29:118,30:D,33:O,35:L,37:B,39:I},{5:N,29:119,30:D,33:O,35:L,37:B,39:I},{5:F,39:R,55:120,56:P,58:$},{5:F,39:R,55:121,56:P,58:$},t(z,[2,20]),t(z,[2,21]),t(z,[2,22]),t(z,[2,23]),t(z,[2,40]),t(z,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],q=[],r=[null],o=[],c=this.table,l="",h=0,f=0,d=2,y=1,m=o.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;o.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=q.pop()||_.lex()||y)&&(t instanceof Array&&(t=(q=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=n[n.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=c[C]&&c[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],c[C])this.terminals_[M]&&M>d&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(T==y?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:n.push(T),r.push(_.yytext),o.push(_.yylloc),n.push(S[1]),T=null,f=_.yyleng,l=_.yytext,h=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=r[r.length-N],L._$={first_line:o[o.length-(N||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(N||1)].first_column,last_column:o[o.length-1].last_column},w&&(L._$.range=[o[o.length-(N||1)].range[0],o[o.length-1].range[1]]),typeof(A=this.performAction.apply(L,[l,f,h,v.yy,S[1],r,o].concat(m)))<"u")return A;N&&(n=n.slice(0,-1*N*2),r=r.slice(0,-1*N),o=o.slice(0,-1*N)),n.push(this.productions_[S[1]][0]),r.push(L.$),o.push(L._$),D=c[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===q.length?this.yylloc.first_column:0)+q[q.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,q,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(q=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,q;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,q=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[q]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,q,n){switch(q){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function U(){this.yy={}}return Y.lexer=j,U.prototype=Y,Y.Parser=U,new U}();IH.parser=IH;const FH=t=>null!==t.match(/^\s*requirement(Diagram)?/);let RH=[],PH={},$H={},zH={},YH={};const jH={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().req,addRequirement:(t,e)=>(typeof $H[t]>"u"&&($H[t]={name:t,type:e,id:PH.id,text:PH.text,risk:PH.risk,verifyMethod:PH.verifyMethod}),PH={},$H[t]),getRequirements:()=>$H,setNewReqId:t=>{typeof PH<"u"&&(PH.id=t)},setNewReqText:t=>{typeof PH<"u"&&(PH.text=t)},setNewReqRisk:t=>{typeof PH<"u"&&(PH.risk=t)},setNewReqVerifyMethod:t=>{typeof PH<"u"&&(PH.verifyMethod=t)},setAccTitle:mM,getAccTitle:bM,setAccDescription:_M,getAccDescription:vM,addElement:t=>(typeof YH[t]>"u"&&(YH[t]={name:t,type:zH.type,docRef:zH.docRef},v.info("Added new requirement: ",t)),zH={},YH[t]),getElements:()=>YH,setNewElementType:t=>{typeof zH<"u"&&(zH.type=t)},setNewElementDocRef:t=>{typeof zH<"u"&&(zH.docRef=t)},addRelationship:(t,e,n)=>{RH.push({type:t,src:e,dst:n})},getRelationships:()=>RH,clear:()=>{RH=[],PH={},$H={},zH={},YH={},yM()}},UH={CONTAINS:"contains",ARROW:"arrow"},WH=UH,qH=(t,e)=>{let n=t.append("defs").append("marker").attr("id",UH.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",UH.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${e.line_height},${e.line_height/2}\n      M${e.line_height},${e.line_height/2}\n      L0,${e.line_height}`).attr("stroke-width",1)};let HH={},VH=0;const GH=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",HH.rect_min_width+"px").attr("height",HH.rect_min_height+"px"),XH=(t,e,n)=>{let r=HH.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",HH.rect_padding).attr("dominant-baseline","hanging"),a=0;n.forEach((u=>{0==a?i.append("tspan").attr("text-anchor","middle").attr("x",HH.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",HH.rect_min_width/2).attr("dy",.75*HH.line_height).text(u),a++}));let o=1.5*HH.rect_padding+a*HH.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",HH.rect_min_width).attr("y1",o).attr("y2",o),{titleNode:i,y:o}},ZH=(t,e,n,r)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",HH.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),a=0;let o=[];return n.forEach((t=>{let u=t.length;for(;u>30&&a<3;){let e=t.substring(0,30);u=(t=t.substring(30,t.length)).length,o[o.length]=e,a++}if(3==a){let t=o[o.length-1];o[o.length-1]=t.substring(0,t.length-4)+"..."}else o[o.length]=t;a=0})),o.forEach((t=>{i.append("tspan").attr("x",HH.rect_padding).attr("dy",HH.line_height).text(t)})),i},QH=function(t,e,n,r,i){const a=n.edge(KH(e.src),KH(e.dst)),s=Ex().x((function(t){return t.x})).y((function(t){return t.y})),o=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+OE.getUrl(HH.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+OE.getUrl(HH.arrowMarkerAbsolute)+"#"+WH.ARROW+"_line_ending)")),((t,e,n,r)=>{const i=e.node().getTotalLength(),a=e.node().getPointAtLength(.5*i),s="rel"+VH;VH++;const o=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-o.width/2).attr("y",a.y-o.height/2).attr("width",o.width).attr("height",o.height).attr("fill","white").attr("fill-opacity","85%")})(t,o,0,`<<${e.type}>>`)},KH=t=>t.replace(/\s/g,"").replace(/\./g,"_"),JH={draw:(t,e,n,r)=>{HH=OA().requirement,r.db.clear(),r.parser.parse(t);const i=HH.securityLevel;let a;"sandbox"===i&&(a=Nn("#i"+e));const o=Nn("sandbox"===i?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);qH(o,HH);const c=new Tj.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:HH.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));let u=r.db.getRequirements(),l=r.db.getElements(),h=r.db.getRelationships();((t,e,n)=>{Object.keys(t).forEach((r=>{let i=t[r];r=KH(r),v.info("Added new requirement: ",r);const a=n.append("g").attr("id",r),o=GH(a,"req-"+r);let c=XH(a,r+"_title",[`<<${i.type}>>`,`${i.name}`]);ZH(a,r+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],c.y);const u=o.node().getBBox();e.setNode(r,{width:u.width,height:u.height,shape:"rect",id:r})}))})(u,c,o),((t,e,n)=>{Object.keys(t).forEach((r=>{let i=t[r];const a=KH(r),s=n.append("g").attr("id",a),o="element-"+a,c=GH(s,o);let u=XH(s,o+"_title",["<<Element>>",`${r}`]);ZH(s,o+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],u.y);const l=c.node().getBBox();e.setNode(a,{width:l.width,height:l.height,shape:"rect",id:a})}))})(l,c,o),((t,e)=>{t.forEach((function(t){let n=KH(t.src),i=KH(t.dst);e.setEdge(n,i,{relationship:t})}))})(h,c),TU.layout(c),function(t,e){e.nodes().forEach((function(n){typeof n<"u"&&typeof e.node(n)<"u"&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))}))}(o,c),h.forEach((function(t){QH(o,t,c,e,r)}));const f=HH.rect_padding,p=o.node().getBBox(),d=p.width+2*f,y=p.height+2*f;$A(o,0,d,HH.useMaxWidth),o.attr("viewBox",`${p.x-f} ${p.y-f} ${d} ${y}`),zM(r.db,o,e)}};var tV=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],a=[2,5],s=[1,15],o=[1,17],c=[1,18],u=[1,19],l=[1,21],h=[1,22],f=[1,23],p=[1,29],d=[1,30],y=[1,31],m=[1,32],b=[1,33],_=[1,34],v=[1,35],x=[1,36],k=[1,37],w=[1,38],E=[1,39],T=[1,40],C=[1,43],S=[1,44],A=[1,45],M=[1,46],N=[1,47],D=[1,48],O=[1,51],L=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],F=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],R=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],P=[67,68,69],$=[1,121],z=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Y={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,e,n,q,r,o,c){var l=o.length-1;switch(r){case 4:return q.apply(o[l]),o[l];case 5:case 9:this.$=[];break;case 6:o[l-1].push(o[l]),this.$=o[l-1];break;case 7:case 8:case 56:this.$=o[l];break;case 12:o[l-3].type="addParticipant",o[l-3].description=q.parseMessage(o[l-1]),this.$=o[l-3];break;case 13:o[l-1].type="addParticipant",this.$=o[l-1];break;case 14:o[l-3].type="addActor",o[l-3].description=q.parseMessage(o[l-1]),this.$=o[l-3];break;case 15:o[l-1].type="addActor",this.$=o[l-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(o[l-2]),sequenceIndexStep:Number(o[l-1]),sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(o[l-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:o[l-1]};break;case 22:this.$={type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:o[l-1]};break;case 28:q.setDiagramTitle(o[l].substring(6)),this.$=o[l].substring(6);break;case 29:q.setDiagramTitle(o[l].substring(7)),this.$=o[l].substring(7);break;case 30:this.$=o[l].trim(),q.setAccTitle(this.$);break;case 31:case 32:this.$=o[l].trim(),q.setAccDescription(this.$);break;case 33:o[l-1].unshift({type:"loopStart",loopText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.LOOP_START}),o[l-1].push({type:"loopEnd",loopText:o[l-2],signalType:q.LINETYPE.LOOP_END}),this.$=o[l-1];break;case 34:o[l-1].unshift({type:"rectStart",color:q.parseMessage(o[l-2]),signalType:q.LINETYPE.RECT_START}),o[l-1].push({type:"rectEnd",color:q.parseMessage(o[l-2]),signalType:q.LINETYPE.RECT_END}),this.$=o[l-1];break;case 35:o[l-1].unshift({type:"optStart",optText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.OPT_START}),o[l-1].push({type:"optEnd",optText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.OPT_END}),this.$=o[l-1];break;case 36:o[l-1].unshift({type:"altStart",altText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.ALT_START}),o[l-1].push({type:"altEnd",signalType:q.LINETYPE.ALT_END}),this.$=o[l-1];break;case 37:o[l-1].unshift({type:"parStart",parText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.PAR_START}),o[l-1].push({type:"parEnd",signalType:q.LINETYPE.PAR_END}),this.$=o[l-1];break;case 38:o[l-1].unshift({type:"criticalStart",criticalText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.CRITICAL_START}),o[l-1].push({type:"criticalEnd",signalType:q.LINETYPE.CRITICAL_END}),this.$=o[l-1];break;case 39:o[l-1].unshift({type:"breakStart",breakText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.BREAK_START}),o[l-1].push({type:"breakEnd",optText:q.parseMessage(o[l-2]),signalType:q.LINETYPE.BREAK_END}),this.$=o[l-1];break;case 42:this.$=o[l-3].concat([{type:"option",optionText:q.parseMessage(o[l-1]),signalType:q.LINETYPE.CRITICAL_OPTION},o[l]]);break;case 44:this.$=o[l-3].concat([{type:"and",parText:q.parseMessage(o[l-1]),signalType:q.LINETYPE.PAR_AND},o[l]]);break;case 46:this.$=o[l-3].concat([{type:"else",altText:q.parseMessage(o[l-1]),signalType:q.LINETYPE.ALT_ELSE},o[l]]);break;case 47:this.$=[o[l-1],{type:"addNote",placement:o[l-2],actor:o[l-1].actor,text:o[l]}];break;case 48:o[l-2]=[].concat(o[l-1],o[l-1]).slice(0,2),o[l-2][0]=o[l-2][0].actor,o[l-2][1]=o[l-2][1].actor,this.$=[o[l-1],{type:"addNote",placement:q.PLACEMENT.OVER,actor:o[l-2].slice(0,2),text:o[l]}];break;case 49:this.$=[o[l-1],{type:"addLinks",actor:o[l-1].actor,text:o[l]}];break;case 50:this.$=[o[l-1],{type:"addALink",actor:o[l-1].actor,text:o[l]}];break;case 51:this.$=[o[l-1],{type:"addProperties",actor:o[l-1].actor,text:o[l]}];break;case 52:this.$=[o[l-1],{type:"addDetails",actor:o[l-1].actor,text:o[l]}];break;case 55:this.$=[o[l-2],o[l]];break;case 57:this.$=q.PLACEMENT.LEFTOF;break;case 58:this.$=q.PLACEMENT.RIGHTOF;break;case 59:this.$=[o[l-4],o[l-1],{type:"addMessage",from:o[l-4].actor,to:o[l-1].actor,signalType:o[l-3],msg:o[l]},{type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:o[l-1]}];break;case 60:this.$=[o[l-4],o[l-1],{type:"addMessage",from:o[l-4].actor,to:o[l-1].actor,signalType:o[l-3],msg:o[l]},{type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:o[l-4]}];break;case 61:this.$=[o[l-3],o[l-1],{type:"addMessage",from:o[l-3].actor,to:o[l-1].actor,signalType:o[l-2],msg:o[l]}];break;case 62:this.$={type:"addParticipant",actor:o[l]};break;case 63:this.$=q.LINETYPE.SOLID_OPEN;break;case 64:this.$=q.LINETYPE.DOTTED_OPEN;break;case 65:this.$=q.LINETYPE.SOLID;break;case 66:this.$=q.LINETYPE.DOTTED;break;case 67:this.$=q.LINETYPE.SOLID_CROSS;break;case 68:this.$=q.LINETYPE.DOTTED_CROSS;break;case 69:this.$=q.LINETYPE.SOLID_POINT;break;case 70:this.$=q.LINETYPE.DOTTED_POINT;break;case 71:this.$=q.parseMessage(o[l].trim().substring(1));break;case 72:q.parseDirective("%%{","open_directive");break;case 73:q.parseDirective(o[l],"type_directive");break;case 74:o[l]=o[l].trim().replace(/'/g,'"'),q.parseDirective(o[l],"arg_directive");break;case 75:q.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:n,6:4,7:r,11:6,79:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,11:6,79:i},{3:9,4:e,5:n,6:4,7:r,11:6,79:i},{3:10,4:e,5:n,6:4,7:r,11:6,79:i},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],a,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},{13:49,14:[1,50],82:O},t([14,82],[2,73]),t(L,[2,6]),{6:41,10:52,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},t(L,[2,8]),t(L,[2,9]),{17:53,69:D},{17:54,69:D},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:D},{17:60,69:D},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(L,[2,28]),t(L,[2,29]),{35:[1,66]},{37:[1,67]},t(L,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(L,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:D},{17:89,69:D},{17:90,69:D},{17:91,69:D},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(L,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(L,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(L,[2,20]),{5:[1,102]},{5:[1,103]},t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),t(L,[2,26]),t(L,[2,27]),t(L,[2,30]),t(L,[2,31]),t(B,a,{8:104}),t(B,a,{8:105}),t(B,a,{8:106}),t(I,a,{44:107,8:108}),t(F,a,{46:109,8:110}),t(R,a,{48:111,8:112}),t(B,a,{8:113}),{17:116,67:[1,114],68:[1,115],69:D},t(P,[2,63]),t(P,[2,64]),t(P,[2,65]),t(P,[2,66]),t(P,[2,67]),t(P,[2,68]),t(P,[2,69]),t(P,[2,70]),{17:117,69:D},{17:119,57:118,69:D},{69:[2,57]},{69:[2,58]},{55:120,78:$},{55:122,78:$},{55:123,78:$},{55:124,78:$},t(z,[2,10]),{13:125,82:O},{82:[2,74]},{19:[1,126]},t(L,[2,13]),{19:[1,127]},t(L,[2,15]),{5:[1,128]},t(L,[2,18]),t(L,[2,19]),t(L,[2,21]),t(L,[2,22]),{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[1,129],41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[1,130],41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[1,131],41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},{40:[1,132]},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[2,45],41:v,42:x,43:k,45:w,47:E,49:T,52:[1,133],53:C,58:S,59:A,60:M,61:N,69:D,79:i},{40:[1,134]},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[2,43],41:v,42:x,43:k,45:w,47:E,49:T,51:[1,135],53:C,58:S,59:A,60:M,61:N,69:D,79:i},{40:[1,136]},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[2,41],41:v,42:x,43:k,45:w,47:E,49:T,50:[1,137],53:C,58:S,59:A,60:M,61:N,69:D,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:c,17:42,20:u,21:20,22:l,25:h,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:d,34:y,36:m,38:b,39:_,40:[1,138],41:v,42:x,43:k,45:w,47:E,49:T,53:C,58:S,59:A,60:M,61:N,69:D,79:i},{17:139,69:D},{17:140,69:D},{55:141,78:$},{55:142,78:$},{55:143,78:$},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(L,[2,17]),t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(L,[2,36]),{19:[1,148]},t(L,[2,37]),{19:[1,149]},t(L,[2,38]),{19:[1,150]},t(L,[2,39]),{55:151,78:$},{55:152,78:$},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:D},t(z,[2,11]),t(L,[2,12]),t(L,[2,14]),t(I,a,{8:108,44:154}),t(F,a,{8:110,46:155}),t(R,a,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],q=[],r=[null],o=[],c=this.table,l="",h=0,f=0,d=2,y=1,m=o.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;o.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=q.pop()||_.lex()||y)&&(t instanceof Array&&(t=(q=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=n[n.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=c[C]&&c[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],c[C])this.terminals_[M]&&M>d&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(T==y?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:n.push(T),r.push(_.yytext),o.push(_.yylloc),n.push(S[1]),T=null,f=_.yyleng,l=_.yytext,h=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=r[r.length-N],L._$={first_line:o[o.length-(N||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(N||1)].first_column,last_column:o[o.length-1].last_column},w&&(L._$.range=[o[o.length-(N||1)].range[0],o[o.length-1].range[1]]),typeof(A=this.performAction.apply(L,[l,f,h,v.yy,S[1],r,o].concat(m)))<"u")return A;N&&(n=n.slice(0,-1*N*2),r=r.slice(0,-1*N),o=o.slice(0,-1*N)),n.push(this.productions_[S[1]][0]),r.push(L.$),o.push(L._$),D=c[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===q.length?this.yylloc.first_column:0)+q[q.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,q,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(q=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,q;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,q=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[q]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,q,n){switch(q){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:case 52:case 65:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 53:return e.yytext=e.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};function U(){this.yy={}}return Y.lexer=j,U.prototype=Y,Y.Parser=U,new U}();tV.parser=tV;const eV=t=>null!==t.match(/^\s*sequenceDiagram/);let nV,rV,iV={},aV=[],oV=!1;const sV=function(t,e,n,r){const i=iV[t];i&&e===i.name&&null==n||((null==n||null==n.text)&&(n={text:e,wrap:null,type:r}),(null==r||null==n.text)&&(n={text:e,wrap:null,type:r}),iV[t]={name:e,description:n.text,wrap:void 0===n.wrap&&uV()||!!n.wrap,prevActor:nV,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},nV&&iV[nV]&&(iV[nV].nextActor=t),nV=t)},cV=function(t,e,n={text:void 0,wrap:void 0},r){if(r===hV.ACTIVE_END&&(t=>{let e,n=0;for(e=0;e<aV.length;e++)aV[e].type===hV.ACTIVE_START&&aV[e].from.actor===t&&n++,aV[e].type===hV.ACTIVE_END&&aV[e].from.actor===t&&n--;return n})(t.actor)<1){let a=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return aV.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&uV()||!!n.wrap,type:r}),!0},lV=function(t){return iV[t]},uV=()=>typeof rV<"u"?rV:OA().sequence.wrap,hV={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},fV=function(t,e,n){n.text,void 0===n.wrap&&uV()||n.wrap;const r=[].concat(t,t);aV.push({from:r[0],to:r[1],message:n.text,wrap:void 0===n.wrap&&uV()||!!n.wrap,type:hV.NOTE,placement:e})},dV=function(t,e){const n=lV(t);try{let t=li(e.text,OA());t=t.replace(/&amp;/g,"&"),t=t.replace(/&equals;/g,"=");pV(n,JSON.parse(t))}catch(t){v.error("error while parsing actor link text",t)}};function pV(t,e){if(null==t.links)t.links=e;else for(let n in e)t.links[n]=e[n]}const gV=function(t,e){const n=lV(t);try{let t=li(e.text,OA());yV(n,JSON.parse(t))}catch(t){v.error("error while parsing actor properties text",t)}};function yV(t,e){if(null==t.properties)t.properties=e;else for(let n in e)t.properties[n]=e[n]}const mV=function(t,e){const n=lV(t),r=document.getElementById(e.text);try{const i=r.innerHTML,a=JSON.parse(i);a.properties&&yV(n,a.properties),a.links&&pV(n,a.links)}catch(t){v.error("error while parsing actor details text",t)}},bV=function(t){if(t instanceof Array)t.forEach((function(t){bV(t)}));else switch(t.type){case"sequenceIndex":aV.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":sV(t.actor,t.actor,t.description,"participant");break;case"addActor":sV(t.actor,t.actor,t.description,"actor");break;case"activeStart":case"activeEnd":cV(t.actor,void 0,void 0,t.signalType);break;case"addNote":fV(t.actor,t.placement,t.text);break;case"addLinks":dV(t.actor,t.text);break;case"addALink":!function(t,e){const n=lV(t);try{const s={};let t=li(e.text,OA());var r=t.indexOf("@");t=t.replace(/&amp;/g,"&"),t=t.replace(/&equals;/g,"=");var i=t.slice(0,r-1).trim(),a=t.slice(r+1).trim();s[i]=a,pV(n,s)}catch(t){v.error("error while parsing actor link text",t)}}(t.actor,t.text);break;case"addProperties":gV(t.actor,t.text);break;case"addDetails":mV(t.actor,t.text);break;case"addMessage":cV(t.from,t.to,t.msg,t.signalType);break;case"loopStart":cV(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":cV(void 0,void 0,void 0,t.signalType);break;case"rectStart":cV(void 0,void 0,t.color,t.signalType);break;case"optStart":cV(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":cV(void 0,void 0,t.altText,t.signalType);break;case"setAccTitle":mM(t.text);break;case"parStart":case"and":cV(void 0,void 0,t.parText,t.signalType);break;case"criticalStart":cV(void 0,void 0,t.criticalText,t.signalType);break;case"option":cV(void 0,void 0,t.optionText,t.signalType);break;case"breakStart":cV(void 0,void 0,t.breakText,t.signalType)}},_V={addActor:sV,addMessage:function(t,e,n,r){aV.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&uV()||!!n.wrap,answer:r})},addSignal:cV,addLinks:dV,addDetails:mV,addProperties:gV,autoWrap:uV,setWrap:function(t){rV=t},enableSequenceNumbers:function(){oV=!0},disableSequenceNumbers:function(){oV=!1},showSequenceNumbers:()=>oV,getMessages:function(){return aV},getActors:function(){return iV},getActor:lV,getActorKeys:function(){return Object.keys(iV)},getActorProperty:function(t,e){if(typeof t<"u"&&typeof t.properties<"u")return t.properties[e]},getAccTitle:bM,getDiagramTitle:kM,setDiagramTitle:xM,parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().sequence,clear:function(){iV={},aV=[],oV=!1,yM()},parseMessage:function(t){const e=t.trim(),n={text:e.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==e.match(/^[:]?wrap:/)||null===e.match(/^[:]?nowrap:/)&&void 0};return v.debug("parseMessage:",n),n},LINETYPE:hV,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:fV,setAccTitle:mM,apply:bV,setAccDescription:_M,getAccDescription:vM};let vV=[];const xV=()=>{vV.forEach((t=>{t()})),vV=[]},kV=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),typeof e.class<"u"&&n.attr("class",e.class),n},wV=(t,e)=>{(t=>{vV.push(t)})((()=>{const n=document.querySelectorAll(t);0!==n.length&&(n[0].addEventListener("mouseover",(function(){CV("actor"+e+"_popup")})),n[0].addEventListener("mouseout",(function(){SV("actor"+e+"_popup")})))}))},EV=function(t,e,n,r){const i=t.append("image");i.attr("x",e),i.attr("y",n);var a=E(r);i.attr("xlink:href",a)},TV=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var a=E(r);i.attr("xlink:href","#"+a)},CV=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="block")},SV=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="none")},AV=function(t,e){let n=0,r=0;const i=e.text.split(OE.lineBreakRegex);let a=[],s=0,o=()=>e.y;if(typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0)switch(e.valign){case"top":case"start":o=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":o=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":o=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin)}if(typeof e.anchor<"u"&&typeof e.textMargin<"u"&&typeof e.width<"u")switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(let c=0;c<i.length;c++){let u=i[c];typeof e.textMargin<"u"&&0===e.textMargin&&typeof e.fontSize<"u"&&(s=c*e.fontSize);const l=t.append("text");if(l.attr("x",e.x),l.attr("y",o()),typeof e.anchor<"u"&&l.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),typeof e.fontFamily<"u"&&l.style("font-family",e.fontFamily),typeof e.fontSize<"u"&&l.style("font-size",e.fontSize),typeof e.fontWeight<"u"&&l.style("font-weight",e.fontWeight),typeof e.fill<"u"&&l.attr("fill",e.fill),typeof e.class<"u"&&l.attr("class",e.class),typeof e.dy<"u"?l.attr("dy",e.dy):0!==s&&l.attr("dy",s),e.tspan){const t=l.append("tspan");t.attr("x",e.x),typeof e.fill<"u"&&t.attr("fill",e.fill),t.text(u)}else l.text(u);typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0&&(r+=(l._groups||l)[0][0].getBBox().height,n=r),a.push(l)}return a},MV=function(t,e){const n=t.append("polygon");return n.attr("points",(i=e.x,a=e.y,s=e.width,r=e.height,i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+r-(o=7))+" "+(i+s-1.2*o)+","+(a+r)+" "+i+","+(a+r))),n.attr("class","labelBox"),e.y=e.y+e.height/2,AV(t,e),n;var i,a,s,r,o};let NV=-1;const DV=(t,e)=>{!t.selectAll||t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},OV=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},LV=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},BV=function(){function t(i,a,s,t,e,u,n){r(a.append("text").attr("x",s+e/2).attr("y",t+u/2+5).style("text-anchor","middle").text(i),n)}function e(i,a,s,t,e,u,n,o){const{actorFontSize:c,actorFontFamily:p,actorFontWeight:l}=o;let h=c&&c.replace?c.replace("px",""):c;const f=i.split(OE.lineBreakRegex);for(let b=0;b<f.length;b++){const o=b*h-h*(f.length-1)/2,d=a.append("text").attr("x",s+e/2).attr("y",t).style("text-anchor","middle").style("font-size",c).style("font-weight",l).style("font-family",p);d.append("tspan").attr("x",s+e/2).attr("dy",o).text(f[b]),d.attr("y",t+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(d,n)}}function n(i,a,s,t,n,u,o,c){const l=a.append("switch"),h=l.append("foreignObject").attr("x",s).attr("y",t).attr("width",n).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,l,s,t,n,u,o,c),r(h,o)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),IV=function(){function t(i,a,s,t,e,u,n){r(a.append("text").attr("x",s).attr("y",t).style("text-anchor","start").text(i),n)}function e(i,a,s,t,e,u,n,o){const{actorFontSize:c,actorFontFamily:p,actorFontWeight:l}=o,h=i.split(OE.lineBreakRegex);for(let e=0;e<h.length;e++){const b=e*c-c*(h.length-1)/2,o=a.append("text").attr("x",s).attr("y",t).style("text-anchor","start").style("font-size",c).style("font-weight",l).style("font-family",p);o.append("tspan").attr("x",s).attr("dy",b).text(h[e]),o.attr("y",t+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(o,n)}}function n(i,a,s,t,n,u,o,c){const l=a.append("switch"),h=l.append("foreignObject").attr("x",s).attr("y",t).attr("width",n).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,l,s,t,0,u,o,c),r(h,o)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),FV={drawRect:kV,drawText:AV,drawLabel:MV,drawActor:function(t,e,n){switch(e.type){case"actor":return function(t,e,n){const r=e.x+e.width/2;0===e.y&&(NV++,t.append("line").attr("id","actor"+NV).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const i=t.append("g");i.attr("class","actor-man");const a=LV();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,i.append("line").attr("id","actor-man-torso"+NV).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("id","actor-man-arms"+NV).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),i.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);const s=i.append("circle");s.attr("cx",e.x+e.width/2),s.attr("cy",e.y+10),s.attr("r",15),s.attr("width",e.width),s.attr("height",e.height);const o=i.node().getBBox();return e.height=o.height,BV(n)(e.description,i,a.x,a.y+35,a.width,a.height,{class:"actor"},n),e.height}(t,e,n);case"participant":return function(t,e,n){const r=e.x+e.width/2,i=t.append("g");var a=i;0===e.y&&(NV++,a.append("line").attr("id","actor"+NV).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=i.append("g"),e.actorCnt=NV,null!=e.links&&(a.attr("id","root-"+NV),wV("#root-"+NV,NV)));const s=LV();var o="actor";null!=e.properties&&e.properties.class?o=e.properties.class:s.fill="#eaeaea",s.x=e.x,s.y=e.y,s.width=e.width,s.height=e.height,s.class=o,s.rx=3,s.ry=3;const c=kV(a,s);if(e.rectData=s,null!=e.properties&&e.properties.icon){const t=e.properties.icon.trim();"@"===t.charAt(0)?TV(a,s.x+s.width-20,s.y+10,t.substr(1)):EV(a,s.x+s.width-20,s.y+10,t)}BV(n)(e.description,a,s.x,s.y,s.width,s.height,{class:"actor"},n);let u=e.height;if(c.node){const t=c.node().getBBox();e.height=t.height,u=t.height}return u}(t,e,n)}},drawPopup:function(t,e,n,r,i){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var c="none";i&&(c="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",c),wV("#actor"+s+"_popup",s);var l="";typeof o.class<"u"&&(l=" "+o.class);let h=o.width>n?o.width:n;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+l),f.attr("x",o.x),f.attr("y",o.height),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",h),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),null!=a){var p=20;for(let t in a){var d=u.append("a"),y=E(a[t]);d.attr("xlink:href",y),d.attr("target","_blank"),IV(r)(t,d,o.x+10,o.height+p,h,20,{class:"actor"},r),p+=30}}return f.attr("height",p),{height:o.height+p,width:h}},drawImage:EV,drawEmbeddedImage:TV,anchorElement:function(t){return t.append("g")},drawActivation:function(t,e,n,r,i){const a=LV(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=n-e.starty,kV(s,a)},drawLoop:function(t,e,n,r){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:c,messageFontSize:u,messageFontWeight:l}=r,h=t.append("g"),f=function(t,e,b,n){return h.append("line").attr("x1",t).attr("y1",e).attr("x2",b).attr("y2",n).attr("class","loopLine")};f(e.startx,e.starty,e.stopx,e.starty),f(e.stopx,e.starty,e.stopx,e.stopy),f(e.startx,e.stopy,e.stopx,e.stopy),f(e.startx,e.starty,e.startx,e.stopy),typeof e.sections<"u"&&e.sections.forEach((function(t){f(e.startx,t.y,e.stopx,t.y).style("stroke-dasharray","3, 3")}));let p=OV();p.text=n,p.x=e.startx,p.y=e.starty,p.fontFamily=c,p.fontSize=u,p.fontWeight=l,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=s||20,p.textMargin=a,p.class="labelText",MV(h,p),p=OV(),p.text=e.title,p.x=e.startx+o/2+(e.stopx-e.startx)/2,p.y=e.starty+i+a,p.anchor="middle",p.valign="middle",p.textMargin=a,p.class="loopText",p.fontFamily=c,p.fontSize=u,p.fontWeight=l,p.wrap=!0;let d=AV(h,p);return typeof e.sectionTitles<"u"&&e.sectionTitles.forEach((function(t,n){if(t.message){p.text=t.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[n].y+i+a,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=c,p.fontSize=u,p.fontWeight=l,p.wrap=e.wrap,d=AV(h,p);let b=Math.round(d.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,e)=>t+e)));e.sections[n].height+=b-(i+a)}})),e.height=Math.round(e.stopy-e.starty),h},drawBackgroundRect:function(t,e){kV(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},insertArrowHead:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead:function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber:function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead:function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},insertDatabaseIcon:function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon:function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon:function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},getTextObj:OV,getNoteRect:LV,popupMenu:function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu:function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},fixLifeLineHeights:DV,sanitizeUrl:E};let dt={};const RV={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((t=>t.height||0)))+(0===this.loops.length?0:this.loops.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.messages.length?0:this.messages.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.notes.length?0:this.notes.map((t=>t.height||0)).reduce(((t,e)=>t+e)))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,UV(OA())},updateVal:function(t,e,n,r){typeof t[e]>"u"?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=this;let a=0;function s(o){return function(u){a++;const c=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-c*dt.boxMargin,Math.min),i.updateVal(u,"stopy",r+c*dt.boxMargin,Math.max),i.updateVal(RV.data,"startx",t-c*dt.boxMargin,Math.min),i.updateVal(RV.data,"stopx",n+c*dt.boxMargin,Math.max),"activation"!==o&&(i.updateVal(u,"startx",t-c*dt.boxMargin,Math.min),i.updateVal(u,"stopx",n+c*dt.boxMargin,Math.max),i.updateVal(RV.data,"starty",e-c*dt.boxMargin,Math.min),i.updateVal(RV.data,"stopy",r+c*dt.boxMargin,Math.max))}}this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},insert:function(t,e,n,r){const i=Math.min(t,n),a=Math.max(t,n),s=Math.min(e,r),o=Math.max(e,r);this.updateVal(RV.data,"startx",i,Math.min),this.updateVal(RV.data,"starty",s,Math.min),this.updateVal(RV.data,"stopx",a,Math.max),this.updateVal(RV.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},newActivation:function(t,e,n){const r=n[t.from.actor],i=WV(t.from.actor).length||0,a=r.x+r.width/2+(i-1)*dt.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+dt.activationWidth,stopy:void 0,actor:t.from.actor,anchored:FV.anchorElement(e)})},endActivation:function(t){const e=this.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:RV.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},PV=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),$V=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),zV=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),YV=function(t,e,n,r,i,a){if(!0===i.hideUnusedParticipants){const u=new Set;a.forEach((t=>{u.add(t.from),u.add(t.to)})),n=n.filter((t=>u.has(t)))}let s=0,o=0,c=0;for(let u=0;u<n.length;u++){const l=e[n[u]];l.width=l.width||dt.width,l.height=Math.max(l.height||dt.height,dt.height),l.margin=l.margin||dt.actorMargin,l.x=s+o,l.y=r;const h=FV.drawActor(t,l,dt);c=Math.max(c,h),RV.insert(l.x,r,l.x+l.width,l.height),s+=l.width,o+=l.margin,RV.models.addActor(l)}RV.bumpVerticalPos(c)},jV=function(t,e,n,r){let i=0,a=0;for(let s=0;s<n.length;s++){const o=e[n[s]],c=GV(o),u=FV.drawPopup(t,o,c,dt,dt.forceMenus,r);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},UV=function(t){ET(dt,t),t.fontFamily&&(dt.actorFontFamily=dt.noteFontFamily=dt.messageFontFamily=t.fontFamily),t.fontSize&&(dt.actorFontSize=dt.noteFontSize=dt.messageFontSize=t.fontSize),t.fontWeight&&(dt.actorFontWeight=dt.noteFontWeight=dt.messageFontWeight=t.fontWeight)},WV=function(t){return RV.activations.filter((function(e){return e.actor===t}))},qV=function(t,e){const n=e[t],r=WV(t);return[r.reduce((function(s,t){return Math.min(s,t.startx)}),n.x+n.width/2),r.reduce((function(s,t){return Math.max(s,t.stopx)}),n.x+n.width/2)]};function HV(t,e,n,r,i){RV.bumpVerticalPos(n);let a=r;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,n=PV(dt);e.message=$S.wrapLabel(`[${e.message}]`,s-2*dt.wrapPadding,n),e.width=s,e.wrap=!0;const o=$S.calculateTextDimensions(e.message,n),u=Math.max(o.height,dt.labelBoxHeight);a=r+u,v.debug(`${u} - ${e.message}`)}i(e),RV.bumpVerticalPos(a)}const VV=function(t,e,n){const r={};return e.forEach((function(i){if(t[i.to]&&t[i.from]){const a=t[i.to];if(i.placement===n.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===n.db.PLACEMENT.RIGHTOF&&!a.nextActor)return;const s=void 0!==i.placement,e=!s,o=s?$V(dt):PV(dt),u=i.wrap?$S.wrapLabel(i.message,dt.width-2*dt.wrapPadding,o):i.message,c=$S.calculateTextDimensions(u,o).width+2*dt.wrapPadding;e&&i.from===a.nextActor?r[i.to]=Math.max(r[i.to]||0,c):e&&i.from===a.prevActor?r[i.from]=Math.max(r[i.from]||0,c):e&&i.from===i.to?(r[i.from]=Math.max(r[i.from]||0,c/2),r[i.to]=Math.max(r[i.to]||0,c/2)):i.placement===n.db.PLACEMENT.RIGHTOF?r[i.from]=Math.max(r[i.from]||0,c):i.placement===n.db.PLACEMENT.LEFTOF?r[a.prevActor]=Math.max(r[a.prevActor]||0,c):i.placement===n.db.PLACEMENT.OVER&&(a.prevActor&&(r[a.prevActor]=Math.max(r[a.prevActor]||0,c/2)),a.nextActor&&(r[i.from]=Math.max(r[i.from]||0,c/2)))}})),v.debug("maxMessageWidthPerActor:",r),r},GV=function(t){let e=0;const n=zV(dt);for(const r in t.links){const a=$S.calculateTextDimensions(r,n).width+2*dt.wrapPadding+2*dt.boxMargin;e<a&&(e=a)}return e},XV=function(t,e){let n=0;Object.keys(t).forEach((e=>{const i=t[e];i.wrap&&(i.description=$S.wrapLabel(i.description,dt.width-2*dt.wrapPadding,zV(dt)));const a=$S.calculateTextDimensions(i.description,zV(dt));i.width=i.wrap?dt.width:Math.max(dt.width,a.width+2*dt.wrapPadding),i.height=i.wrap?Math.max(a.height,dt.height):dt.height,n=Math.max(n,i.height)}));for(const n in e){const i=t[n];if(!i)continue;const a=t[i.nextActor];if(!a)continue;const r=e[n]+dt.actorMargin-i.width/2-a.width/2;i.margin=Math.max(r,dt.actorMargin)}return Math.max(n,dt.height)},ZV=function(t,e,n,r){const i={},a=[];let s,o,c;return t.forEach((function(u){switch(u.id=$S.random({length:10}),u.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case r.db.LINETYPE.ACTIVE_START:{const t=e[u.from?u.from.actor:u.to.actor],n=WV(u.from?u.from.actor:u.to.actor).length,p=t.x+t.width/2+(n-1)*dt.activationWidth/2,r={startx:p,stopx:p+dt.activationWidth,actor:u.from.actor,enabled:!0};RV.activations.push(r)}break;case r.db.LINETYPE.ACTIVE_END:{const t=RV.activations.map((t=>t.actor)).lastIndexOf(u.from.actor);delete RV.activations.splice(t,1)[0]}}void 0!==u.placement?(o=function(t,e,n){const r=e[t.from].x,i=e[t.to].x,a=t.wrap&&t.message;let s=$S.calculateTextDimensions(a?$S.wrapLabel(t.message,dt.width,$V(dt)):t.message,$V(dt));const o={width:a?dt.width:Math.max(dt.width,s.width+2*dt.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(o.width=a?Math.max(dt.width,s.width):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*dt.noteMargin),o.startx=r+(e[t.from].width+dt.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(o.width=Math.max(a?dt.width:e[t.from].width/2+e[t.to].width/2,s.width+2*dt.noteMargin),o.startx=r-o.width+(e[t.from].width-dt.actorMargin)/2):t.to===t.from?(s=$S.calculateTextDimensions(a?$S.wrapLabel(t.message,Math.max(dt.width,e[t.from].width),$V(dt)):t.message,$V(dt)),o.width=a?Math.max(dt.width,e[t.from].width):Math.max(e[t.from].width,dt.width,s.width+2*dt.noteMargin),o.startx=r+(e[t.from].width-o.width)/2):(o.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+dt.actorMargin,o.startx=r<i?r+e[t.from].width/2-dt.actorMargin/2:i+e[t.to].width/2-dt.actorMargin/2),a&&(o.message=$S.wrapLabel(t.message,o.width-2*dt.wrapPadding,$V(dt))),v.debug(`NM:[${o.startx},${o.stopx},${o.starty},${o.stopy}:${o.width},${o.height}=${t.message}]`),o}(u,e,r),u.noteModel=o,a.forEach((t=>{s=t,s.from=Math.min(s.from,o.startx),s.to=Math.max(s.to,o.startx+o.width),s.width=Math.max(s.width,Math.abs(s.from-s.to))-dt.labelBoxWidth}))):(c=function(t,e,n){let r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const i=qV(t.from,e),a=qV(t.to,e),s=i[0]<=a[0]?1:0,o=i[0]<a[0]?0:1,c=i.concat(a),u=Math.abs(a[o]-i[s]);t.wrap&&t.message&&(t.message=$S.wrapLabel(t.message,Math.max(u+2*dt.wrapPadding,dt.width),PV(dt)));const l=$S.calculateTextDimensions(t.message,PV(dt));return{width:Math.max(t.wrap?0:l.width+2*dt.wrapPadding,u+2*dt.wrapPadding,dt.width),height:0,startx:i[s],stopx:a[o],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,c),toBounds:Math.max.apply(null,c)}}(u,e,r),u.msgModel=c,c.startx&&c.stopx&&a.length>0&&a.forEach((t=>{if(s=t,c.startx===c.stopx){const t=e[u.from],p=e[u.to];s.from=Math.min(t.x-c.width/2,t.x-t.width/2,s.from),s.to=Math.max(p.x+c.width/2,p.x+t.width/2,s.to),s.width=Math.max(s.width,Math.abs(s.to-s.from))-dt.labelBoxWidth}else s.from=Math.min(c.startx,s.from),s.to=Math.max(c.stopx,s.to),s.width=Math.max(s.width,c.width)-dt.labelBoxWidth})))})),RV.activations=[],v.debug("Loop type widths:",i),i},QV={bounds:RV,drawActors:YV,drawActorsPopup:jV,setConf:UV,draw:function(t,e,n,r){const{securityLevel:i,sequence:a}=OA();let s;dt=a,"sandbox"===i&&(s=Nn("#i"+e));const o=Nn("sandbox"===i?s.nodes()[0].contentDocument.body:"body"),c="sandbox"===i?s.nodes()[0].contentDocument:document;RV.init(),v.debug(r.db);const u="sandbox"===i?o.select(`[id="${e}"]`):Nn(`[id="${e}"]`),l=r.db.getActors(),h=r.db.getActorKeys(),f=r.db.getMessages(),p=r.db.getDiagramTitle(),d=VV(l,f,r);dt.height=XV(l,d),FV.insertComputerIcon(u),FV.insertDatabaseIcon(u),FV.insertClockIcon(u),YV(u,l,h,0,dt,f);const y=ZV(f,l,d,r);FV.insertArrowHead(u),FV.insertArrowCrossHead(u),FV.insertArrowFilledHead(u),FV.insertSequenceNumber(u);let b=1,m=1;const _=[];f.forEach((function(t){let e,n,o;switch(t.type){case r.db.LINETYPE.NOTE:n=t.noteModel,function(t,e){RV.bumpVerticalPos(dt.boxMargin),e.height=dt.boxMargin,e.starty=RV.getVerticalPos();const n=FV.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||dt.width,n.class="note";const r=t.append("g"),i=FV.drawRect(r,n),a=FV.getTextObj();a.x=e.startx,a.y=e.starty,a.width=n.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=dt.noteFontFamily,a.fontSize=dt.noteFontSize,a.fontWeight=dt.noteFontWeight,a.anchor=dt.noteAlign,a.textMargin=dt.noteMargin,a.valign="center";const s=AV(r,a),o=Math.round(s.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,u)=>t+u)));i.attr("height",o+2*dt.noteMargin),e.height+=o+2*dt.noteMargin,RV.bumpVerticalPos(o+2*dt.noteMargin),e.stopy=e.starty+o+2*dt.noteMargin,e.stopx=e.startx+n.width,RV.insert(e.startx,e.starty,e.stopx,e.stopy),RV.models.addNote(e)}(u,n);break;case r.db.LINETYPE.ACTIVE_START:RV.newActivation(t,u,l);break;case r.db.LINETYPE.ACTIVE_END:!function(t,e){const n=RV.endActivation(t);n.starty+18>e&&(n.starty=e-6,e+=12),FV.drawActivation(u,n,e,dt,WV(t.from.actor).length),RV.insert(n.startx,e-10,n.stopx,e)}(t,RV.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.LOOP_END:e=RV.endLoop(),FV.drawLoop(u,e,"loop",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;case r.db.LINETYPE.RECT_START:HV(y,t,dt.boxMargin,dt.boxMargin,(t=>RV.newLoop(void 0,t.message)));break;case r.db.LINETYPE.RECT_END:e=RV.endLoop(),FV.drawBackgroundRect(u,e),RV.models.addLoop(e),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos());break;case r.db.LINETYPE.OPT_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.OPT_END:e=RV.endLoop(),FV.drawLoop(u,e,"opt",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;case r.db.LINETYPE.ALT_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.ALT_ELSE:HV(y,t,dt.boxMargin+dt.boxTextMargin,dt.boxMargin,(t=>RV.addSectionToLoop(t)));break;case r.db.LINETYPE.ALT_END:e=RV.endLoop(),FV.drawLoop(u,e,"alt",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;case r.db.LINETYPE.PAR_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.PAR_AND:HV(y,t,dt.boxMargin+dt.boxTextMargin,dt.boxMargin,(t=>RV.addSectionToLoop(t)));break;case r.db.LINETYPE.PAR_END:e=RV.endLoop(),FV.drawLoop(u,e,"par",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;case r.db.LINETYPE.AUTONUMBER:b=t.message.start||b,m=t.message.step||m,t.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.CRITICAL_OPTION:HV(y,t,dt.boxMargin+dt.boxTextMargin,dt.boxMargin,(t=>RV.addSectionToLoop(t)));break;case r.db.LINETYPE.CRITICAL_END:e=RV.endLoop(),FV.drawLoop(u,e,"critical",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;case r.db.LINETYPE.BREAK_START:HV(y,t,dt.boxMargin,dt.boxMargin+dt.boxTextMargin,(t=>RV.newLoop(t)));break;case r.db.LINETYPE.BREAK_END:e=RV.endLoop(),FV.drawLoop(u,e,"break",dt),RV.bumpVerticalPos(e.stopy-RV.getVerticalPos()),RV.models.addLoop(e);break;default:try{o=t.msgModel,o.starty=RV.getVerticalPos(),o.sequenceIndex=b,o.sequenceVisible=r.db.showSequenceNumbers();const e=function(t,e){RV.bumpVerticalPos(10);const{startx:n,stopx:r,message:i}=e,a=OE.splitBreaks(i).length,s=$S.calculateTextDimensions(i,PV(dt)),o=s.height/a;e.height+=o,RV.bumpVerticalPos(o);let c,u=s.height-10;const l=s.width;if(n===r){c=RV.getVerticalPos()+u,dt.rightAngles||(u+=dt.boxMargin,c=RV.getVerticalPos()+u),u+=30;const t=Math.max(l/2,dt.width/2);RV.insert(n-t,RV.getVerticalPos()-10+u,r+t,RV.getVerticalPos()+30+u)}else u+=dt.boxMargin,c=RV.getVerticalPos()+u,RV.insert(n,c-10,r,c);return RV.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,RV.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),c}(0,o);_.push({messageModel:o,lineStarty:e}),RV.models.addMessage(o)}catch(t){v.error("error while drawing message",t)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(b+=m)})),_.forEach((t=>function(t,e,n,r){const{startx:i,stopx:a,starty:s,message:o,type:c,sequenceIndex:u,sequenceVisible:l}=e,h=$S.calculateTextDimensions(o,PV(dt)),f=FV.getTextObj();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=o,f.fontFamily=dt.messageFontFamily,f.fontSize=dt.messageFontSize,f.fontWeight=dt.messageFontWeight,f.anchor=dt.messageAlign,f.valign="center",f.textMargin=dt.wrapPadding,f.tspan=!1,AV(t,f);const p=h.width;let d;i===a?d=dt.rightAngles?t.append("path").attr("d",`M  ${i},${n} H ${i+Math.max(dt.width/2,p/2)} V ${n+25} H ${i}`):t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):(d=t.append("line"),d.attr("x1",i),d.attr("y1",n),d.attr("x2",a),d.attr("y2",n)),c===r.db.LINETYPE.DOTTED||c===r.db.LINETYPE.DOTTED_CROSS||c===r.db.LINETYPE.DOTTED_POINT||c===r.db.LINETYPE.DOTTED_OPEN?(d.style("stroke-dasharray","3, 3"),d.attr("class","messageLine1")):d.attr("class","messageLine0");let y="";dt.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),d.attr("stroke-width",2),d.attr("stroke","none"),d.style("fill","none"),(c===r.db.LINETYPE.SOLID||c===r.db.LINETYPE.DOTTED)&&d.attr("marker-end","url("+y+"#arrowhead)"),(c===r.db.LINETYPE.SOLID_POINT||c===r.db.LINETYPE.DOTTED_POINT)&&d.attr("marker-end","url("+y+"#filled-head)"),(c===r.db.LINETYPE.SOLID_CROSS||c===r.db.LINETYPE.DOTTED_CROSS)&&d.attr("marker-end","url("+y+"#crosshead)"),(l||dt.showSequenceNumbers)&&(d.attr("marker-start","url("+y+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))}(u,t.messageModel,t.lineStarty,r))),dt.mirrorActors&&(RV.bumpVerticalPos(2*dt.boxMargin),YV(u,l,h,RV.getVerticalPos(),dt,f),RV.bumpVerticalPos(dt.boxMargin),DV(u,RV.getVerticalPos()));const x=jV(u,l,h,c),{bounds:k}=RV.getBounds();v.debug("For line height fix Querying: #"+e+" .actor-line"),Fn("#"+e+" .actor-line").attr("y2",k.stopy);let w=k.stopy-k.starty;w<x.maxHeight&&(w=x.maxHeight);let E=w+2*dt.diagramMarginY;dt.mirrorActors&&(E=E-dt.boxMargin+dt.bottomMarginAdj);let T=k.stopx-k.startx;T<x.maxWidth&&(T=x.maxWidth);const C=T+2*dt.diagramMarginX;p&&u.append("text").text(p).attr("x",(k.stopx-k.startx)/2-2*dt.diagramMarginX).attr("y",-25),$A(u,0,C,dt.useMaxWidth);const S=p?40:0;u.attr("viewBox",k.startx-dt.diagramMarginX+" -"+(dt.diagramMarginY+S)+" "+C+" "+(E+S)),zM(r.db,u,e),v.debug("models:",RV.models)}};var KV=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],a=[2,5],s=[1,15],o=[1,17],c=[1,19],u=[1,20],l=[1,21],h=[1,22],f=[1,33],p=[1,23],d=[1,24],y=[1,25],m=[1,26],b=[1,27],_=[1,30],v=[1,31],x=[1,32],k=[1,35],w=[1,36],E=[1,37],T=[1,38],C=[1,34],S=[1,41],A=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],M=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],N=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],D=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],O={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(t,e,n,r,o,c,l){var h=c.length-1;switch(o){case 4:return r.setRootDoc(c[h]),c[h];case 5:this.$=[];break;case 6:"nl"!=c[h]&&(c[h-1].push(c[h]),this.$=c[h-1]);break;case 7:case 8:case 39:case 40:this.$=c[h];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:c[h],type:"default",description:""};break;case 11:this.$={stmt:"state",id:c[h-1],type:"default",description:r.trimColon(c[h])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:c[h-2],type:"default",description:""},state2:{stmt:"state",id:c[h],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:c[h-3],type:"default",description:""},state2:{stmt:"state",id:c[h-1],type:"default",description:""},description:c[h].substr(1).trim()};break;case 17:this.$={stmt:"state",id:c[h-3],type:"default",description:"",doc:c[h-1]};break;case 18:var f=c[h],d=c[h-2].trim();if(c[h].match(":")){var y=c[h].split(":");f=y[0],d=[d,y[1]]}this.$={stmt:"state",id:f,type:"default",description:d};break;case 19:this.$={stmt:"state",id:c[h-3],type:"default",description:c[h-5],doc:c[h-1]};break;case 20:this.$={stmt:"state",id:c[h],type:"fork"};break;case 21:this.$={stmt:"state",id:c[h],type:"join"};break;case 22:this.$={stmt:"state",id:c[h],type:"choice"};break;case 23:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:c[h-1].trim(),note:{position:c[h-2].trim(),text:c[h].trim()}};break;case 28:this.$=c[h].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=c[h].trim(),r.setAccDescription(this.$);break;case 33:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 43:r.parseDirective("%%{","open_directive");break;case 44:r.parseDirective(c[h],"type_directive");break;case 45:c[h]=c[h].trim().replace(/'/g,'"'),r.parseDirective(c[h],"arg_directive");break;case 46:r.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:r,36:6,50:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,36:6,50:i},{3:9,4:e,5:n,6:4,7:r,36:6,50:i},{3:10,4:e,5:n,6:4,7:r,36:6,50:i},t([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],a,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:o,6:28,9:14,10:16,11:18,14:c,15:u,17:l,20:h,22:f,23:p,24:d,25:y,26:m,27:b,30:29,31:_,33:v,35:x,36:6,41:k,42:w,43:E,44:T,47:C,50:i},{38:39,39:[1,40],53:S},t([39,53],[2,44]),t(A,[2,6]),{6:28,10:42,11:18,14:c,15:u,17:l,20:h,22:f,23:p,24:d,25:y,26:m,27:b,30:29,31:_,33:v,35:x,36:6,41:k,42:w,43:E,44:T,47:C,50:i},t(A,[2,8]),t(A,[2,9]),t(A,[2,10],{12:[1,43],13:[1,44]}),t(A,[2,14]),{16:[1,45]},t(A,[2,16],{18:[1,46]}),{21:[1,47]},t(A,[2,20]),t(A,[2,21]),t(A,[2,22]),t(A,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},t(A,[2,26]),t(A,[2,27]),{32:[1,52]},{34:[1,53]},t(A,[2,30]),t(M,[2,39]),t(M,[2,40]),t(A,[2,33]),t(A,[2,34]),t(A,[2,35]),t(A,[2,36]),t(N,[2,31]),{40:54,52:[1,55]},t(N,[2,46]),t(A,[2,7]),t(A,[2,11]),{11:56,22:f,47:C},t(A,[2,15]),t(D,a,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},t(A,[2,28]),t(A,[2,29]),{38:61,53:S},{53:[2,45]},t(A,[2,12],{12:[1,62]}),{4:s,5:o,6:28,9:14,10:16,11:18,14:c,15:u,17:l,19:[1,63],20:h,22:f,23:p,24:d,25:y,26:m,27:b,30:29,31:_,33:v,35:x,36:6,41:k,42:w,43:E,44:T,47:C,50:i},t(A,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},t(N,[2,32]),t(A,[2,13]),t(A,[2,17]),t(D,a,{8:67}),t(A,[2,24]),t(A,[2,25]),{4:s,5:o,6:28,9:14,10:16,11:18,14:c,15:u,17:l,19:[1,68],20:h,22:f,23:p,24:d,25:y,26:m,27:b,30:29,31:_,33:v,35:x,36:6,41:k,42:w,43:E,44:T,47:C,50:i},t(A,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],o=[null],c=[],l=this.table,h="",f=0,d=0,y=2,m=1,q=c.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;c.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=r.pop()||_.lex()||m)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=n[n.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=l[C]&&l[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],l[C])this.terminals_[M]&&M>y&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(f+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(f+1)+": Unexpected "+(T==m?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:n.push(T),o.push(_.yytext),c.push(_.yylloc),n.push(S[1]),T=null,d=_.yyleng,h=_.yytext,f=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=o[o.length-N],L._$={first_line:c[c.length-(N||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(N||1)].first_column,last_column:c[c.length-1].last_column},w&&(L._$.range=[c[c.length-(N||1)].range[0],c[c.length-1].range[1]]),typeof(A=this.performAction.apply(L,[h,d,f,v.yy,S[1],o,c].concat(q)))<"u")return A;N&&(n=n.slice(0,-1*N*2),o=o.slice(0,-1*N),c=c.slice(0,-1*N)),n.push(this.productions_[S[1]][0]),o.push(L.$),c.push(L._$),D=l[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},L={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var c in o)this[c]=o[c];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),c=0;c<o.length;c++)if((n=this._input.match(this.rules[o[c]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=c,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[c])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:case 33:return 41;case 1:case 34:return 42;case 2:case 35:return 43;case 3:case 36:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:case 10:case 12:case 13:case 14:case 15:case 46:case 52:break;case 11:case 66:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 24:case 40:case 43:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:case 30:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),23;case 28:case 31:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),24;case 29:case 32:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),25;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:case 54:return this.popState(),"ID";case 41:return"STATE_DESCR";case 42:return 17;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 53:return"NOTE_TEXT";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),e.yytext=e.yytext.substr(2).trim(),29;case 57:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),29;case 58:case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return e.yytext=e.yytext.trim(),12;case 64:return 13;case 65:return 26;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};function B(){this.yy={}}return O.lexer=L,B.prototype=O,O.Parser=B,new B}();KV.parser=KV;const JV=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*stateDiagram/)},tG=(t,e)=>{var n;return!!(null!==t.match(/^\s*stateDiagram-v2/)||t.match(/^\s*stateDiagram/)&&"dagre-wrapper"===(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer))},eG=t=>JSON.parse(JSON.stringify(t));let nG=[];const rG=(t,e,n)=>{if("relation"===e.stmt)rG(t,e.state1,!0),rG(t,e.state2,!1);else if("state"===e.stmt&&"[*]"===e.id&&(e.id=n?t.id+"_start":t.id+"_end",e.start=n),e.doc){const t=[];let i=0,a=[];for(i=0;i<e.doc.length;i++)if("divider"===e.doc[i].type){const s=eG(e.doc[i]);s.doc=eG(a),t.push(s),a=[]}else a.push(e.doc[i]);if(t.length>0&&a.length>0){const s={stmt:"state",id:SS(),type:"divider",doc:eG(a)};t.push(eG(s)),e.doc=t}e.doc.forEach((s=>rG(e,s,!0)))}};let iG={root:{relations:[],states:{},documents:{}}},aG=iG.root,oG=0;const sG=function(t,e,n,r,i){typeof aG.states[t]>"u"?aG.states[t]={id:t,descriptions:[],type:e,doc:n,note:i}:(aG.states[t].doc||(aG.states[t].doc=n),aG.states[t].type||(aG.states[t].type=e)),r&&(v.info("Adding state ",t,r),"string"==typeof r&&uG(t,r.trim()),"object"==typeof r&&r.forEach((a=>uG(t,a.trim())))),i&&(aG.states[t].note=i,aG.states[t].note.text=OE.sanitizeText(aG.states[t].note.text,OA()))},cG=function(t){iG={root:{relations:[],states:{},documents:{}}},aG=iG.root,aG=iG.root,oG=0,fG=[],t||yM()},lG=function(t,e,n){let r=t,i=e,a="default",s="default";"[*]"===t&&(oG++,r="start"+oG,a="start"),"[*]"===e&&(i="end"+oG,s="end"),sG(r,a),sG(i,s),aG.relations.push({id1:r,id2:i,title:OE.sanitizeText(n,OA())})},uG=function(t,e){const n=aG.states[t];let r=e;":"===r[0]&&(r=r.substr(1).trim()),n.descriptions.push(OE.sanitizeText(r,OA()))};let hG=0;let fG=[];let dG="TB";const pG={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().state,addState:sG,clear:cG,getState:function(t){return aG.states[t]},getStates:function(){return aG.states},getRelations:function(){return aG.relations},getClasses:()=>fG,getDirection:()=>dG,addRelation:lG,getDividerId:()=>(hG++,"divider-id-"+hG),setDirection:t=>{dG=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){v.info("Documents = ",iG)},getRootDoc:()=>nG,setRootDoc:t=>{v.info("Setting root doc",t),nG=t},getRootDocV2:()=>(rG({id:"root"},{id:"root",doc:nG},!0),{id:"root",doc:nG}),extract:t=>{let e;e=t.doc?t.doc:t,v.info(e),cG(!0),v.info("Extract",e),e.forEach((t=>{"state"===t.stmt&&sG(t.id,t.type,t.doc,t.description,t.note),"relation"===t.stmt&&lG(t.state1.id,t.state2.id,t.description)}))},trimColon:t=>t&&":"===t[0]?t.substr(1).trim():t.trim(),getAccTitle:bM,setAccTitle:mM,getAccDescription:vM,setAccDescription:_M},gG=(t,e)=>{const i=t.append("text").attr("x",2*OA().state.padding).attr("y",OA().state.textHeight+1.3*OA().state.padding).attr("font-size",OA().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",OA().state.padding).attr("y",a+.4*OA().state.padding+OA().state.dividerMargin+OA().state.textHeight).attr("class","state-description");let n=!0,r=!0;e.descriptions.forEach((function(t){n||(function(t,p,e){const n=t.append("tspan").attr("x",2*OA().state.padding).text(p);e||n.attr("dy",OA().state.textHeight)}(s,t,r),r=!1),n=!1}));const u=t.append("line").attr("x1",OA().state.padding).attr("y1",OA().state.padding+a+OA().state.dividerMargin/2).attr("y2",OA().state.padding+a+OA().state.dividerMargin/2).attr("class","descr-divider"),o=s.node().getBBox(),c=Math.max(o.width,i.width);return u.attr("x2",c+3*OA().state.padding),t.insert("rect",":first-child").attr("x",OA().state.padding).attr("y",OA().state.padding).attr("width",c+2*OA().state.padding).attr("height",o.height+a+2*OA().state.padding).attr("rx",OA().state.radius),t},yG=(t,e,n)=>{const r=OA().state.padding,i=2*OA().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,c=t.append("text").attr("x",0).attr("y",OA().state.titleShift).attr("font-size",OA().state.fontSize).attr("class","state-title").text(e.id),l=c.node().getBBox().width+i;let h,f=Math.max(l,s);f===s&&(f+=i);const p=t.node().getBBox();e.doc,h=o-r,l>s&&(h=(s-f)/2+r),Math.abs(o-p.x)<r&&l>s&&(h=o-(l-s)/2);const d=1-OA().state.textHeight;return t.insert("rect",":first-child").attr("x",h).attr("y",d).attr("class",n?"alt-composit":"composit").attr("width",f).attr("height",p.height+OA().state.textHeight+OA().state.titleShift+1).attr("rx","0"),c.attr("x",h+r),l<=s&&c.attr("x",o+(f-i)/2-l/2+r),t.insert("rect",":first-child").attr("x",h).attr("y",OA().state.titleShift-OA().state.textHeight-OA().state.padding).attr("width",f).attr("height",3*OA().state.textHeight).attr("rx",OA().state.radius),t.insert("rect",":first-child").attr("x",h).attr("y",OA().state.titleShift-OA().state.textHeight-OA().state.padding).attr("width",f).attr("height",p.height+3+2*OA().state.textHeight).attr("rx",OA().state.radius),t},mG=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",OA().state.padding),r=e.append("g"),{textWidth:i,textHeight:a}=((t,e,n,r)=>{let i=0;const a=r.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(OE.lineBreakRegex);let c=1.25*OA().state.noteMargin;for(const u of o){const t=u.trim();if(t.length>0){const r=a.append("tspan");r.text(t),0===c&&(c+=r.node().getBBox().height),i+=c,r.attr("x",e+OA().state.noteMargin),r.attr("y",n+i+1.25*OA().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}})(t,0,0,r);return n.attr("height",a+2*OA().state.noteMargin),n.attr("width",i+2*OA().state.noteMargin),n},bG=function(t,e){const n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&(t=>{t.append("circle").attr("class","start-state").attr("r",OA().state.sizeUnit).attr("cx",OA().state.padding+OA().state.sizeUnit).attr("cy",OA().state.padding+OA().state.sizeUnit)})(i),"end"===e.type&&(t=>{t.append("circle").attr("class","end-state-outer").attr("r",OA().state.sizeUnit+OA().state.miniPadding).attr("cx",OA().state.padding+OA().state.sizeUnit+OA().state.miniPadding).attr("cy",OA().state.padding+OA().state.sizeUnit+OA().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",OA().state.sizeUnit).attr("cx",OA().state.padding+OA().state.sizeUnit+2).attr("cy",OA().state.padding+OA().state.sizeUnit+2)})(i),("fork"===e.type||"join"===e.type)&&((t,e)=>{let n=OA().state.forkWidth,r=OA().state.forkHeight;if(e.parentId){let i=n;n=r,r=i}t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",OA().state.padding).attr("y",OA().state.padding)})(i,e),"note"===e.type&&mG(e.note.text,i),"divider"===e.type&&(t=>{t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",OA().state.textHeight).attr("class","divider").attr("x2",2*OA().state.textHeight).attr("y1",0).attr("y2",0)})(i),"default"===e.type&&0===e.descriptions.length&&((t,e)=>{const n=t.append("text").attr("x",2*OA().state.padding).attr("y",OA().state.textHeight+2*OA().state.padding).attr("font-size",OA().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();t.insert("rect",":first-child").attr("x",OA().state.padding).attr("y",OA().state.padding).attr("width",r.width+2*OA().state.padding).attr("height",r.height+2*OA().state.padding).attr("rx",OA().state.radius)})(i,e),"default"===e.type&&e.descriptions.length>0&&gG(i,e);const a=i.node().getBBox();return r.width=a.width+2*OA().state.padding,r.height=a.height+2*OA().state.padding,r};let _G=0;let vG;const xG={},kG=t=>t?t.length*vG.fontSizeFactor:1,wG=(t,e,n,r,i,a,s)=>{const o=new Tj.Graph({compound:!0,multigraph:!0});let c,u=!0;for(c=0;c<t.length;c++)if("relation"===t[c].stmt){u=!1;break}n?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:vG.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:vG.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel((function(){return{}})),s.db.extract(t);const l=s.db.getStates(),h=s.db.getRelations(),f=Object.keys(l);for(let b=0;b<f.length;b++){const t=l[f[b]];let c;if(n&&(t.parentId=n),t.doc){let n=e.append("g").attr("id",t.id).attr("class","stateGroup");c=wG(t.doc,n,t.id,!r,i,a,s);{n=yG(n,t,r);let e=n.node().getBBox();c.width=e.width,c.height=e.height+vG.padding/2,xG[t.id]={y:vG.compositTitleSize}}}else c=bG(e,t);if(t.note){const n={descriptions:[],id:t.id+"-note",note:t.note,type:"note"},r=bG(e,n);"left of"===t.note.position?(o.setNode(c.id+"-note",r),o.setNode(c.id,c)):(o.setNode(c.id,c),o.setNode(c.id+"-note",r)),o.setParent(c.id,c.id+"-group"),o.setParent(c.id+"-note",c.id+"-group")}else o.setNode(c.id,c)}v.debug("Count=",o.nodeCount(),o);let p=0;h.forEach((function(b){p++,v.debug("Setting edge",b),o.setEdge(b.id1,b.id2,{relation:b,width:kG(b.title),height:vG.labelHeight*OE.getRows(b.title).length,labelpos:"c"},"id"+p)})),TU.layout(o),v.debug("Graph after layout",o.nodes());const d=e.node();o.nodes().forEach((function(b){typeof b<"u"&&typeof o.node(b)<"u"?(v.warn("Node "+b+": "+JSON.stringify(o.node(b))),i.select("#"+d.id+" #"+b).attr("transform","translate("+(o.node(b).x-o.node(b).width/2)+","+(o.node(b).y+(xG[b]?xG[b].y:0)-o.node(b).height/2)+" )"),i.select("#"+d.id+" #"+b).attr("data-x-shift",o.node(b).x-o.node(b).width/2),a.querySelectorAll("#"+d.id+" #"+b+" .divider").forEach((t=>{const e=t.parentElement;let n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),r=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(r)&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)}))):v.debug("No Node "+b+": "+JSON.stringify(o.node(b)))}));let y=d.getBBox();o.edges().forEach((function(b){typeof b<"u"&&typeof o.edge(b)<"u"&&(v.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(o.edge(b))),function(t,e,n){e.points=e.points.filter((t=>!Number.isNaN(t.y)));const i=e.points,a=Ex().x((function(t){return t.x})).y((function(t){return t.y})).curve(vk),s=t.append("path").attr("d",a(i)).attr("id","edge"+_G).attr("class","transition");let r="";if(OA().state.arrowMarkerAbsolute&&(r=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,r=r.replace(/\(/g,"\\("),r=r.replace(/\)/g,"\\)")),s.attr("marker-end","url("+r+"#"+function(t){switch(t){case pG.relationType.AGGREGATION:return"aggregation";case pG.relationType.EXTENSION:return"extension";case pG.relationType.COMPOSITION:return"composition";case pG.relationType.DEPENDENCY:return"dependency"}}(pG.relationType.DEPENDENCY)+"End)"),typeof n.title<"u"){const r=t.append("g").attr("class","stateLabel"),{x:u,y:o}=$S.calcLabelPosition(e.points),c=OE.getRows(n.title);let l=0;const p=[];let h=0,f=0;for(let t=0;t<=c.length;t++){const e=r.append("text").attr("text-anchor","middle").text(c[t]).attr("x",u).attr("y",o+l),n=e.node().getBBox();h=Math.max(h,n.width),f=Math.min(f,n.x),v.info(n.x,u,o+l),0===l&&(l=e.node().getBBox().height,v.info("Title height",l,o)),p.push(e)}let d=l*c.length;if(c.length>1){const t=(c.length-1)*l*.5;p.forEach(((e,n)=>e.attr("y",o+n*l-t))),d=l*c.length}const b=r.node().getBBox();r.insert("rect",":first-child").attr("class","box").attr("x",u-h/2-OA().state.padding/2).attr("y",o-d/2-OA().state.padding/2-3.5).attr("width",h+OA().state.padding).attr("height",d+OA().state.padding),v.info(b)}_G++}(e,o.edge(b),o.edge(b).relation))})),y=d.getBBox();const m={id:n||"root",label:n||"root",width:0,height:0};return m.width=y.width+2*vG.padding,m.height=y.height+2*vG.padding,v.debug("Doc rendered",m,o),m},EG={setConf:function(){},draw:function(t,e,n,r){vG=OA().state;const i=OA().securityLevel;let a;"sandbox"===i&&(a=Nn("#i"+e));const s=Nn("sandbox"===i?a.nodes()[0].contentDocument.body:"body"),o="sandbox"===i?a.nodes()[0].contentDocument:document;v.debug("Rendering diagram "+t);const c=s.select(`[id='${e}']`);(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")})(c),new Tj.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));const l=r.db.getRootDoc();wG(l,c,void 0,!1,s,o,r);const h=vG.padding,f=c.node().getBBox(),p=f.width+2*h,d=f.height+2*h;$A(c,0,1.75*p,vG.useMaxWidth),c.attr("viewBox",`${f.x-vG.padding}  ${f.y-vG.padding} `+p+" "+d),zM(r.db,c,e)}},TG={};let CG={};const SG=(t,e,n,r)=>{if("root"!==n.id){let i="rect";!0===n.start&&(i="start"),!1===n.start&&(i="end"),"default"!==n.type&&(i=n.type),CG[n.id]||(CG[n.id]={id:n.id,shape:i,description:OE.sanitizeText(n.id,OA()),classes:"statediagram-state"}),n.description&&(Array.isArray(CG[n.id].description)?(CG[n.id].shape="rectWithTitle",CG[n.id].description.push(n.description)):CG[n.id].description.length>0?(CG[n.id].shape="rectWithTitle",CG[n.id].description===n.id?CG[n.id].description=[n.description]:CG[n.id].description=[CG[n.id].description,n.description]):(CG[n.id].shape="rect",CG[n.id].description=n.description),CG[n.id].description=OE.sanitizeTextOrArray(CG[n.id].description,OA())),1===CG[n.id].description.length&&"rectWithTitle"===CG[n.id].shape&&(CG[n.id].shape="rect"),!CG[n.id].type&&n.doc&&(v.info("Setting cluster for ",n.id,NG(n)),CG[n.id].type="group",CG[n.id].dir=NG(n),CG[n.id].shape="divider"===n.type?"divider":"roundedWithTitle",CG[n.id].classes=CG[n.id].classes+" "+(r?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));const a={labelStyle:"",shape:CG[n.id].shape,labelText:CG[n.id].description,classes:CG[n.id].classes,style:"",id:n.id,dir:CG[n.id].dir,domId:"state-"+n.id+"-"+AG,type:CG[n.id].type,padding:15};if(n.note){const s={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+AG,domId:"state-"+n.id+"----note-"+AG,type:CG[n.id].type,padding:15},e={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:CG[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+AG,type:"group",padding:0};AG++,t.setNode(n.id+"----parent",e),t.setNode(s.id,s),t.setNode(n.id,a),t.setParent(n.id,n.id+"----parent"),t.setParent(s.id,n.id+"----parent");let r=n.id,u=s.id;"left of"===n.note.position&&(r=s.id,u=n.id),t.setEdge(r,u,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else t.setNode(n.id,a)}e&&"root"!==e.id&&(v.trace("Setting node ",n.id," to be child of its parent ",e.id),t.setParent(n.id,e.id)),n.doc&&(v.trace("Adding nodes children "),MG(t,n,n.doc,!r))};let AG=0;const MG=(t,e,n,r)=>{v.trace("items",n),n.forEach((i=>{if("state"===i.stmt||"default"===i.stmt)SG(t,e,i,r);else if("relation"===i.stmt){SG(t,e,i.state1,r),SG(t,e,i.state2,r);const a={id:"edge"+AG,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:OE.sanitizeText(i.description,OA()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"};let s=i.state1.id,n=i.state2.id;t.setEdge(s,n,a,AG),AG++}}))},NG=(t,e)=>{let n=e||"TB";if(t.doc)for(let e=0;e<t.doc.length;e++){const i=t.doc[e];"dir"===i.stmt&&(n=i.value)}return n},DG={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)TG[e[n]]=t[e[n]]},getClasses:function(t,e){return v.trace("Extracting classes"),e.sb.clear(),e.parser.parse(t),e.sb.getClasses()},draw:function(t,e,n,r){v.info("Drawing state diagram (v2)",e),CG={},r.db.getDirection();const{securityLevel:i,state:a}=OA(),s=a.nodeSpacing||50,o=a.rankSpacing||50;v.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),v.info(r.db.getRootDocV2());const c=new Tj.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:NG(r.db.getRootDocV2()),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let u;SG(c,void 0,r.db.getRootDocV2(),!0),"sandbox"===i&&(u=Nn("#i"+e));const l=Nn("sandbox"===i?u.nodes()[0].contentDocument.body:"body"),h=l.select(`[id="${e}"]`),f=l.select("#"+e+" g");gW(f,c,["barb"],"statediagram",e);const d=h.node().getBBox(),y=d.width+16,m=d.height+16;h.attr("class","statediagram");const b=h.node().getBBox();$A(h,0,y,a.useMaxWidth);const _=`${b.x-8} ${b.y-8} ${y} ${m}`;v.debug(`viewBox ${_}`),h.attr("viewBox",_);const x=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let t=0;t<x.length;t++){const e=x[t],n=e.getBBox(),r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",n.width),r.setAttribute("height",n.height),e.insertBefore(r,e.firstChild)}zM(r.db,h,e)}};var OG=function(){var t=function(t,e,b,n){for(b=b||{},n=t.length;n--;b[t[n]]=e);return b},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],a=[1,16],s=[1,17],o=[1,18],c=[1,19],u=[1,20],l=[1,24],h=[4,6,9,11,17,18,20,22,23,24,26],f={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,b,e,n,r,o,c){var l=o.length-1;switch(r){case 1:return o[l-1];case 3:case 7:case 8:this.$=[];break;case 4:o[l-1].push(o[l]),this.$=o[l-1];break;case 5:case 6:this.$=o[l];break;case 11:n.setDiagramTitle(o[l].substr(6)),this.$=o[l].substr(6);break;case 12:this.$=o[l].trim(),n.setAccTitle(this.$);break;case 13:case 14:this.$=o[l].trim(),n.setAccDescription(this.$);break;case 15:n.addSection(o[l].substr(8)),this.$=o[l].substr(8);break;case 16:n.addTask(o[l-1],o[l]),this.$="task";break;case 18:n.parseDirective("%%{","open_directive");break;case 19:n.parseDirective(o[l],"type_directive");break;case 20:o[l]=o[l].trim().replace(/'/g,'"'),n.parseDirective(o[l],"arg_directive");break;case 21:n.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:a,20:s,22:o,23:c,24:u,26:n},{1:[2,2]},{14:22,15:[1,23],29:l},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:a,20:s,22:o,23:c,24:u,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(h,[2,9]),{14:32,29:l},{29:[2,20]},{11:[1,33]},t(h,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,b){if(!b.recoverable){var e=new Error(t);throw e.hash=b,e}this.trace(t)},parse:function(t){var b=this,e=[0],n=[],r=[null],o=[],c=this.table,l="",h=0,f=0,d=2,y=1,m=o.slice.call(arguments,1),_=Object.create(this.lexer),v={yy:{}};for(var x in this.yy)Object.prototype.hasOwnProperty.call(this.yy,x)&&(v.yy[x]=this.yy[x]);_.setInput(t,v.yy),v.yy.lexer=_,v.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var k=_.yylloc;o.push(k);var w=_.options&&_.options.ranges;function E(){var t;return"number"!=typeof(t=n.pop()||_.lex()||y)&&(t instanceof Array&&(t=(n=t).pop()),t=b.symbols_[t]||t),t}"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var T,C,S,A,M,N,D,O,L={};;){if(C=e[e.length-1],this.defaultActions[C]?S=this.defaultActions[C]:((null===T||typeof T>"u")&&(T=E()),S=c[C]&&c[C][T]),typeof S>"u"||!S.length||!S[0]){var B="";for(M in O=[],c[C])this.terminals_[M]&&M>d&&O.push("'"+this.terminals_[M]+"'");B=_.showPosition?"Parse error on line "+(h+1)+":\n"+_.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(T==y?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:_.match,token:this.terminals_[T]||T,line:_.yylineno,loc:k,expected:O})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+T);switch(S[0]){case 1:e.push(T),r.push(_.yytext),o.push(_.yylloc),e.push(S[1]),T=null,f=_.yyleng,l=_.yytext,h=_.yylineno,k=_.yylloc;break;case 2:if(N=this.productions_[S[1]][1],L.$=r[r.length-N],L._$={first_line:o[o.length-(N||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(N||1)].first_column,last_column:o[o.length-1].last_column},w&&(L._$.range=[o[o.length-(N||1)].range[0],o[o.length-1].range[1]]),typeof(A=this.performAction.apply(L,[l,f,h,v.yy,S[1],r,o].concat(m)))<"u")return A;N&&(e=e.slice(0,-1*N*2),r=r.slice(0,-1*N),o=o.slice(0,-1*N)),e.push(this.productions_[S[1]][0]),r.push(L.$),o.push(L._$),D=c[e[e.length-2]][e[e.length-1]],e.push(D);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(b,t){if(!this.yy.parser)throw new Error(b);this.yy.parser.parseError(b,t)},setInput:function(t,b){return this.yy=b||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var b=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===n.length?this.yylloc.first_column:0)+n[n.length-e.length].length-e[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),b=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+b+"^"},test_match:function(t,b){var e,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,b,e,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((e=this._input.match(this.rules[r[o]]))&&(!b||e[0].length>b[0].length)){if(b=e,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,r[o])))return t;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?!1!==(t=this.test_match(b,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){return(b=this.conditionStack.length-1-Math.abs(b||0))>=0?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,t,e,n){switch(e){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function d(){this.yy={}}return f.lexer=p,d.prototype=f,f.Parser=d,new d}();OG.parser=OG;const LG=t=>null!==t.match(/^\s*journey/);let BG="";const IG=[],FG=[],RG=[],PG=function(){const t=function(t){return RG[t].processed};let e=!0;for(let n=0;n<RG.length;n++)t(n),e=e&&RG[n].processed;return e},$G={parseDirective:function(t,e,n){gX.parseDirective(this,t,e,n)},getConfig:()=>OA().journey,clear:function(){IG.length=0,FG.length=0,BG="",RG.length=0,yM()},setDiagramTitle:xM,getDiagramTitle:kM,setAccTitle:mM,getAccTitle:bM,setAccDescription:_M,getAccDescription:vM,addSection:function(t){BG=t,IG.push(t)},getSections:function(){return IG},getTasks:function(){let t=PG();let e=0;for(;!t&&e<100;)t=PG(),e++;return FG.push(...RG),FG},addTask:function(t,e){const n=e.substr(1).split(":");let r=0,i=[];1===n.length?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));const a=i.map((t=>t.trim())),s={section:BG,type:BG,people:a,task:t,score:r};RG.push(s)},addTaskOrg:function(t){const e={section:BG,type:BG,description:t,task:t,classes:[]};FG.push(e)},getActors:function(){return function(){const t=[];return FG.forEach((e=>{e.people&&t.push(...e.people)})),[...new Set(t)].sort()}()}},zG=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),typeof e.class<"u"&&n.attr("class",e.class),n},YG=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),typeof n.class<"u"&&n.attr("class",n.class),typeof e.title<"u"&&n.append("title").text(e.title),n},jG=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),typeof e.class<"u"&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.text(n),r};let UG=-1;const WG=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},qG=function(){function t(i,a,s,t,e,u,n,o){r(a.append("text").attr("x",s+e/2).attr("y",t+u/2+5).style("font-color",o).style("text-anchor","middle").text(i),n)}function e(i,a,s,t,e,u,n,o,c){const{taskFontSize:p,taskFontFamily:l}=o,h=i.split(/<br\s*\/?>/gi);for(let o=0;o<h.length;o++){const b=o*p-p*(h.length-1)/2,f=a.append("text").attr("x",s+e/2).attr("y",t).attr("fill",c).style("text-anchor","middle").style("font-size",p).style("font-family",l);f.append("tspan").attr("x",s+e/2).attr("dy",b).text(h[o]),f.attr("y",t+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(f,n)}}function n(i,a,s,t,n,u,o,c){const l=a.append("switch"),h=l.append("foreignObject").attr("x",s).attr("y",t).attr("width",n).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,l,s,t,n,u,o,c),r(h,o)}function r(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),HG=YG,VG=function(t,e,n){const r=t.append("g"),i=WG();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,zG(r,i),qG(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)},GG=jG,XG=function(t,e,n){const r=e.x+n.width/2,i=t.append("g");UG++;i.append("line").attr("id","task"+UG).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),e.score>3?function(t){const u=mx().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);t.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}(i):e.score<3?function(t){const u=mx().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);t.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}(i):i.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(i,{cx:r,cy:300+30*(5-e.score),score:e.score});const s=WG();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,zG(i,s);let o=e.x+14;e.people.forEach((t=>{const u=e.actors[t].color,n={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:t,pos:e.actors[t].position};YG(i,n),o+=10})),qG(n)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},n,e.colour)},ZG=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},QG={};const KG=OA().journey,JG=KG.leftMargin,tX={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){typeof t[e]>"u"?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=OA().journey,a=this;let s=0;var o;this.sequenceItems.forEach((function(c){s++;const l=a.sequenceItems.length-s+1;a.updateVal(c,"starty",e-l*i.boxMargin,Math.min),a.updateVal(c,"stopy",r+l*i.boxMargin,Math.max),a.updateVal(tX.data,"startx",t-l*i.boxMargin,Math.min),a.updateVal(tX.data,"stopx",n+l*i.boxMargin,Math.max),"activation"!==o&&(a.updateVal(c,"startx",t-l*i.boxMargin,Math.min),a.updateVal(c,"stopx",n+l*i.boxMargin,Math.max),a.updateVal(tX.data,"starty",e-l*i.boxMargin,Math.min),a.updateVal(tX.data,"stopy",r+l*i.boxMargin,Math.max))}))},insert:function(t,e,n,r){const i=Math.min(t,n),a=Math.max(t,n),s=Math.min(e,r),o=Math.max(e,r);this.updateVal(tX.data,"startx",i,Math.min),this.updateVal(tX.data,"starty",s,Math.min),this.updateVal(tX.data,"stopx",a,Math.max),this.updateVal(tX.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},eX=KG.sectionFills,nX=KG.sectionColours,rX=function(t,e,n){const r=OA().journey;let i="";const s=n+(2*r.height+r.diagramMarginY);let o=0,c="#CCC",u="black",l=0;for(let n=0;n<e.length;n++){const h=e[n];if(i!==h.section){c=eX[o%eX.length],l=o%eX.length,u=nX[o%nX.length];const e={x:n*r.taskMargin+n*r.width+JG,y:50,text:h.section,fill:c,num:l,colour:u};VG(t,e,r),i=h.section,o++}const p=h.people.reduce(((t,e)=>(QG[e]&&(t[e]=QG[e]),t)),{});h.x=n*r.taskMargin+n*r.width+JG,h.y=s,h.width=r.diagramMarginX,h.height=r.diagramMarginY,h.colour=u,h.fill=c,h.num=l,h.actors=p,XG(t,h,r),tX.insert(h.x,h.y,h.x+h.width+r.taskMargin,450)}},iX={setConf:function(t){Object.keys(t).forEach((function(e){KG[e]=t[e]}))},draw:function(t,e,n,r){const i=OA().journey;r.db.clear(),r.parser.parse(t+"\n");const a=OA().securityLevel;let s;"sandbox"===a&&(s=Nn("#i"+e));const o=Nn("sandbox"===a?s.nodes()[0].contentDocument.body:"body");tX.init();const c=o.select("#"+e);ZG(c);const u=r.db.getTasks(),l=r.db.getDiagramTitle(),h=r.db.getActors();for(const b in QG)delete QG[b];let f=0;h.forEach((b=>{QG[b]={color:i.actorColours[f%i.actorColours.length],position:f},f++})),function(t){const e=OA().journey;let n=60;Object.keys(QG).forEach((r=>{const i=QG[r].color,a={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:QG[r].position};HG(t,a);const s={x:40,y:n+7,fill:"#666",text:r,textMargin:5|e.boxTextMargin};GG(t,s),n+=20}))}(c),tX.insert(0,0,JG,50*Object.keys(QG).length),rX(c,u,0);const p=tX.getBounds();l&&c.append("text").text(l).attr("x",JG).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const d=p.stopy-p.starty+2*i.diagramMarginY,y=JG+p.stopx+2*i.diagramMarginX;$A(c,0,y,i.useMaxWidth),c.append("line").attr("x1",JG).attr("y1",4*i.height).attr("x2",y-JG-4).attr("y2",4*i.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const m=l?70:0;c.attr("viewBox",`${p.startx} -25 ${y} ${d+m}`),c.attr("preserveAspectRatio","xMinYMin meet"),c.attr("height",d+m+25),zM(r.db,c,e)}};let aX={};const oX={setConf:function(t){aX={...aX,...t}},draw:(t,e,n)=>{try{v.debug("Renering svg for syntax error\n");const t=Nn("#"+e),i=t.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),t.attr("height",100),t.attr("width",500),t.attr("viewBox","768 0 912 512")}catch(t){v.error("Error while rendering info diagram"),v.error(function(t){return t instanceof Error?t.message:String(t)}(t))}}};let sX=!1;const cX=()=>{sX||(sX=!0,sM("error",{db:{clear:()=>{}},styles:UA,renderer:oX,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},(t=>"error"===t.toLowerCase().trim())),sM("c4",{parser:nN,db:mN,renderer:ZN,styles:KA,init:t=>{ZN.setConf(t.c4)}},rN),sM("class",{parser:QN,db:pD,renderer:RU,styles:YA,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,pD.clear()}},KN),sM("classDiagram",{parser:QN,db:pD,renderer:bW,styles:YA,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,pD.clear()}},JN),sM("er",{parser:_W,db:EW,renderer:YW,styles:jA},vW),sM("gantt",{parser:Pq,db:yH,renderer:_H,styles:qA},$q),sM("info",{parser:vH,db:wH,renderer:EH,styles:HA},TH),sM("pie",{parser:CH,db:NH,renderer:BH,styles:VA},SH),sM("requirement",{parser:IH,db:jH,renderer:JH,styles:GA},FH),sM("sequence",{parser:tV,db:_V,renderer:QV,styles:XA,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");_V.setWrap(t.wrap),QV.setConf(t.sequence)}},eV),sM("state",{parser:KV,db:pG,renderer:EG,styles:ZA,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,pG.clear()}},JV),sM("stateDiagram",{parser:KV,db:pG,renderer:DG,styles:ZA,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,pG.clear()}},tG),sM("journey",{parser:OG,db:$G,renderer:iX,styles:QA,init:t=>{iX.setConf(t.journey),$G.clear()}},LG),sM("flowchart",{parser:jW,db:gq,renderer:Rq,styles:WA,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Oq(t.flowchart),gq.clear(),gq.setGen("gen-1")}},UW),sM("flowchart-v2",{parser:jW,db:gq,renderer:Rq,styles:WA,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,DA({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),Rq.setConf(t.flowchart),gq.clear(),gq.setGen("gen-2")}},WW),sM("gitGraph",{parser:uM,db:$M,renderer:tN,styles:eN},hM))};class lX{constructor(t,e){var a,s;o(this,"type","graph"),o(this,"parser"),o(this,"renderer"),o(this,"db"),o(this,"detectTypeFailed",!1),this.txt=t;const n=OA();this.txt=t;try{this.type=kT(t,n)}catch(t){this.handleError(t,e),this.type="error",this.detectTypeFailed=!0}const i=cM(this.type);v.debug("Type "+this.type),this.db=i.db,null==(s=(a=this.db).clear)||s.call(a),this.renderer=i.renderer,this.parser=i.parser,this.parser.parser.yy=this.db,i.init&&(i.init(n),v.debug("Initialized diagram "+this.type,n)),this.txt+="\n",this.parse(this.txt,e)}parse(t,e){if(this.detectTypeFailed)return!1;try{return t+="\n",this.db.clear(),this.parser.parse(t),!0}catch(t){this.handleError(t,e)}return!1}handleError(t,e){if(!e)throw t;PS(t)?e(t.str,t.hash):e(t)}getParser(){return this.parser}getType(){return this.type}}const uX=(t,e)=>{const n=kT(t,OA());try{return cM(n),new lX(t,e)}catch(r){if(!(r instanceof lM))throw v.error(r),r;const i=(t=>xT[t].loader)(n);if(!i)throw new Error(`Loader for ${n} not found.`);return i().then((({diagram:a})=>(sM(n,a,void 0),new lX(t,e))))}};const hX=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/#\w+;/g,(function(t){const e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?""+e+"":""+e+""})),e},fX=function(t){let e=t;return e=e.replace(//g,(function(){return"&#"})),e=e.replace(//g,(function(){return"&"})),e=e.replace(//g,(function(){return";"})),e};let dX={};const pX=function(t,e,n){switch(v.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":["config"].forEach((t=>{typeof e.args[t]<"u"&&("flowchart-v2"===n&&(n="flowchart"),e.args[n]=e.args[t],delete e.args[t])})),v.debug("sanitize in handleDirective",e.args),FS(e.args),v.debug("sanitize in handleDirective (done)",e.args),BA(e.args);break;case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap("wrap"===e.type);break;case"themeCss":v.warn("themeCss encountered");break;default:v.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e)}};const gX=Object.freeze({render:function(t,e,n,r){var o;cX(),IA(),e=e.replace(/\r\n?/g,"\n");const i=$S.detectInit(e);i&&(FS(i),BA(i));const a=OA();v.debug(a),e.length>a.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let c,l,s=Nn("body");if(typeof r<"u"){if(r&&(r.innerHTML=""),"sandbox"===a.securityLevel){const e=Nn(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");s=Nn(e.nodes()[0].contentDocument.body),s.node().style.margin=0}else s=Nn(r);s.append("div").attr("id","d"+t).attr("style","font-family: "+a.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const e=document.getElementById(t);let n;if(e&&e.remove(),n="sandbox"===a.securityLevel?document.querySelector("#i"+t):document.querySelector("#d"+t),n&&n.remove(),"sandbox"===a.securityLevel){const e=Nn("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");s=Nn(e.nodes()[0].contentDocument.body),s.node().style.margin=0}else s=Nn("body");s.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=hX(e);try{if(c=uX(e),"then"in c)throw new Error("Diagram is a promise")}catch(_){c=new lX("error"),l=_}const u=s.select("#d"+t).node(),h=c.type,f=u.firstChild,d=f.firstChild;let p="";if(void 0!==a.themeCSS&&(p+=`\n${a.themeCSS}`),void 0!==a.fontFamily&&(p+=`\n:root { --mermaid-font-family: ${a.fontFamily}}`),void 0!==a.altFontFamily&&(p+=`\n:root { --mermaid-alt-font-family: ${a.altFontFamily}}`),"flowchart"===h||"flowchart-v2"===h||"graph"===h){const t=Lq(e,c),n=a.htmlLabels||(null==(o=a.flowchart)?void 0:o.htmlLabels);for(const e in t)n?(p+=`\n.${e} > * { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} span { ${t[e].styles.join(" !important; ")} !important; }`):(p+=`\n.${e} path { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} rect { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} polygon { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} ellipse { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} circle { ${t[e].styles.join(" !important; ")} !important; }`,t[e].textStyles&&(p+=`\n.${e} tspan { ${t[e].textStyles.join(" !important; ")} !important; }`))}const y=(_=`#${t}`,x=tM(h,p,a.themeVariables),xA(yA(`${_}{${x}}`),kA)),m=document.createElement("style");var _,x;m.innerHTML=`#${t} `+y,f.insertBefore(m,d);try{c.renderer.draw(e,t,wA,c)}catch(_){throw oX.draw(e,t,wA),_}s.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let b=s.select("#d"+t).node().innerHTML;if(v.debug("cnf.arrowMarkerAbsolute",a.arrowMarkerAbsolute),!NE(a.arrowMarkerAbsolute)&&"sandbox"!==a.securityLevel&&(b=b.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),b=fX(b),b=b.replace(/<br>/g,"<br/>"),"sandbox"===a.securityLevel){const e=s.select("#d"+t+" svg").node(),n="100%";let r="100%";e&&(r=e.viewBox.baseVal.height+"px"),b=`<iframe style="width:${n};height:${r};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+b+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>`}else"loose"!==a.securityLevel&&(b=EE.sanitize(b,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof n<"u")switch(h){case"flowchart":case"flowchart-v2":n(b,gq.bindFunctions);break;case"gantt":n(b,yH.bindFunctions);break;case"class":case"classDiagram":n(b,pD.bindFunctions);break;default:n(b)}else v.debug("CB = undefined!");xV();const k=Nn("sandbox"===a.securityLevel?"#i"+t:"#d"+t).node();if(k&&"remove"in k&&k.remove(),l)throw l;return b},renderAsync:async function(t,e,n,r){var o;cX(),IA(),e=e.replace(/\r\n?/g,"\n");const i=$S.detectInit(e);i&&(FS(i),BA(i));const a=OA();v.debug(a),e.length>a.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let c,l,s=Nn("body");if(typeof r<"u"){if(r&&(r.innerHTML=""),"sandbox"===a.securityLevel){const e=Nn(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");s=Nn(e.nodes()[0].contentDocument.body),s.node().style.margin=0}else s=Nn(r);s.append("div").attr("id","d"+t).attr("style","font-family: "+a.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const e=document.getElementById(t);let n;if(e&&e.remove(),n="sandbox"===a.securityLevel?document.querySelector("#i"+t):document.querySelector("#d"+t),n&&n.remove(),"sandbox"===a.securityLevel){const e=Nn("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");s=Nn(e.nodes()[0].contentDocument.body),s.node().style.margin=0}else s=Nn("body");s.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=hX(e);try{c=await uX(e)}catch(_){c=new lX("error"),l=_}const u=s.select("#d"+t).node(),h=c.type,f=u.firstChild,d=f.firstChild;let p="";if(void 0!==a.themeCSS&&(p+=`\n${a.themeCSS}`),void 0!==a.fontFamily&&(p+=`\n:root { --mermaid-font-family: ${a.fontFamily}}`),void 0!==a.altFontFamily&&(p+=`\n:root { --mermaid-alt-font-family: ${a.altFontFamily}}`),"flowchart"===h||"flowchart-v2"===h||"graph"===h){const t=Lq(e,c),n=a.htmlLabels||(null==(o=a.flowchart)?void 0:o.htmlLabels);for(const e in t)n?(p+=`\n.${e} > * { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} span { ${t[e].styles.join(" !important; ")} !important; }`):(p+=`\n.${e} path { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} rect { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} polygon { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} ellipse { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} circle { ${t[e].styles.join(" !important; ")} !important; }`,t[e].textStyles&&(p+=`\n.${e} tspan { ${t[e].textStyles.join(" !important; ")} !important; }`))}const y=(_=`#${t}`,x=tM(h,p,a.themeVariables),xA(yA(`${_}{${x}}`),kA)),m=document.createElement("style");var _,x;m.innerHTML=`#${t} `+y,f.insertBefore(m,d);try{await c.renderer.draw(e,t,wA,c)}catch(_){throw oX.draw(e,t,wA),_}s.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let b=s.select("#d"+t).node().innerHTML;if(v.debug("cnf.arrowMarkerAbsolute",a.arrowMarkerAbsolute),!NE(a.arrowMarkerAbsolute)&&"sandbox"!==a.securityLevel&&(b=b.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),b=fX(b),b=b.replace(/<br>/g,"<br/>"),"sandbox"===a.securityLevel){const e=s.select("#d"+t+" svg").node(),n="100%";let r="100%";e&&(r=e.viewBox.baseVal.height+"px"),b=`<iframe style="width:${n};height:${r};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+b+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>`}else"loose"!==a.securityLevel&&(b=EE.sanitize(b,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof n<"u")switch(h){case"flowchart":case"flowchart-v2":n(b,gq.bindFunctions);break;case"gantt":n(b,yH.bindFunctions);break;case"class":case"classDiagram":n(b,pD.bindFunctions);break;default:n(b)}else v.debug("CB = undefined!");xV();const k=Nn("sandbox"===a.securityLevel?"#i"+t:"#d"+t).node();if(k&&"remove"in k&&k.remove(),l)throw l;return b},parse:function(t,e){return cX(),new lX(t,e).parse(t,e)},parseAsync:async function(t,e){return cX(),(await uX(t,e)).parse(t,e)},parseDirective:function(t,e,n,r){try{if(void 0!==e)switch(e=e.trim(),n){case"open_directive":dX={};break;case"type_directive":if(!dX)throw new Error("currentDirective is undefined");dX.type=e.toLowerCase();break;case"arg_directive":if(!dX)throw new Error("currentDirective is undefined");dX.args=JSON.parse(e);break;case"close_directive":pX(t,dX,r),dX=void 0}}catch(t){v.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),v.error(t.message)}},initialize:function(t={}){t.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(t=>{TA=ET({},t)})(t),(null==t?void 0:t.theme)&&t.theme in gT?t.themeVariables=gT[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=gT.default.getThemeVariables(t.themeVariables));const e="object"==typeof t?(t=>(CA=ET({},EA),CA=ET(CA,t),t.theme&&gT[t.theme]&&(CA.themeVariables=gT[t.theme].getThemeVariables(t.themeVariables)),MA(CA,SA),CA))(t):NA();x(e.logLevel),cX()},getConfig:OA,setConfig:DA,getSiteConfig:NA,updateSiteConfig:t=>(CA=ET(CA,t),MA(CA,SA),CA),reset:()=>{IA()},globalReset:()=>{IA(EA)},defaultConfig:EA});x(OA().logLevel),IA(OA());let yX=!1;const mX=(t,e,n)=>{v.warn(t),PS(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},bX=function(t,e,n){const r=gX.getConfig();let i;if(t&&(EX.sequenceConfig=t),v.debug((n?"":"No ")+"Callback function found"),typeof e>"u")i=document.querySelectorAll(".mermaid");else if("string"==typeof e)i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");i=e}v.debug(`Found ${i.length} diagrams`),typeof(null==t?void 0:t.startOnLoad)<"u"&&(v.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),gX.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const a=new $S.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const o=[];for(const t of Array.from(i)){if(v.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=t.innerHTML,s=$S.entityDecode(s).trim().replace(/<br\s*\/?>/gi,"<br/>");const e=$S.detectInit(s);e&&v.debug("Detected early reinit: ",e);try{gX.render(u,s,((e,r)=>{t.innerHTML=e,typeof n<"u"&&n(u),r&&r(t)}),t)}catch(t){mX(t,o,EX.parseError)}}if(o.length>0)throw o[0]},_X=async function(t,e,n){const r=gX.getConfig();let i;if(t&&(EX.sequenceConfig=t),v.debug((n?"":"No ")+"Callback function found"),typeof e>"u")i=document.querySelectorAll(".mermaid");else if("string"==typeof e)i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");i=e}v.debug(`Found ${i.length} diagrams`),typeof(null==t?void 0:t.startOnLoad)<"u"&&(v.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),gX.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const a=new $S.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const o=[];for(const t of Array.from(i)){if(v.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=t.innerHTML,s=$S.entityDecode(s).trim().replace(/<br\s*\/?>/gi,"<br/>");const e=$S.detectInit(s);e&&v.debug("Detected early reinit: ",e);try{await gX.renderAsync(u,s,((e,r)=>{t.innerHTML=e,typeof n<"u"&&n(u),r&&r(t)}),t)}catch(t){mX(t,o,EX.parseError)}}if(o.length>0)throw o[0]},vX=function(){if(EX.startOnLoad){const{startOnLoad:t}=gX.getConfig();t&&EX.init()}};typeof document<"u"&&window.addEventListener("load",vX,!1);const xX=[];let kX=!1;const wX=async()=>{if(!kX){for(kX=!0;xX.length>0;){const t=xX.shift();if(t)try{await t()}catch(t){v.error("Error executing queue",t)}}kX=!1}},EX={startOnLoad:!0,diagrams:{},mermaidAPI:gX,parse:t=>gX.parse(t,EX.parseError),parseAsync:t=>new Promise(((e,n)=>{xX.push((()=>new Promise(((i,a)=>{gX.parseAsync(t,EX.parseError).then((s=>{i(s),e(s)}),(s=>{v.error("Error parsing",s),a(s),n(s)}))})))),wX()})),render:gX.render,renderAsync:(t,e,n,r)=>new Promise(((i,a)=>{xX.push((()=>new Promise(((o,c)=>{gX.renderAsync(t,e,n,r).then((u=>{o(u),i(u)}),(u=>{v.error("Error parsing",u),c(u),a(u)}))})))),wX()})),init:async function(t,e,n){try{yX?await _X(t,e,n):bX(t,e,n)}catch(t){v.warn("Syntax Error rendering"),PS(t)&&v.warn(t.str),EX.parseError&&EX.parseError(t)}},initThrowsErrors:bX,initThrowsErrorsAsync:_X,registerExternalDiagrams:async(t,{lazyLoad:e=!0}={})=>{e?(t=>{for(const{id:e,detector:n,loader:r}of t)wT(e,n,r)})(t):await(async t=>{v.debug(`Loading ${t.length} external diagrams`);const e=(await Promise.allSettled(t.map((async({id:t,detector:i,loader:a})=>{const{diagram:s}=await a();sM(t,s,i)})))).filter((t=>"rejected"===t.status));if(e.length>0){v.error(`Failed to load ${e.length} external diagrams`);for(const t of e)v.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}})(t),yX=!0},initialize:function(t){gX.initialize(t)},parseError:void 0,contentLoaded:vX,setParseErrorHandler:function(t){EX.parseError=t}}}}]);